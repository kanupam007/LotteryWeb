(function (n, t) { typeof exports == "object" && typeof module != "undefined" ? module.exports = t() : typeof define == "function" && define.amd ? define(t) : n.Popper = t() })(this, function () { "use strict"; function ei(n) { var t = !1; return function () { t || (t = !0, window.Promise.resolve().then(function () { t = !1; n() })) } } function oi(n) { var t = !1; return function () { t || (t = !0, setTimeout(function () { t = !1; n() }, ot)) } } function ct(n) { return n && {}.toString.call(n) === "[object Function]" } function i(n, t) { if (n.nodeType !== 1) return []; var r = n.ownerDocument.defaultView, i = r.getComputedStyle(n, null); return t ? i[t] : i } function w(n) { return n.nodeName === "HTML" ? n : n.parentNode || n.host } function s(n) { if (!n) return document.body; switch (n.nodeName) { case "HTML": case "BODY": return n.ownerDocument.body; case "#document": return n.body }var t = i(n), r = t.overflow, u = t.overflowX, f = t.overflowY; return /(auto|scroll|overlay)/.test(r + f + u) ? n : s(w(n)) } function r(n) { return n === 11 ? b : n === 10 ? k : b || k } function u(n) { var e, t, f; if (!n) return document.documentElement; for (e = r(10) ? document.body : null, t = n.offsetParent || null; t === e && n.nextElementSibling;)t = (n = n.nextElementSibling).offsetParent; return (f = t && t.nodeName, !f || f === "BODY" || f === "HTML") ? n ? n.ownerDocument.documentElement : document.documentElement : ["TH", "TD", "TABLE"].indexOf(t.nodeName) !== -1 && i(t, "position") === "static" ? u(t) : t } function si(n) { var t = n.nodeName; return t === "BODY" ? !1 : t === "HTML" || u(n.firstElementChild) === n } function d(n) { return n.parentNode !== null ? d(n.parentNode) : n } function l(n, t) { var i, f; if (!n || !n.nodeType || !t || !t.nodeType) return document.documentElement; var e = n.compareDocumentPosition(t) & Node.DOCUMENT_POSITION_FOLLOWING, o = e ? n : t, s = e ? t : n, r = document.createRange(); return (r.setStart(o, 0), r.setEnd(s, 0), i = r.commonAncestorContainer, n !== i && t !== i || o.contains(s)) ? si(i) ? i : u(i) : (f = d(n), f.host ? l(f.host, t) : l(n, d(t).host)) } function f(n) { var f = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "top", t = f === "top" ? "scrollTop" : "scrollLeft", i = n.nodeName, r, u; return i === "BODY" || i === "HTML" ? (r = n.ownerDocument.documentElement, u = n.ownerDocument.scrollingElement || r, u[t]) : n[t] } function hi(n, t) { var e = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1, r = f(t, "top"), u = f(t, "left"), i = e ? -1 : 1; return n.top += r * i, n.bottom += r * i, n.left += u * i, n.right += u * i, n } function lt(n, t) { var i = t === "x" ? "Left" : "Top", r = i === "Left" ? "Right" : "Bottom"; return parseFloat(n["border" + i + "Width"], 10) + parseFloat(n["border" + r + "Width"], 10) } function at(n, t, i, u) { return Math.max(t["offset" + n], t["scroll" + n], i["client" + n], i["offset" + n], i["scroll" + n], r(10) ? parseInt(i["offset" + n]) + parseInt(u["margin" + (n === "Height" ? "Top" : "Left")]) + parseInt(u["margin" + (n === "Height" ? "Bottom" : "Right")]) : 0) } function vt(n) { var i = n.body, t = n.documentElement, u = r(10) && getComputedStyle(t); return { height: at("Height", i, t, u), width: at("Width", i, t, u) } } function t(t) { return n({}, t, { right: t.left + t.width, bottom: t.top + t.height }) } function g(n) { var u = {}, o, s, l; try { r(10) ? (u = n.getBoundingClientRect(), o = f(n, "top"), s = f(n, "left"), u.top += o, u.left += s, u.bottom += o, u.right += s) : u = n.getBoundingClientRect() } catch (p) { } var e = { left: u.left, top: u.top, width: u.right - u.left, height: u.bottom - u.top }, a = n.nodeName === "HTML" ? vt(n.ownerDocument) : {}, v = a.width || n.clientWidth || e.right - e.left, y = a.height || n.clientHeight || e.bottom - e.top, h = n.offsetWidth - v, c = n.offsetHeight - y; return (h || c) && (l = i(n), h -= lt(l, "x"), c -= lt(l, "y"), e.width -= h, e.height -= c), t(e) } function nt(n, u) { var p = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1, w = r(10), b = u.nodeName === "HTML", o = g(n), e = g(u), a = s(n), h = i(u), v = parseFloat(h.borderTopWidth, 10), y = parseFloat(h.borderLeftWidth, 10), f, c, l; return p && b && (e.top = Math.max(e.top, 0), e.left = Math.max(e.left, 0)), f = t({ top: o.top - e.top - v, left: o.left - e.left - y, width: o.width, height: o.height }), f.marginTop = 0, f.marginLeft = 0, !w && b && (c = parseFloat(h.marginTop, 10), l = parseFloat(h.marginLeft, 10), f.top -= v - c, f.bottom -= v - c, f.left -= y - l, f.right -= y - l, f.marginTop = c, f.marginLeft = l), (w && !p ? u.contains(a) : u === a && a.nodeName !== "BODY") && (f = hi(f, u)), f } function ai(n) { var u = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1, i = n.ownerDocument.documentElement, r = nt(n, i), e = Math.max(i.clientWidth, window.innerWidth || 0), o = Math.max(i.clientHeight, window.innerHeight || 0), s = u ? 0 : f(i), h = u ? 0 : f(i, "left"), c = { top: s - r.top + r.marginTop, left: h - r.left + r.marginLeft, width: e, height: o }; return t(c) } function yt(n) { var r = n.nodeName, t; return r === "BODY" || r === "HTML" ? !1 : i(n, "position") === "fixed" ? !0 : (t = w(n), !t) ? !1 : yt(t) } function pt(n) { if (!n || !n.parentElement || r()) return document.documentElement; for (var t = n.parentElement; t && i(t, "transform") === "none";)t = t.parentElement; return t || document.documentElement } function tt(n, t, i, r) { var h = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : !1, u = { top: 0, left: 0 }, c = h ? pt(n) : l(n, t), e, f, o; if (r === "viewport") u = ai(c, h); else if (e = void 0, r === "scrollParent" ? (e = s(w(t)), e.nodeName === "BODY" && (e = n.ownerDocument.documentElement)) : e = r === "window" ? n.ownerDocument.documentElement : r, f = nt(e, c, h), e.nodeName !== "HTML" || yt(c)) u = f; else { var a = vt(n.ownerDocument), v = a.height, y = a.width; u.top += f.top - f.marginTop; u.bottom = v + f.top; u.left += f.left - f.marginLeft; u.right = y + f.left } return i = i || 0, o = typeof i == "number", u.left += o ? i : i.left || 0, u.top += o ? i : i.top || 0, u.right -= o ? i : i.right || 0, u.bottom -= o ? i : i.bottom || 0, u } function vi(n) { var t = n.width, i = n.height; return t * i } function wt(t, i, r, u, f) { var l = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0; if (t.indexOf("auto") === -1) return t; var e = tt(r, u, l, f), o = { top: { width: e.width, height: i.top - e.top }, right: { width: e.right - i.right, height: e.height }, bottom: { width: e.width, height: e.bottom - i.bottom }, left: { width: i.left - e.left, height: e.height } }, s = Object.keys(o).map(function (t) { return n({ key: t }, o[t], { area: vi(o[t]) }) }).sort(function (n, t) { return t.area - n.area }), h = s.filter(function (n) { var t = n.width, i = n.height; return t >= r.clientWidth && i >= r.clientHeight }), a = h.length > 0 ? h[0].key : s[0].key, c = t.split("-")[1]; return a + (c ? "-" + c : "") } function bt(n, t, i) { var r = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null, u = r ? pt(t) : l(t, i); return nt(i, u, r) } function kt(n) { var i = n.ownerDocument.defaultView, t = i.getComputedStyle(n), r = parseFloat(t.marginTop || 0) + parseFloat(t.marginBottom || 0), u = parseFloat(t.marginLeft || 0) + parseFloat(t.marginRight || 0); return { width: n.offsetWidth + u, height: n.offsetHeight + r } } function a(n) { var t = { left: "right", right: "left", bottom: "top", top: "bottom" }; return n.replace(/left|right|bottom|top/g, function (n) { return t[n] }) } function dt(n, t, i) { i = i.split("-")[0]; var r = kt(n), e = { width: r.width, height: r.height }, u = ["right", "left"].indexOf(i) !== -1, o = u ? "top" : "left", f = u ? "left" : "top", s = u ? "height" : "width", h = u ? "width" : "height"; return e[o] = t[o] + t[s] / 2 - r[s] / 2, e[f] = i === f ? t[f] - r[h] : t[a(f)], e } function h(n, t) { return Array.prototype.find ? n.find(t) : n.filter(t)[0] } function yi(n, t, i) { if (Array.prototype.findIndex) return n.findIndex(function (n) { return n[t] === i }); var r = h(n, function (n) { return n[t] === i }); return n.indexOf(r) } function gt(n, i, r) { var u = r === undefined ? n : n.slice(0, yi(n, "name", r)); return u.forEach(function (n) { n["function"] && console.warn("`modifier.function` is deprecated, use `modifier.fn`!"); var r = n["function"] || n.fn; n.enabled && ct(r) && (i.offsets.popper = t(i.offsets.popper), i.offsets.reference = t(i.offsets.reference), i = r(i, n)) }), i } function pi() { if (!this.state.isDestroyed) { var n = { instance: this, styles: {}, arrowStyles: {}, attributes: {}, flipped: !1, offsets: {} }; if (n.offsets.reference = bt(this.state, this.popper, this.reference, this.options.positionFixed), n.placement = wt(this.options.placement, n.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding), n.originalPlacement = n.placement, n.positionFixed = this.options.positionFixed, n.offsets.popper = dt(this.popper, n.offsets.reference, n.placement), n.offsets.popper.position = this.options.positionFixed ? "fixed" : "absolute", n = gt(this.modifiers, n), this.state.isCreated) this.options.onUpdate(n); else { this.state.isCreated = !0; this.options.onCreate(n) } } } function ni(n, t) { return n.some(function (n) { var i = n.name, r = n.enabled; return r && i === t }) } function it(n) { for (var u = [!1, "ms", "Webkit", "Moz", "O"], f = n.charAt(0).toUpperCase() + n.slice(1), i, r, t = 0; t < u.length; t++)if (i = u[t], r = i ? "" + i + f : n, typeof document.body.style[r] != "undefined") return r; return null } function wi() { return this.state.isDestroyed = !0, ni(this.modifiers, "applyStyle") && (this.popper.removeAttribute("x-placement"), this.popper.style.position = "", this.popper.style.top = "", this.popper.style.left = "", this.popper.style.right = "", this.popper.style.bottom = "", this.popper.style.willChange = "", this.popper.style[it("transform")] = ""), this.disableEventListeners(), this.options.removeOnDestroy && this.popper.parentNode.removeChild(this.popper), this } function ti(n) { var t = n.ownerDocument; return t ? t.defaultView : window } function ii(n, t, i, r) { var f = n.nodeName === "BODY", u = f ? n.ownerDocument.defaultView : n; u.addEventListener(t, i, { passive: !0 }); f || ii(s(u.parentNode), t, i, r); r.push(u) } function bi(n, t, i, r) { i.updateBound = r; ti(n).addEventListener("resize", i.updateBound, { passive: !0 }); var u = s(n); return ii(u, "scroll", i.updateBound, i.scrollParents), i.scrollElement = u, i.eventsEnabled = !0, i } function ki() { this.state.eventsEnabled || (this.state = bi(this.reference, this.options, this.state, this.scheduleUpdate)) } function di(n, t) { return ti(n).removeEventListener("resize", t.updateBound), t.scrollParents.forEach(function (n) { n.removeEventListener("scroll", t.updateBound) }), t.updateBound = null, t.scrollParents = [], t.scrollElement = null, t.eventsEnabled = !1, t } function gi() { this.state.eventsEnabled && (cancelAnimationFrame(this.scheduleUpdate), this.state = di(this.reference, this.state)) } function rt(n) { return n !== "" && !isNaN(parseFloat(n)) && isFinite(n) } function ut(n, t) { Object.keys(t).forEach(function (i) { var r = "";["width", "height", "top", "right", "bottom", "left"].indexOf(i) !== -1 && rt(t[i]) && (r = "px"); n.style[i] = t[i] + r }) } function nr(n, t) { Object.keys(t).forEach(function (i) { var r = t[i]; r !== !1 ? n.setAttribute(i, t[i]) : n.removeAttribute(i) }) } function tr(n) { return ut(n.instance.popper, n.styles), nr(n.instance.popper, n.attributes), n.arrowElement && Object.keys(n.arrowStyles).length && ut(n.arrowElement, n.arrowStyles), n } function ir(n, t, i, r, u) { var f = bt(u, t, n, i.positionFixed), e = wt(i.placement, f, t, n, i.modifiers.flip.boundariesElement, i.modifiers.flip.padding); return t.setAttribute("x-placement", e), ut(t, { position: i.positionFixed ? "fixed" : "absolute" }), i } function rr(n, t) { var u = n.offsets, i = u.popper, l = u.reference, r = Math.round, a = Math.floor, f = function (n) { return n }, e = r(l.width), o = r(i.width), v = ["left", "right"].indexOf(n.placement) !== -1, s = n.placement.indexOf("-") !== -1, y = e % 2 == o % 2, p = e % 2 == 1 && o % 2 == 1, h = t ? v || s || y ? r : a : f, c = t ? r : f; return { left: h(p && !s && t ? i.left - 1 : i.left), top: c(i.top), bottom: c(i.bottom), right: h(i.right) } } function ur(t, i) { var k = i.x, d = i.y, nt = t.offsets.popper, c = h(t.instance.modifiers, function (n) { return n.name === "applyStyle" }).gpuAcceleration, p, w, b; c !== undefined && console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!"); var tt = c !== undefined ? c : i.gpuAcceleration, e = u(t.instance.popper), v = g(e), r = { position: nt.position }, f = rr(t, window.devicePixelRatio < 2 || !ri), o = k === "bottom" ? "top" : "bottom", s = d === "right" ? "left" : "right", y = it("transform"), l = void 0, a = void 0; return a = o === "bottom" ? e.nodeName === "HTML" ? -e.clientHeight + f.bottom : -v.height + f.bottom : f.top, l = s === "right" ? e.nodeName === "HTML" ? -e.clientWidth + f.right : -v.width + f.right : f.left, tt && y ? (r[y] = "translate3d(" + l + "px, " + a + "px, 0)", r[o] = 0, r[s] = 0, r.willChange = "transform") : (p = o === "bottom" ? -1 : 1, w = s === "right" ? -1 : 1, r[o] = a * p, r[s] = l * w, r.willChange = o + ", " + s), b = { "x-placement": t.placement }, t.attributes = n({}, b, t.attributes), t.styles = n({}, r, t.styles), t.arrowStyles = n({}, t.offsets.arrow, t.arrowStyles), t } function ui(n, t, i) { var u = h(n, function (n) { var i = n.name; return i === t }), f = !!u && n.some(function (n) { return n.name === i && n.enabled && n.order < u.order }), r, e; return f || (r = "`" + t + "`", e = "`" + i + "`", console.warn(e + " modifier is required by " + r + " modifier in order to work, be sure to include it before " + r + "!")), f } function fr(n, r) { var c, f; if (!ui(n.instance.modifiers, "arrow", "keepTogether")) return n; if (f = r.element, typeof f == "string") { if (f = n.instance.popper.querySelector(f), !f) return n } else if (!n.instance.popper.contains(f)) return console.warn("WARNING: `arrow.element` must be child of its popper element!"), n; var k = n.placement.split("-")[0], w = n.offsets, h = w.popper, o = w.reference, l = ["left", "right"].indexOf(k) !== -1, v = l ? "height" : "width", y = l ? "Top" : "Left", u = y.toLowerCase(), d = l ? "left" : "top", a = l ? "bottom" : "right", s = kt(f)[v]; o[a] - s < h[u] && (n.offsets.popper[u] -= h[u] - (o[a] - s)); o[u] + s > h[a] && (n.offsets.popper[u] += o[u] + s - h[a]); n.offsets.popper = t(n.offsets.popper); var g = o[u] + o[v] / 2 - s / 2, b = i(n.instance.popper), nt = parseFloat(b["margin" + y], 10), tt = parseFloat(b["border" + y + "Width"], 10), p = g - n.offsets.popper[u] - nt - tt; return p = Math.max(Math.min(h[v] - s, p), 0), n.arrowElement = f, n.offsets.arrow = (c = {}, e(c, u, Math.round(p)), e(c, d, ""), c), n } function er(n) { return n === "end" ? "start" : n === "start" ? "end" : n } function fi(n) { var r = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1, t = v.indexOf(n), i = v.slice(t + 1).concat(v.slice(0, t)); return r ? i.reverse() : i } function or(t, i) { if (ni(t.instance.modifiers, "inner") || t.flipped && t.placement === t.originalPlacement) return t; var e = tt(t.instance.popper, t.instance.reference, i.padding, i.boundariesElement, t.positionFixed), r = t.placement.split("-")[0], o = a(r), u = t.placement.split("-")[1] || "", f = []; switch (i.behavior) { case y.FLIP: f = [r, o]; break; case y.CLOCKWISE: f = fi(r); break; case y.COUNTERCLOCKWISE: f = fi(r, !0); break; default: f = i.behavior }return f.forEach(function (s, h) { if (r !== s || f.length === h + 1) return t; r = t.placement.split("-")[0]; o = a(r); var l = t.offsets.popper, y = t.offsets.reference, c = Math.floor, d = r === "left" && c(l.right) > c(y.left) || r === "right" && c(l.left) < c(y.right) || r === "top" && c(l.bottom) > c(y.top) || r === "bottom" && c(l.top) < c(y.bottom), p = c(l.left) < c(e.left), w = c(l.right) > c(e.right), b = c(l.top) < c(e.top), k = c(l.bottom) > c(e.bottom), g = r === "left" && p || r === "right" && w || r === "top" && b || r === "bottom" && k, v = ["top", "bottom"].indexOf(r) !== -1, tt = !!i.flipVariations && (v && u === "start" && p || v && u === "end" && w || !v && u === "start" && b || !v && u === "end" && k), it = !!i.flipVariationsByContent && (v && u === "start" && w || v && u === "end" && p || !v && u === "start" && k || !v && u === "end" && b), nt = tt || it; (d || g || nt) && (t.flipped = !0, (d || g) && (r = f[h + 1]), nt && (u = er(u)), t.placement = r + (u ? "-" + u : ""), t.offsets.popper = n({}, t.offsets.popper, dt(t.instance.popper, t.offsets.reference, t.placement)), t = gt(t.instance.modifiers, t, "flip")) }), t } function sr(n) { var o = n.offsets, u = o.popper, i = o.reference, s = n.placement.split("-")[0], r = Math.floor, f = ["top", "bottom"].indexOf(s) !== -1, e = f ? "right" : "bottom", t = f ? "left" : "top", h = f ? "width" : "height"; return u[e] < r(i[t]) && (n.offsets.popper[t] = r(i[t]) - u[h]), u[t] > r(i[e]) && (n.offsets.popper[t] = r(i[e])), n } function hr(n, i, r, u) { var h = n.match(/((?:\-|\+)?\d*\.?\d*)(.*)/), e = +h[1], f = h[2], o, c, s; if (!e) return n; if (f.indexOf("%") === 0) { o = void 0; switch (f) { case "%p": o = r; break; case "%": case "%r": default: o = u }return c = t(o), c[i] / 100 * e } return f === "vh" || f === "vw" ? (s = void 0, s = f === "vh" ? Math.max(document.documentElement.clientHeight, window.innerHeight || 0) : Math.max(document.documentElement.clientWidth, window.innerWidth || 0), s / 100 * e) : e } function cr(n, t, i, r) { var s = [0, 0], c = ["right", "left"].indexOf(r) !== -1, u = n.split(/(\+|\-)/).map(function (n) { return n.trim() }), f = u.indexOf(h(u, function (n) { return n.search(/,|\s/) !== -1 })), o, e; return u[f] && u[f].indexOf(",") === -1 && console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead."), o = /\s*,\s*|\s+/, e = f !== -1 ? [u.slice(0, f).concat([u[f].split(o)[0]]), [u[f].split(o)[1]].concat(u.slice(f + 1))] : [u], e = e.map(function (n, r) { var f = (r === 1 ? !c : c) ? "height" : "width", u = !1; return n.reduce(function (n, t) { return n[n.length - 1] === "" && ["+", "-"].indexOf(t) !== -1 ? (n[n.length - 1] = t, u = !0, n) : u ? (n[n.length - 1] += t, u = !1, n) : n.concat(t) }, []).map(function (n) { return hr(n, f, t, i) }) }), e.forEach(function (n, t) { n.forEach(function (i, r) { rt(i) && (s[t] += i * (n[r - 1] === "-" ? -1 : 1)) }) }), s } function lr(n, t) { var f = t.offset, o = n.placement, e = n.offsets, i = e.popper, s = e.reference, u = o.split("-")[0], r = void 0; return r = rt(+f) ? [+f, 0] : cr(f, i, s, u), u === "left" ? (i.top += r[0], i.left -= r[1]) : u === "right" ? (i.top += r[0], i.left += r[1]) : u === "top" ? (i.left += r[0], i.top -= r[1]) : u === "bottom" && (i.left += r[0], i.top += r[1]), n.popper = i, n } function ar(t, i) { var s = i.boundariesElement || u(t.instance.popper), o; t.instance.reference === s && (s = u(s)); var h = it("transform"), f = t.instance.popper.style, c = f.top, l = f.left, a = f[h]; f.top = ""; f.left = ""; f[h] = ""; o = tt(t.instance.popper, t.instance.reference, i.padding, s, t.positionFixed); f.top = c; f.left = l; f[h] = a; i.boundaries = o; var v = i.priority, r = t.offsets.popper, y = { primary: function (n) { var t = r[n]; return r[n] < o[n] && !i.escapeWithReference && (t = Math.max(r[n], o[n])), e({}, n, t) }, secondary: function (n) { var t = n === "right" ? "left" : "top", u = r[t]; return r[n] > o[n] && !i.escapeWithReference && (u = Math.min(r[t], o[n] - (n === "right" ? r.width : r.height))), e({}, t, u) } }; return v.forEach(function (t) { var i = ["left", "top"].indexOf(t) !== -1 ? "primary" : "secondary"; r = n({}, r, y[i](t)) }), t.offsets.popper = r, t } function vr(t) { var u = t.placement, l = u.split("-")[0], f = u.split("-")[1]; if (f) { var o = t.offsets, r = o.reference, s = o.popper, h = ["bottom", "top"].indexOf(l) !== -1, i = h ? "left" : "top", c = h ? "width" : "height", a = { start: e({}, i, r[i]), end: e({}, i, r[i] + r[c] - s[c]) }; t.offsets.popper = n({}, s, a[f]) } return t } function yr(n) { if (!ui(n.instance.modifiers, "hide", "preventOverflow")) return n; var t = n.offsets.reference, i = h(n.instance.modifiers, function (n) { return n.name === "preventOverflow" }).boundaries; if (t.bottom < i.top || t.left > i.right || t.top > i.bottom || t.right < i.left) { if (n.hide === !0) return n; n.hide = !0; n.attributes["x-out-of-boundaries"] = "" } else { if (n.hide === !1) return n; n.hide = !1; n.attributes["x-out-of-boundaries"] = !1 } return n } function pr(n) { var u = n.placement, i = u.split("-")[0], f = n.offsets, r = f.popper, o = f.reference, e = ["left", "right"].indexOf(i) !== -1, s = ["top", "left"].indexOf(i) === -1; return r[e ? "left" : "top"] = o[i] - (s ? r[e ? "width" : "height"] : 0), n.placement = a(u), n.offsets.popper = t(r), n } for (var o = typeof window != "undefined" && typeof document != "undefined", et = ["Edge", "Trident", "Firefox"], ot = 0, st, ht, b, k, ri, ft, v, y, c = 0; c < et.length; c += 1)if (o && navigator.userAgent.indexOf(et[c]) >= 0) { ot = 1; break } st = o && window.Promise; ht = st ? ei : oi; b = o && !!(window.MSInputMethodContext && document.documentMode); k = o && /MSIE 10/.test(navigator.userAgent); var ci = function (n, t) { if (!(n instanceof t)) throw new TypeError("Cannot call a class as a function"); }, li = function () { function n(n, t) { for (var i, r = 0; r < t.length; r++)i = t[r], i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(n, i.key, i) } return function (t, i, r) { return i && n(t.prototype, i), r && n(t, r), t } }(), e = function (n, t, i) { return t in n ? Object.defineProperty(n, t, { value: i, enumerable: !0, configurable: !0, writable: !0 }) : n[t] = i, n }, n = Object.assign || function (n) { for (var i, r, t = 1; t < arguments.length; t++) { i = arguments[t]; for (r in i) Object.prototype.hasOwnProperty.call(i, r) && (n[r] = i[r]) } return n }; ri = o && /Firefox/i.test(navigator.userAgent); ft = ["auto-start", "auto", "auto-end", "top-start", "top", "top-end", "right-start", "right", "right-end", "bottom-end", "bottom", "bottom-start", "left-end", "left", "left-start"]; v = ft.slice(3); y = { FLIP: "flip", CLOCKWISE: "clockwise", COUNTERCLOCKWISE: "counterclockwise" }; var wr = { shift: { order: 100, enabled: !0, fn: vr }, offset: { order: 200, enabled: !0, fn: lr, offset: 0 }, preventOverflow: { order: 300, enabled: !0, fn: ar, priority: ["left", "right", "top", "bottom"], padding: 5, boundariesElement: "scrollParent" }, keepTogether: { order: 400, enabled: !0, fn: sr }, arrow: { order: 500, enabled: !0, fn: fr, element: "[x-arrow]" }, flip: { order: 600, enabled: !0, fn: or, behavior: "flip", padding: 5, boundariesElement: "viewport", flipVariations: !1, flipVariationsByContent: !1 }, inner: { order: 700, enabled: !1, fn: pr }, hide: { order: 800, enabled: !0, fn: yr }, computeStyle: { order: 850, enabled: !0, fn: ur, gpuAcceleration: !0, x: "bottom", y: "right" }, applyStyle: { order: 900, enabled: !0, fn: tr, onLoad: ir, gpuAcceleration: undefined } }, br = { placement: "bottom", positionFixed: !1, eventsEnabled: !0, removeOnDestroy: !1, onCreate: function () { }, onUpdate: function () { }, modifiers: wr }, p = function () { function t(i, r) { var u = this, f = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {}, e; ci(this, t); this.scheduleUpdate = function () { return requestAnimationFrame(u.update) }; this.update = ht(this.update.bind(this)); this.options = n({}, t.Defaults, f); this.state = { isDestroyed: !1, isCreated: !1, scrollParents: [] }; this.reference = i && i.jquery ? i[0] : i; this.popper = r && r.jquery ? r[0] : r; this.options.modifiers = {}; Object.keys(n({}, t.Defaults.modifiers, f.modifiers)).forEach(function (i) { u.options.modifiers[i] = n({}, t.Defaults.modifiers[i] || {}, f.modifiers ? f.modifiers[i] : {}) }); this.modifiers = Object.keys(this.options.modifiers).map(function (t) { return n({ name: t }, u.options.modifiers[t]) }).sort(function (n, t) { return n.order - t.order }); this.modifiers.forEach(function (n) { if (n.enabled && ct(n.onLoad)) n.onLoad(u.reference, u.popper, u.options, n, u.state) }); this.update(); e = this.options.eventsEnabled; e && this.enableEventListeners(); this.state.eventsEnabled = e } return li(t, [{ key: "update", value: function () { return pi.call(this) } }, { key: "destroy", value: function () { return wi.call(this) } }, { key: "enableEventListeners", value: function () { return ki.call(this) } }, { key: "disableEventListeners", value: function () { return gi.call(this) } }]), t }(); return p.Utils = (typeof window != "undefined" ? window : global).PopperUtils, p.placements = ft, p.Defaults = br, p }); !function (n, t) { "object" == typeof exports && "undefined" != typeof module ? t(exports, require("jquery"), require("popper.js")) : "function" == typeof define && define.amd ? define(["exports", "jquery", "popper.js"], t) : t(n.bootstrap = {}, n.jQuery, n.Popper) }(this, function (n, t, i) { "use strict"; function it(n, t) { for (var i, r = 0; r < t.length; r++)i = t[r], i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(n, i.key, i) } function o(n, t, i) { return t && it(n.prototype, t), i && it(n, i), n } function f() { return (f = Object.assign || function (n) { for (var i, r, t = 1; t < arguments.length; t++) { i = arguments[t]; for (r in i) Object.prototype.hasOwnProperty.call(i, r) && (n[r] = i[r]) } return n }).apply(this, arguments) } t = t && t.hasOwnProperty("default") ? t.default : t; i = i && i.hasOwnProperty("default") ? i.default : i; var e, h, v, y, rt, p, ut, ft, et, s, u, c, w, b, k, ot, l, st, ht, g, ct, lt, at, nt, tt, a, r = function (n) { function r(i) { var u = this, r = !1; return n(this).one(t.TRANSITION_END, function () { r = !0 }), setTimeout(function () { r || t.triggerTransitionEnd(u) }, i), this } var i = !1, t = { TRANSITION_END: "bsTransitionEnd", getUID: function (n) { do n += ~~(1e6 * Math.random()); while (document.getElementById(n)); return n }, getSelectorFromElement: function (t) { var r, i = t.getAttribute("data-target"); i && "#" !== i || (i = t.getAttribute("href") || ""); "#" === i.charAt(0) && (r = i, i = r = "function" == typeof n.escapeSelector ? n.escapeSelector(r).substr(1) : r.replace(/(:|\.|\[|\]|,|=|@)/g, "\\$1")); try { return n(document).find(i).length > 0 ? i : null } catch (n) { return null } }, reflow: function (n) { return n.offsetHeight }, triggerTransitionEnd: function (t) { n(t).trigger(i.end) }, supportsTransitionEnd: function () { return Boolean(i) }, isElement: function (n) { return (n[0] || n).nodeType }, typeCheckConfig: function (n, i, r) { var u, s; for (u in r) if (Object.prototype.hasOwnProperty.call(r, u)) { var e = r[u], f = i[u], o = f && t.isElement(f) ? "element" : (s = f, {}.toString.call(s).match(/\s([a-zA-Z]+)/)[1].toLowerCase()); if (!new RegExp(e).test(o)) throw new Error(n.toUpperCase() + ': Option "' + u + '" provided type "' + o + '" but expected type "' + e + '".'); } } }; return i = ("undefined" == typeof window || !window.QUnit) && { end: "transitionend" }, n.fn.emulateTransitionEnd = r, t.supportsTransitionEnd() && (n.event.special[t.TRANSITION_END] = { bindType: i.end, delegateType: i.end, handle: function (t) { if (n(t.target).is(this)) return t.handleObj.handler.apply(this, arguments) } }), t }(t), vt = (h = "alert", y = "." + (v = "bs.alert"), rt = (e = t).fn[h], p = { CLOSE: "close" + y, CLOSED: "closed" + y, CLICK_DATA_API: "click" + y + ".data-api" }, ut = "alert", ft = "fade", et = "show", s = function () { function n(n) { this._element = n } var t = n.prototype; return t.close = function (n) { n = n || this._element; var t = this._getRootElement(n); this._triggerCloseEvent(t).isDefaultPrevented() || this._removeElement(t) }, t.dispose = function () { e.removeData(this._element, v); this._element = null }, t._getRootElement = function (n) { var i = r.getSelectorFromElement(n), t = !1; return i && (t = e(i)[0]), t || (t = e(n).closest("." + ut)[0]), t }, t._triggerCloseEvent = function (n) { var t = e.Event(p.CLOSE); return e(n).trigger(t), t }, t._removeElement = function (n) { var t = this; e(n).removeClass(et); r.supportsTransitionEnd() && e(n).hasClass(ft) ? e(n).one(r.TRANSITION_END, function (i) { return t._destroyElement(n, i) }).emulateTransitionEnd(150) : this._destroyElement(n) }, t._destroyElement = function (n) { e(n).detach().trigger(p.CLOSED).remove() }, n._jQueryInterface = function (t) { return this.each(function () { var r = e(this), i = r.data(v); i || (i = new n(this), r.data(v, i)); "close" === t && i[t](this) }) }, n._handleDismiss = function (n) { return function (t) { t && t.preventDefault(); n.close(this) } }, o(n, null, [{ key: "VERSION", get: function () { return "4.0.0" } }]), n }(), e(document).on(p.CLICK_DATA_API, '[data-dismiss="alert"]', s._handleDismiss(new s)), e.fn[h] = s._jQueryInterface, e.fn[h].Constructor = s, e.fn[h].noConflict = function () { return e.fn[h] = rt, s._jQueryInterface }, s), yt = (c = "button", b = "." + (w = "bs.button"), k = ".data-api", ot = (u = t).fn[c], l = "active", st = "btn", ht = "focus", g = '[data-toggle^="button"]', ct = '[data-toggle="buttons"]', lt = "input", at = ".active", nt = ".btn", tt = { CLICK_DATA_API: "click" + b + k, FOCUS_BLUR_DATA_API: "focus" + b + k + " blur" + b + k }, a = function () { function n(n) { this._element = n } var t = n.prototype; return t.toggle = function () { var i = !0, f = !0, t = u(this._element).closest(ct)[0], n, r; if (t && (n = u(this._element).find(lt)[0], n)) { if ("radio" === n.type && (n.checked && u(this._element).hasClass(l) ? i = !1 : (r = u(t).find(at)[0], r && u(r).removeClass(l))), i) { if (n.hasAttribute("disabled") || t.hasAttribute("disabled") || n.classList.contains("disabled") || t.classList.contains("disabled")) return; n.checked = !u(this._element).hasClass(l); u(n).trigger("change") } n.focus(); f = !1 } f && this._element.setAttribute("aria-pressed", !u(this._element).hasClass(l)); i && u(this._element).toggleClass(l) }, t.dispose = function () { u.removeData(this._element, w); this._element = null }, n._jQueryInterface = function (t) { return this.each(function () { var i = u(this).data(w); i || (i = new n(this), u(this).data(w, i)); "toggle" === t && i[t]() }) }, o(n, null, [{ key: "VERSION", get: function () { return "4.0.0" } }]), n }(), u(document).on(tt.CLICK_DATA_API, g, function (n) { n.preventDefault(); var t = n.target; u(t).hasClass(st) || (t = u(t).closest(nt)); a._jQueryInterface.call(u(t), "toggle") }).on(tt.FOCUS_BLUR_DATA_API, g, function (n) { var t = u(n.target).closest(nt)[0]; u(t).toggleClass(ht, /^focus(in)?$/.test(n.type)) }), u.fn[c] = a._jQueryInterface, u.fn[c].Constructor = a, u.fn[c].noConflict = function () { return u.fn[c] = ot, a._jQueryInterface }, a), pt = function (n) { var s = "carousel", c = "bs.carousel", t = "." + c, y = n.fn[s], v = { interval: 5e3, keyboard: !0, slide: !1, pause: "hover", wrap: !0 }, p = { interval: "(number|boolean)", keyboard: "boolean", slide: "(boolean|string)", pause: "(string|boolean)", wrap: "boolean" }, l = "next", a = "prev", w = "left", b = "right", i = { SLIDE: "slide" + t, SLID: "slid" + t, KEYDOWN: "keydown" + t, MOUSEENTER: "mouseenter" + t, MOUSELEAVE: "mouseleave" + t, TOUCHEND: "touchend" + t, LOAD_DATA_API: "load" + t + ".data-api", CLICK_DATA_API: "click" + t + ".data-api" }, k = "carousel", e = "active", d = "slide", g = "carousel-item-right", nt = "carousel-item-left", tt = "carousel-item-next", it = "carousel-item-prev", u = { ACTIVE: ".active", ACTIVE_ITEM: ".active.carousel-item", ITEM: ".carousel-item", NEXT_PREV: ".carousel-item-next, .carousel-item-prev", INDICATORS: ".carousel-indicators", DATA_SLIDE: "[data-slide], [data-slide-to]", DATA_RIDE: '[data-ride="carousel"]' }, h = function () { function y(t, i) { this._items = null; this._interval = null; this._activeElement = null; this._isPaused = !1; this._isSliding = !1; this.touchTimeout = null; this._config = this._getConfig(i); this._element = n(t)[0]; this._indicatorsElement = n(this._element).find(u.INDICATORS)[0]; this._addEventListeners() } var h = y.prototype; return h.next = function () { this._isSliding || this._slide(l) }, h.nextWhenVisible = function () { !document.hidden && n(this._element).is(":visible") && "hidden" !== n(this._element).css("visibility") && this.next() }, h.prev = function () { this._isSliding || this._slide(a) }, h.pause = function (t) { t || (this._isPaused = !0); n(this._element).find(u.NEXT_PREV)[0] && r.supportsTransitionEnd() && (r.triggerTransitionEnd(this._element), this.cycle(!0)); clearInterval(this._interval); this._interval = null }, h.cycle = function (n) { n || (this._isPaused = !1); this._interval && (clearInterval(this._interval), this._interval = null); this._config.interval && !this._isPaused && (this._interval = setInterval((document.visibilityState ? this.nextWhenVisible : this.next).bind(this), this._config.interval)) }, h.to = function (t) { var e = this, r, f; if (this._activeElement = n(this._element).find(u.ACTIVE_ITEM)[0], r = this._getItemIndex(this._activeElement), !(t > this._items.length - 1 || t < 0)) if (this._isSliding) n(this._element).one(i.SLID, function () { return e.to(t) }); else { if (r === t) return this.pause(), void this.cycle(); f = t > r ? l : a; this._slide(f, this._items[t]) } }, h.dispose = function () { n(this._element).off(t); n.removeData(this._element, c); this._items = null; this._config = null; this._element = null; this._interval = null; this._isPaused = null; this._isSliding = null; this._activeElement = null; this._indicatorsElement = null }, h._getConfig = function (n) { return n = f({}, v, n), r.typeCheckConfig(s, n, p), n }, h._addEventListeners = function () { var t = this; this._config.keyboard && n(this._element).on(i.KEYDOWN, function (n) { return t._keydown(n) }); "hover" === this._config.pause && (n(this._element).on(i.MOUSEENTER, function (n) { return t.pause(n) }).on(i.MOUSELEAVE, function (n) { return t.cycle(n) }), "ontouchstart" in document.documentElement && n(this._element).on(i.TOUCHEND, function () { t.pause(); t.touchTimeout && clearTimeout(t.touchTimeout); t.touchTimeout = setTimeout(function (n) { return t.cycle(n) }, 500 + t._config.interval) })) }, h._keydown = function (n) { if (!/input|textarea/i.test(n.target.tagName)) switch (n.which) { case 37: n.preventDefault(); this.prev(); break; case 39: n.preventDefault(); this.next() } }, h._getItemIndex = function (t) { return this._items = n.makeArray(n(t).parent().find(u.ITEM)), this._items.indexOf(t) }, h._getItemByDirection = function (n, t) { var u = n === l, f = n === a, i = this._getItemIndex(t), e = this._items.length - 1, r; return (f && 0 === i || u && i === e) && !this._config.wrap ? t : (r = (i + (n === a ? -1 : 1)) % this._items.length, -1 === r ? this._items[this._items.length - 1] : this._items[r]) }, h._triggerSlideEvent = function (t, r) { var e = this._getItemIndex(t), o = this._getItemIndex(n(this._element).find(u.ACTIVE_ITEM)[0]), f = n.Event(i.SLIDE, { relatedTarget: t, direction: r, from: o, to: e }); return n(this._element).trigger(f), f }, h._setActiveIndicatorElement = function (t) { if (this._indicatorsElement) { n(this._indicatorsElement).find(u.ACTIVE).removeClass(e); var i = this._indicatorsElement.children[this._getItemIndex(t)]; i && n(i).addClass(e) } }, h._slide = function (t, f) { var h, c, a, y = this, s = n(this._element).find(u.ACTIVE_ITEM)[0], k = this._getItemIndex(s), o = f || s && this._getItemByDirection(t, s), rt = this._getItemIndex(o), p = Boolean(this._interval), v; (t === l ? (h = nt, c = tt, a = w) : (h = g, c = it, a = b), o && n(o).hasClass(e)) ? this._isSliding = !1 : !this._triggerSlideEvent(o, a).isDefaultPrevented() && s && o && (this._isSliding = !0, p && this.pause(), this._setActiveIndicatorElement(o), v = n.Event(i.SLID, { relatedTarget: o, direction: a, from: k, to: rt }), r.supportsTransitionEnd() && n(this._element).hasClass(d) ? (n(o).addClass(c), r.reflow(o), n(s).addClass(h), n(o).addClass(h), n(s).one(r.TRANSITION_END, function () { n(o).removeClass(h + " " + c).addClass(e); n(s).removeClass(e + " " + c + " " + h); y._isSliding = !1; setTimeout(function () { return n(y._element).trigger(v) }, 0) }).emulateTransitionEnd(600)) : (n(s).removeClass(e), n(o).addClass(e), this._isSliding = !1, n(this._element).trigger(v)), p && this.cycle()) }, y._jQueryInterface = function (t) { return this.each(function () { var i = n(this).data(c), r = f({}, v, n(this).data()), u; if ("object" == typeof t && (r = f({}, r, t)), u = "string" == typeof t ? t : r.slide, i || (i = new y(this, r), n(this).data(c, i)), "number" == typeof t) i.to(t); else if ("string" == typeof u) { if ("undefined" == typeof i[u]) throw new TypeError('No method named "' + u + '"'); i[u]() } else r.interval && (i.pause(), i.cycle()) }) }, y._dataApiClickHandler = function (t) { var o = r.getSelectorFromElement(this), i, e, u; o && (i = n(o)[0], i && n(i).hasClass(k) && (e = f({}, n(i).data(), n(this).data()), u = this.getAttribute("data-slide-to"), u && (e.interval = !1), y._jQueryInterface.call(n(i), e), u && n(i).data(c).to(u), t.preventDefault())) }, o(y, null, [{ key: "VERSION", get: function () { return "4.0.0" } }, { key: "Default", get: function () { return v } }]), y }(); return n(document).on(i.CLICK_DATA_API, u.DATA_SLIDE, h._dataApiClickHandler), n(window).on(i.LOAD_DATA_API, function () { n(u.DATA_RIDE).each(function () { var t = n(this); h._jQueryInterface.call(t, t.data()) }) }), n.fn[s] = h._jQueryInterface, n.fn[s].Constructor = h, n.fn[s].noConflict = function () { return n.fn[s] = y, h._jQueryInterface }, h }(t), wt = function (n) { var u = "collapse", t = "bs.collapse", e = "." + t, w = n.fn[u], a = { toggle: !0, parent: "" }, b = { toggle: "boolean", parent: "(string|element)" }, s = { SHOW: "show" + e, SHOWN: "shown" + e, HIDE: "hide" + e, HIDDEN: "hidden" + e, CLICK_DATA_API: "click" + e + ".data-api" }, i = "show", c = "collapse", l = "collapsing", v = "collapsed", p = "width", k = "height", y = { ACTIVES: ".show, .collapsing", DATA_TOGGLE: '[data-toggle="collapse"]' }, h = function () { function h(t, i) { var e, u, o, f; for (this._isTransitioning = !1, this._element = t, this._config = this._getConfig(i), this._triggerArray = n.makeArray(n('[data-toggle="collapse"][href="#' + t.id + '"],[data-toggle="collapse"][data-target="#' + t.id + '"]')), e = n(y.DATA_TOGGLE), u = 0; u < e.length; u++)o = e[u], f = r.getSelectorFromElement(o), null !== f && n(f).filter(t).length > 0 && (this._selector = f, this._triggerArray.push(o)); this._parent = this._config.parent ? this._getParent() : null; this._config.parent || this._addAriaAndCollapsedClass(this._element, this._triggerArray); this._config.toggle && this.toggle() } var e = h.prototype; return e.toggle = function () { n(this._element).hasClass(i) ? this.hide() : this.show() }, e.show = function () { var u, o, e = this, a, f, p, w; this._isTransitioning || n(this._element).hasClass(i) || (this._parent && 0 === (u = n.makeArray(n(this._parent).find(y.ACTIVES).filter('[data-parent="' + this._config.parent + '"]'))).length && (u = null), u && (o = n(u).not(this._selector).data(t)) && o._isTransitioning) || (a = n.Event(s.SHOW), (n(this._element).trigger(a), a.isDefaultPrevented()) || (u && (h._jQueryInterface.call(n(u).not(this._selector), "hide"), o || n(u).data(t, null)), f = this._getDimension(), n(this._element).removeClass(c).addClass(l), this._element.style[f] = 0, this._triggerArray.length > 0 && n(this._triggerArray).removeClass(v).attr("aria-expanded", !0), this.setTransitioning(!0), p = function () { n(e._element).removeClass(l).addClass(c).addClass(i); e._element.style[f] = ""; e.setTransitioning(!1); n(e._element).trigger(s.SHOWN) }, r.supportsTransitionEnd() ? (w = "scroll" + (f[0].toUpperCase() + f.slice(1)), n(this._element).one(r.TRANSITION_END, p).emulateTransitionEnd(600), this._element.style[f] = this._element[w] + "px") : p())) }, e.hide = function () { var a = this, f, t, u, e, o, h; if (!this._isTransitioning && n(this._element).hasClass(i) && (f = n.Event(s.HIDE), n(this._element).trigger(f), !f.isDefaultPrevented())) { if (t = this._getDimension(), this._element.style[t] = this._element.getBoundingClientRect()[t] + "px", r.reflow(this._element), n(this._element).addClass(l).removeClass(c).removeClass(i), this._triggerArray.length > 0) for (u = 0; u < this._triggerArray.length; u++)e = this._triggerArray[u], o = r.getSelectorFromElement(e), null !== o && (n(o).hasClass(i) || n(e).addClass(v).attr("aria-expanded", !1)); this.setTransitioning(!0); h = function () { a.setTransitioning(!1); n(a._element).removeClass(l).addClass(c).trigger(s.HIDDEN) }; this._element.style[t] = ""; r.supportsTransitionEnd() ? n(this._element).one(r.TRANSITION_END, h).emulateTransitionEnd(600) : h() } }, e.setTransitioning = function (n) { this._isTransitioning = n }, e.dispose = function () { n.removeData(this._element, t); this._config = null; this._parent = null; this._element = null; this._triggerArray = null; this._isTransitioning = null }, e._getConfig = function (n) { return (n = f({}, a, n)).toggle = Boolean(n.toggle), r.typeCheckConfig(u, n, b), n }, e._getDimension = function () { return n(this._element).hasClass(p) ? p : k }, e._getParent = function () { var u = this, t = null, i; return r.isElement(this._config.parent) ? (t = this._config.parent, "undefined" != typeof this._config.parent.jquery && (t = this._config.parent[0])) : t = n(this._config.parent)[0], i = '[data-toggle="collapse"][data-parent="' + this._config.parent + '"]', n(t).find(i).each(function (n, t) { u._addAriaAndCollapsedClass(h._getTargetFromElement(t), [t]) }), t }, e._addAriaAndCollapsedClass = function (t, r) { if (t) { var u = n(t).hasClass(i); r.length > 0 && n(r).toggleClass(v, !u).attr("aria-expanded", u) } }, h._getTargetFromElement = function (t) { var i = r.getSelectorFromElement(t); return i ? n(i)[0] : null }, h._jQueryInterface = function (i) { return this.each(function () { var u = n(this), r = u.data(t), e = f({}, a, u.data(), "object" == typeof i && i); if (!r && e.toggle && /show|hide/.test(i) && (e.toggle = !1), r || (r = new h(this, e), u.data(t, r)), "string" == typeof i) { if ("undefined" == typeof r[i]) throw new TypeError('No method named "' + i + '"'); r[i]() } }) }, o(h, null, [{ key: "VERSION", get: function () { return "4.0.0" } }, { key: "Default", get: function () { return a } }]), h }(); return n(document).on(s.CLICK_DATA_API, y.DATA_TOGGLE, function (i) { "A" === i.currentTarget.tagName && i.preventDefault(); var u = n(this), f = r.getSelectorFromElement(this); n(f).each(function () { var i = n(this), r = i.data(t) ? "toggle" : u.data(); h._jQueryInterface.call(i, r) }) }), n.fn[u] = h._jQueryInterface, n.fn[u].Constructor = h, n.fn[u].noConflict = function () { return n.fn[u] = w, h._jQueryInterface }, h }(t), bt = function (n) { var h = "dropdown", c = "bs.dropdown", u = "." + c, a = ".data-api", b = n.fn[h], k = new RegExp("38|40|27"), t = { HIDE: "hide" + u, HIDDEN: "hidden" + u, SHOW: "show" + u, SHOWN: "shown" + u, CLICK: "click" + u, CLICK_DATA_API: "click" + u + a, KEYDOWN_DATA_API: "keydown" + u + a, KEYUP_DATA_API: "keyup" + u + a }, p = "disabled", s = "show", w = "dropup", d = "dropright", g = "dropleft", v = "dropdown-menu-right", nt = "dropdown-menu-left", tt = "position-static", l = '[data-toggle="dropdown"]', y = ".dropdown-menu", it = ".navbar-nav", rt = ".dropdown-menu .dropdown-item:not(.disabled)", ut = "top-start", ft = "top-end", et = "bottom-start", ot = "bottom-end", st = "right-start", ht = "left-start", ct = { offset: 0, flip: !0, boundary: "scrollParent" }, lt = { offset: "(number|string|function)", flip: "boolean", boundary: "(string|element)" }, e = function () { function e(n, t) { this._element = n; this._popper = null; this._config = this._getConfig(t); this._menu = this._getMenuElement(); this._inNavbar = this._detectNavbar(); this._addEventListeners() } var a = e.prototype; return a.toggle = function () { var r, h, u, f, o; if (!this._element.disabled && !n(this._element).hasClass(p) && (r = e._getParentFromElement(this._element), h = n(this._menu).hasClass(s), (e._clearMenus(), !h) && (u = { relatedTarget: this._element }, f = n.Event(t.SHOW, u), n(r).trigger(f), !f.isDefaultPrevented()))) { if (!this._inNavbar) { if ("undefined" == typeof i) throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)"); o = this._element; n(r).hasClass(w) && (n(this._menu).hasClass(nt) || n(this._menu).hasClass(v)) && (o = r); "scrollParent" !== this._config.boundary && n(r).addClass(tt); this._popper = new i(o, this._menu, this._getPopperConfig()) } "ontouchstart" in document.documentElement && 0 === n(r).closest(it).length && n("body").children().on("mouseover", null, n.noop); this._element.focus(); this._element.setAttribute("aria-expanded", !0); n(this._menu).toggleClass(s); n(r).toggleClass(s).trigger(n.Event(t.SHOWN, u)) } }, a.dispose = function () { n.removeData(this._element, c); n(this._element).off(u); this._element = null; this._menu = null; null !== this._popper && (this._popper.destroy(), this._popper = null) }, a.update = function () { this._inNavbar = this._detectNavbar(); null !== this._popper && this._popper.scheduleUpdate() }, a._addEventListeners = function () { var i = this; n(this._element).on(t.CLICK, function (n) { n.preventDefault(); n.stopPropagation(); i.toggle() }) }, a._getConfig = function (t) { return t = f({}, this.constructor.Default, n(this._element).data(), t), r.typeCheckConfig(h, t, this.constructor.DefaultType), t }, a._getMenuElement = function () { if (!this._menu) { var t = e._getParentFromElement(this._element); this._menu = n(t).find(y)[0] } return this._menu }, a._getPlacement = function () { var i = n(this._element).parent(), t = et; return i.hasClass(w) ? (t = ut, n(this._menu).hasClass(v) && (t = ft)) : i.hasClass(d) ? t = st : i.hasClass(g) ? t = ht : n(this._menu).hasClass(v) && (t = ot), t }, a._detectNavbar = function () { return n(this._element).closest(".navbar").length > 0 }, a._getPopperConfig = function () { var t = this, n = {}; return "function" == typeof this._config.offset ? n.fn = function (n) { return n.offsets = f({}, n.offsets, t._config.offset(n.offsets) || {}), n } : n.offset = this._config.offset, { placement: this._getPlacement(), modifiers: { offset: n, flip: { enabled: this._config.flip }, preventOverflow: { boundariesElement: this._config.boundary } } } }, e._jQueryInterface = function (t) { return this.each(function () { var i = n(this).data(c); if (i || (i = new e(this, "object" == typeof t ? t : null), n(this).data(c, i)), "string" == typeof t) { if ("undefined" == typeof i[t]) throw new TypeError('No method named "' + t + '"'); i[t]() } }) }, e._clearMenus = function (i) { var u, r, v, o; if (!i || 3 !== i.which && ("keyup" !== i.type || 9 === i.which)) for (u = n.makeArray(n(l)), r = 0; r < u.length; r++) { var f = e._getParentFromElement(u[r]), h = n(u[r]).data(c), a = { relatedTarget: u[r] }; h && (v = h._menu, !n(f).hasClass(s) || i && ("click" === i.type && /input|textarea/i.test(i.target.tagName) || "keyup" === i.type && 9 === i.which) && n.contains(f, i.target) || (o = n.Event(t.HIDE, a), n(f).trigger(o), o.isDefaultPrevented() || ("ontouchstart" in document.documentElement && n("body").children().off("mouseover", null, n.noop), u[r].setAttribute("aria-expanded", "false"), n(v).removeClass(s), n(f).removeClass(s).trigger(n.Event(t.HIDDEN, a))))) } }, e._getParentFromElement = function (t) { var i, u = r.getSelectorFromElement(t); return u && (i = n(u)[0]), i || t.parentNode }, e._dataApiKeydownHandler = function (t) { var u, f, r, i, o; (/input|textarea/i.test(t.target.tagName) ? 32 === t.which || 27 !== t.which && (40 !== t.which && 38 !== t.which || n(t.target).closest(y).length) : !k.test(t.which)) || (t.preventDefault(), t.stopPropagation(), this.disabled || n(this).hasClass(p)) || (u = e._getParentFromElement(this), f = n(u).hasClass(s), (f || 27 === t.which && 32 === t.which) && (!f || 27 !== t.which && 32 !== t.which) ? (r = n(u).find(rt).get(), 0 !== r.length && (i = r.indexOf(t.target), 38 === t.which && i > 0 && i--, 40 === t.which && i < r.length - 1 && i++, i < 0 && (i = 0), r[i].focus())) : (27 === t.which && (o = n(u).find(l)[0], n(o).trigger("focus")), n(this).trigger("click"))) }, o(e, null, [{ key: "VERSION", get: function () { return "4.0.0" } }, { key: "Default", get: function () { return ct } }, { key: "DefaultType", get: function () { return lt } }]), e }(); return n(document).on(t.KEYDOWN_DATA_API, l, e._dataApiKeydownHandler).on(t.KEYDOWN_DATA_API, y, e._dataApiKeydownHandler).on(t.CLICK_DATA_API + " " + t.KEYUP_DATA_API, e._clearMenus).on(t.CLICK_DATA_API, l, function (t) { t.preventDefault(); t.stopPropagation(); e._jQueryInterface.call(n(this), "toggle") }).on(t.CLICK_DATA_API, ".dropdown form", function (n) { n.stopPropagation() }), n.fn[h] = e._jQueryInterface, n.fn[h].Constructor = e, n.fn[h].noConflict = function () { return n.fn[h] = b, e._jQueryInterface }, e }(t), kt = function (n) { var v = "modal", s = "bs.modal", i = "." + s, y = n.fn.modal, l = { backdrop: !0, keyboard: !0, focus: !0, show: !0 }, p = { backdrop: "(boolean|string)", keyboard: "boolean", focus: "boolean", show: "boolean" }, t = { HIDE: "hide" + i, HIDDEN: "hidden" + i, SHOW: "show" + i, SHOWN: "shown" + i, FOCUSIN: "focusin" + i, RESIZE: "resize" + i, CLICK_DISMISS: "click.dismiss" + i, KEYDOWN_DISMISS: "keydown.dismiss" + i, MOUSEUP_DISMISS: "mouseup.dismiss" + i, MOUSEDOWN_DISMISS: "mousedown.dismiss" + i, CLICK_DATA_API: "click" + i + ".data-api" }, w = "modal-scrollbar-measure", b = "modal-backdrop", a = "modal-open", e = "fade", c = "show", u = { DIALOG: ".modal-dialog", DATA_TOGGLE: '[data-toggle="modal"]', DATA_DISMISS: '[data-dismiss="modal"]', FIXED_CONTENT: ".fixed-top, .fixed-bottom, .is-fixed, .sticky-top", STICKY_CONTENT: ".sticky-top", NAVBAR_TOGGLER: ".navbar-toggler" }, h = function () { function y(t, i) { this._config = this._getConfig(i); this._element = t; this._dialog = n(t).find(u.DIALOG)[0]; this._backdrop = null; this._isShown = !1; this._isBodyOverflowing = !1; this._ignoreBackdropClick = !1; this._originalBodyPadding = 0; this._scrollbarWidth = 0 } var h = y.prototype; return h.toggle = function (n) { return this._isShown ? this.hide() : this.show(n) }, h.show = function (i) { var f = this, o; this._isTransitioning || this._isShown || (r.supportsTransitionEnd() && n(this._element).hasClass(e) && (this._isTransitioning = !0), o = n.Event(t.SHOW, { relatedTarget: i }), n(this._element).trigger(o), this._isShown || o.isDefaultPrevented() || (this._isShown = !0, this._checkScrollbar(), this._setScrollbar(), this._adjustDialog(), n(document.body).addClass(a), this._setEscapeEvent(), this._setResizeEvent(), n(this._element).on(t.CLICK_DISMISS, u.DATA_DISMISS, function (n) { return f.hide(n) }), n(this._dialog).on(t.MOUSEDOWN_DISMISS, function () { n(f._element).one(t.MOUSEUP_DISMISS, function (t) { n(t.target).is(f._element) && (f._ignoreBackdropClick = !0) }) }), this._showBackdrop(function () { return f._showElement(i) }))) }, h.hide = function (i) { var o = this, u, f; (i && i.preventDefault(), !this._isTransitioning && this._isShown) && (u = n.Event(t.HIDE), (n(this._element).trigger(u), this._isShown && !u.isDefaultPrevented()) && (this._isShown = !1, f = r.supportsTransitionEnd() && n(this._element).hasClass(e), f && (this._isTransitioning = !0), this._setEscapeEvent(), this._setResizeEvent(), n(document).off(t.FOCUSIN), n(this._element).removeClass(c), n(this._element).off(t.CLICK_DISMISS), n(this._dialog).off(t.MOUSEDOWN_DISMISS), f ? n(this._element).one(r.TRANSITION_END, function (n) { return o._hideModal(n) }).emulateTransitionEnd(300) : this._hideModal())) }, h.dispose = function () { n.removeData(this._element, s); n(window, document, this._element, this._backdrop).off(i); this._config = null; this._element = null; this._dialog = null; this._backdrop = null; this._isShown = null; this._isBodyOverflowing = null; this._ignoreBackdropClick = null; this._scrollbarWidth = null }, h.handleUpdate = function () { this._adjustDialog() }, h._getConfig = function (n) { return n = f({}, l, n), r.typeCheckConfig(v, n, p), n }, h._showElement = function (i) { var u = this, o = r.supportsTransitionEnd() && n(this._element).hasClass(e), s, f; this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE || document.body.appendChild(this._element); this._element.style.display = "block"; this._element.removeAttribute("aria-hidden"); this._element.scrollTop = 0; o && r.reflow(this._element); n(this._element).addClass(c); this._config.focus && this._enforceFocus(); s = n.Event(t.SHOWN, { relatedTarget: i }); f = function () { u._config.focus && u._element.focus(); u._isTransitioning = !1; n(u._element).trigger(s) }; o ? n(this._dialog).one(r.TRANSITION_END, f).emulateTransitionEnd(300) : f() }, h._enforceFocus = function () { var i = this; n(document).off(t.FOCUSIN).on(t.FOCUSIN, function (t) { document !== t.target && i._element !== t.target && 0 === n(i._element).has(t.target).length && i._element.focus() }) }, h._setEscapeEvent = function () { var i = this; this._isShown && this._config.keyboard ? n(this._element).on(t.KEYDOWN_DISMISS, function (n) { 27 === n.which && (n.preventDefault(), i.hide()) }) : this._isShown || n(this._element).off(t.KEYDOWN_DISMISS) }, h._setResizeEvent = function () { var i = this; this._isShown ? n(window).on(t.RESIZE, function (n) { return i.handleUpdate(n) }) : n(window).off(t.RESIZE) }, h._hideModal = function () { var i = this; this._element.style.display = "none"; this._element.setAttribute("aria-hidden", !0); this._isTransitioning = !1; this._showBackdrop(function () { n(document.body).removeClass(a); i._resetAdjustments(); i._resetScrollbar(); n(i._element).trigger(t.HIDDEN) }) }, h._removeBackdrop = function () { this._backdrop && (n(this._backdrop).remove(), this._backdrop = null) }, h._showBackdrop = function (i) { var u = this, f = n(this._element).hasClass(e) ? e : "", o, s; if (this._isShown && this._config.backdrop) { if (o = r.supportsTransitionEnd() && f, this._backdrop = document.createElement("div"), this._backdrop.className = b, f && n(this._backdrop).addClass(f), n(this._backdrop).appendTo(document.body), n(this._element).on(t.CLICK_DISMISS, function (n) { u._ignoreBackdropClick ? u._ignoreBackdropClick = !1 : n.target === n.currentTarget && ("static" === u._config.backdrop ? u._element.focus() : u.hide()) }), o && r.reflow(this._backdrop), n(this._backdrop).addClass(c), !i) return; if (!o) return void i(); n(this._backdrop).one(r.TRANSITION_END, i).emulateTransitionEnd(150) } else !this._isShown && this._backdrop ? (n(this._backdrop).removeClass(c), s = function () { u._removeBackdrop(); i && i() }, r.supportsTransitionEnd() && n(this._element).hasClass(e) ? n(this._backdrop).one(r.TRANSITION_END, s).emulateTransitionEnd(150) : s()) : i && i() }, h._adjustDialog = function () { var n = this._element.scrollHeight > document.documentElement.clientHeight; !this._isBodyOverflowing && n && (this._element.style.paddingLeft = this._scrollbarWidth + "px"); this._isBodyOverflowing && !n && (this._element.style.paddingRight = this._scrollbarWidth + "px") }, h._resetAdjustments = function () { this._element.style.paddingLeft = ""; this._element.style.paddingRight = "" }, h._checkScrollbar = function () { var n = document.body.getBoundingClientRect(); this._isBodyOverflowing = n.left + n.right < window.innerWidth; this._scrollbarWidth = this._getScrollbarWidth() }, h._setScrollbar = function () { var t = this, i, r; this._isBodyOverflowing && (n(u.FIXED_CONTENT).each(function (i, r) { var u = n(r)[0].style.paddingRight, f = n(r).css("padding-right"); n(r).data("padding-right", u).css("padding-right", parseFloat(f) + t._scrollbarWidth + "px") }), n(u.STICKY_CONTENT).each(function (i, r) { var u = n(r)[0].style.marginRight, f = n(r).css("margin-right"); n(r).data("margin-right", u).css("margin-right", parseFloat(f) - t._scrollbarWidth + "px") }), n(u.NAVBAR_TOGGLER).each(function (i, r) { var u = n(r)[0].style.marginRight, f = n(r).css("margin-right"); n(r).data("margin-right", u).css("margin-right", parseFloat(f) + t._scrollbarWidth + "px") }), i = document.body.style.paddingRight, r = n("body").css("padding-right"), n("body").data("padding-right", i).css("padding-right", parseFloat(r) + this._scrollbarWidth + "px")) }, h._resetScrollbar = function () { n(u.FIXED_CONTENT).each(function (t, i) { var r = n(i).data("padding-right"); "undefined" != typeof r && n(i).css("padding-right", r).removeData("padding-right") }); n(u.STICKY_CONTENT + ", " + u.NAVBAR_TOGGLER).each(function (t, i) { var r = n(i).data("margin-right"); "undefined" != typeof r && n(i).css("margin-right", r).removeData("margin-right") }); var t = n("body").data("padding-right"); "undefined" != typeof t && n("body").css("padding-right", t).removeData("padding-right") }, h._getScrollbarWidth = function () { var n = document.createElement("div"), t; return n.className = w, document.body.appendChild(n), t = n.getBoundingClientRect().width - n.clientWidth, document.body.removeChild(n), t }, y._jQueryInterface = function (t, i) { return this.each(function () { var r = n(this).data(s), u = f({}, y.Default, n(this).data(), "object" == typeof t && t); if (r || (r = new y(this, u), n(this).data(s, r)), "string" == typeof t) { if ("undefined" == typeof r[t]) throw new TypeError('No method named "' + t + '"'); r[t](i) } else u.show && r.show(i) }) }, o(y, null, [{ key: "VERSION", get: function () { return "4.0.0" } }, { key: "Default", get: function () { return l } }]), y }(); return n(document).on(t.CLICK_DATA_API, u.DATA_TOGGLE, function (i) { var u, e = this, o = r.getSelectorFromElement(this), c, l; o && (u = n(o)[0]); c = n(u).data(s) ? "toggle" : f({}, n(u).data(), n(this).data()); "A" !== this.tagName && "AREA" !== this.tagName || i.preventDefault(); l = n(u).one(t.SHOW, function (i) { i.isDefaultPrevented() || l.one(t.HIDDEN, function () { n(e).is(":visible") && e.focus() }) }); h._jQueryInterface.call(n(u), c, this) }), n.fn.modal = h._jQueryInterface, n.fn.modal.Constructor = h, n.fn.modal.noConflict = function () { return n.fn.modal = y, h._jQueryInterface }, h }(t), d = function (n) { var u = "tooltip", l = "bs.tooltip", t = "." + l, p = n.fn[u], w = new RegExp("(^|\\s)bs-tooltip\\S+", "g"), b = { animation: "boolean", template: "string", title: "(string|element|function)", trigger: "string", delay: "(number|object)", html: "boolean", selector: "(string|boolean)", placement: "(string|function)", offset: "(number|string)", container: "(string|element|boolean)", fallbackPlacement: "(string|array)", boundary: "(string|element)" }, k = { AUTO: "auto", TOP: "top", RIGHT: "right", BOTTOM: "bottom", LEFT: "left" }, d = { animation: !0, template: '<div class="tooltip" role="tooltip"><div class="arrow"><\/div><div class="tooltip-inner"><\/div><\/div>', trigger: "hover focus", title: "", delay: 0, html: !1, selector: !1, placement: "top", offset: 0, container: !1, fallbackPlacement: "flip", boundary: "scrollParent" }, e = "show", v = "out", g = { HIDE: "hide" + t, HIDDEN: "hidden" + t, SHOW: "show" + t, SHOWN: "shown" + t, INSERTED: "inserted" + t, CLICK: "click" + t, FOCUSIN: "focusin" + t, FOCUSOUT: "focusout" + t, MOUSEENTER: "mouseenter" + t, MOUSELEAVE: "mouseleave" + t }, s = "fade", h = "show", nt = ".tooltip-inner", tt = ".arrow", c = "hover", y = "focus", it = "click", rt = "manual", a = function () { function p(n, t) { if ("undefined" == typeof i) throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)"); this._isEnabled = !0; this._timeout = 0; this._hoverState = ""; this._activeTrigger = {}; this._popper = null; this.element = n; this.config = this._getConfig(t); this.tip = null; this._setListeners() } var a = p.prototype; return a.enable = function () { this._isEnabled = !0 }, a.disable = function () { this._isEnabled = !1 }, a.toggleEnabled = function () { this._isEnabled = !this._isEnabled }, a.toggle = function (t) { if (this._isEnabled) if (t) { var r = this.constructor.DATA_KEY, i = n(t.currentTarget).data(r); i || (i = new this.constructor(t.currentTarget, this._getDelegateConfig()), n(t.currentTarget).data(r, i)); i._activeTrigger.click = !i._activeTrigger.click; i._isWithActiveTrigger() ? i._enter(null, i) : i._leave(null, i) } else { if (n(this.getTipElement()).hasClass(h)) return void this._leave(null, this); this._enter(null, this) } }, a.dispose = function () { clearTimeout(this._timeout); n.removeData(this.element, this.constructor.DATA_KEY); n(this.element).off(this.constructor.EVENT_KEY); n(this.element).closest(".modal").off("hide.bs.modal"); this.tip && n(this.tip).remove(); this._isEnabled = null; this._timeout = null; this._hoverState = null; this._activeTrigger = null; null !== this._popper && this._popper.destroy(); this._popper = null; this.element = null; this.config = null; this.tip = null }, a.show = function () { var t = this, f, l, u, e, a, o, y, c; if ("none" === n(this.element).css("display")) throw new Error("Please use show on visible elements"); if (f = n.Event(this.constructor.Event.SHOW), this.isWithContent() && this._isEnabled) { if (n(this.element).trigger(f), l = n.contains(this.element.ownerDocument.documentElement, this.element), f.isDefaultPrevented() || !l) return; u = this.getTipElement(); e = r.getUID(this.constructor.NAME); u.setAttribute("id", e); this.element.setAttribute("aria-describedby", e); this.setContent(); this.config.animation && n(u).addClass(s); a = "function" == typeof this.config.placement ? this.config.placement.call(this, u, this.element) : this.config.placement; o = this._getAttachment(a); this.addAttachmentClass(o); y = !1 === this.config.container ? document.body : n(this.config.container); n(u).data(this.constructor.DATA_KEY, this); n.contains(this.element.ownerDocument.documentElement, this.tip) || n(u).appendTo(y); n(this.element).trigger(this.constructor.Event.INSERTED); this._popper = new i(this.element, u, { placement: o, modifiers: { offset: { offset: this.config.offset }, flip: { behavior: this.config.fallbackPlacement }, arrow: { element: tt }, preventOverflow: { boundariesElement: this.config.boundary } }, onCreate: function (n) { n.originalPlacement !== n.placement && t._handlePopperPlacementChange(n) }, onUpdate: function (n) { t._handlePopperPlacementChange(n) } }); n(u).addClass(h); "ontouchstart" in document.documentElement && n("body").children().on("mouseover", null, n.noop); c = function () { t.config.animation && t._fixTransition(); var i = t._hoverState; t._hoverState = null; n(t.element).trigger(t.constructor.Event.SHOWN); i === v && t._leave(null, t) }; r.supportsTransitionEnd() && n(this.tip).hasClass(s) ? n(this.tip).one(r.TRANSITION_END, c).emulateTransitionEnd(p._TRANSITION_DURATION) : c() } }, a.hide = function (t) { var i = this, u = this.getTipElement(), f = n.Event(this.constructor.Event.HIDE), o = function () { i._hoverState !== e && u.parentNode && u.parentNode.removeChild(u); i._cleanTipClass(); i.element.removeAttribute("aria-describedby"); n(i.element).trigger(i.constructor.Event.HIDDEN); null !== i._popper && i._popper.destroy(); t && t() }; n(this.element).trigger(f); f.isDefaultPrevented() || (n(u).removeClass(h), "ontouchstart" in document.documentElement && n("body").children().off("mouseover", null, n.noop), this._activeTrigger[it] = !1, this._activeTrigger[y] = !1, this._activeTrigger[c] = !1, r.supportsTransitionEnd() && n(this.tip).hasClass(s) ? n(u).one(r.TRANSITION_END, o).emulateTransitionEnd(150) : o(), this._hoverState = "") }, a.update = function () { null !== this._popper && this._popper.scheduleUpdate() }, a.isWithContent = function () { return Boolean(this.getTitle()) }, a.addAttachmentClass = function (t) { n(this.getTipElement()).addClass("bs-tooltip-" + t) }, a.getTipElement = function () { return this.tip = this.tip || n(this.config.template)[0], this.tip }, a.setContent = function () { var t = n(this.getTipElement()); this.setElementContent(t.find(nt), this.getTitle()); t.removeClass(s + " " + h) }, a.setElementContent = function (t, i) { var r = this.config.html; "object" == typeof i && (i.nodeType || i.jquery) ? r ? n(i).parent().is(t) || t.empty().append(i) : t.text(n(i).text()) : t[r ? "html" : "text"](i) }, a.getTitle = function () { var n = this.element.getAttribute("data-original-title"); return n || (n = "function" == typeof this.config.title ? this.config.title.call(this.element) : this.config.title), n }, a._getAttachment = function (n) { return k[n.toUpperCase()] }, a._setListeners = function () { var t = this; this.config.trigger.split(" ").forEach(function (i) { if ("click" === i) n(t.element).on(t.constructor.Event.CLICK, t.config.selector, function (n) { return t.toggle(n) }); else if (i !== rt) { var r = i === c ? t.constructor.Event.MOUSEENTER : t.constructor.Event.FOCUSIN, u = i === c ? t.constructor.Event.MOUSELEAVE : t.constructor.Event.FOCUSOUT; n(t.element).on(r, t.config.selector, function (n) { return t._enter(n) }).on(u, t.config.selector, function (n) { return t._leave(n) }) } n(t.element).closest(".modal").on("hide.bs.modal", function () { return t.hide() }) }); this.config.selector ? this.config = f({}, this.config, { trigger: "manual", selector: "" }) : this._fixTitle() }, a._fixTitle = function () { var n = typeof this.element.getAttribute("data-original-title"); (this.element.getAttribute("title") || "string" !== n) && (this.element.setAttribute("data-original-title", this.element.getAttribute("title") || ""), this.element.setAttribute("title", "")) }, a._enter = function (t, i) { var r = this.constructor.DATA_KEY; (i = i || n(t.currentTarget).data(r)) || (i = new this.constructor(t.currentTarget, this._getDelegateConfig()), n(t.currentTarget).data(r, i)); t && (i._activeTrigger["focusin" === t.type ? y : c] = !0); n(i.getTipElement()).hasClass(h) || i._hoverState === e ? i._hoverState = e : (clearTimeout(i._timeout), i._hoverState = e, i.config.delay && i.config.delay.show ? i._timeout = setTimeout(function () { i._hoverState === e && i.show() }, i.config.delay.show) : i.show()) }, a._leave = function (t, i) { var r = this.constructor.DATA_KEY; (i = i || n(t.currentTarget).data(r)) || (i = new this.constructor(t.currentTarget, this._getDelegateConfig()), n(t.currentTarget).data(r, i)); t && (i._activeTrigger["focusout" === t.type ? y : c] = !1); i._isWithActiveTrigger() || (clearTimeout(i._timeout), i._hoverState = v, i.config.delay && i.config.delay.hide ? i._timeout = setTimeout(function () { i._hoverState === v && i.hide() }, i.config.delay.hide) : i.hide()) }, a._isWithActiveTrigger = function () { for (var n in this._activeTrigger) if (this._activeTrigger[n]) return !0; return !1 }, a._getConfig = function (t) { return "number" == typeof (t = f({}, this.constructor.Default, n(this.element).data(), t)).delay && (t.delay = { show: t.delay, hide: t.delay }), "number" == typeof t.title && (t.title = t.title.toString()), "number" == typeof t.content && (t.content = t.content.toString()), r.typeCheckConfig(u, t, this.constructor.DefaultType), t }, a._getDelegateConfig = function () { var t = {}, n; if (this.config) for (n in this.config) this.constructor.Default[n] !== this.config[n] && (t[n] = this.config[n]); return t }, a._cleanTipClass = function () { var i = n(this.getTipElement()), t = i.attr("class").match(w); null !== t && t.length > 0 && i.removeClass(t.join("")) }, a._handlePopperPlacementChange = function (n) { this._cleanTipClass(); this.addAttachmentClass(this._getAttachment(n.placement)) }, a._fixTransition = function () { var t = this.getTipElement(), i = this.config.animation; null === t.getAttribute("x-placement") && (n(t).removeClass(s), this.config.animation = !1, this.hide(), this.show(), this.config.animation = i) }, p._jQueryInterface = function (t) { return this.each(function () { var i = n(this).data(l), r = "object" == typeof t && t; if ((i || !/dispose|hide/.test(t)) && (i || (i = new p(this, r), n(this).data(l, i)), "string" == typeof t)) { if ("undefined" == typeof i[t]) throw new TypeError('No method named "' + t + '"'); i[t]() } }) }, o(p, null, [{ key: "VERSION", get: function () { return "4.0.0" } }, { key: "Default", get: function () { return d } }, { key: "NAME", get: function () { return u } }, { key: "DATA_KEY", get: function () { return l } }, { key: "Event", get: function () { return g } }, { key: "EVENT_KEY", get: function () { return t } }, { key: "DefaultType", get: function () { return b } }]), p }(); return n.fn[u] = a._jQueryInterface, n.fn[u].Constructor = a, n.fn[u].noConflict = function () { return n.fn[u] = p, a._jQueryInterface }, a }(t), dt = function (n) { var i = "popover", r = "bs.popover", t = "." + r, e = n.fn[i], s = new RegExp("(^|\\s)bs-popover\\S+", "g"), h = f({}, d.Default, { placement: "right", trigger: "click", content: "", template: '<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-header"><\/h3><div class="popover-body"><\/div><\/div>' }), c = f({}, d.DefaultType, { content: "(string|element|function)" }), l = "fade", a = "show", v = ".popover-header", y = ".popover-body", p = { HIDE: "hide" + t, HIDDEN: "hidden" + t, SHOW: "show" + t, SHOWN: "shown" + t, INSERTED: "inserted" + t, CLICK: "click" + t, FOCUSIN: "focusin" + t, FOCUSOUT: "focusout" + t, MOUSEENTER: "mouseenter" + t, MOUSELEAVE: "mouseleave" + t }, u = function (u) { function e() { return u.apply(this, arguments) || this } var w, b, f; return b = u, (w = e).prototype = Object.create(b.prototype), w.prototype.constructor = w, w.__proto__ = b, f = e.prototype, f.isWithContent = function () { return this.getTitle() || this._getContent() }, f.addAttachmentClass = function (t) { n(this.getTipElement()).addClass("bs-popover-" + t) }, f.getTipElement = function () { return this.tip = this.tip || n(this.config.template)[0], this.tip }, f.setContent = function () { var i = n(this.getTipElement()), t; this.setElementContent(i.find(v), this.getTitle()); t = this._getContent(); "function" == typeof t && (t = t.call(this.element)); this.setElementContent(i.find(y), t); i.removeClass(l + " " + a) }, f._getContent = function () { return this.element.getAttribute("data-content") || this.config.content }, f._cleanTipClass = function () { var i = n(this.getTipElement()), t = i.attr("class").match(s); null !== t && t.length > 0 && i.removeClass(t.join("")) }, e._jQueryInterface = function (t) { return this.each(function () { var i = n(this).data(r), u = "object" == typeof t ? t : null; if ((i || !/destroy|hide/.test(t)) && (i || (i = new e(this, u), n(this).data(r, i)), "string" == typeof t)) { if ("undefined" == typeof i[t]) throw new TypeError('No method named "' + t + '"'); i[t]() } }) }, o(e, null, [{ key: "VERSION", get: function () { return "4.0.0" } }, { key: "Default", get: function () { return h } }, { key: "NAME", get: function () { return i } }, { key: "DATA_KEY", get: function () { return r } }, { key: "Event", get: function () { return p } }, { key: "EVENT_KEY", get: function () { return t } }, { key: "DefaultType", get: function () { return c } }]), e }(d); return n.fn[i] = u._jQueryInterface, n.fn[i].Constructor = u, n.fn[i].noConflict = function () { return n.fn[i] = e, u._jQueryInterface }, u }(t), gt = function (n) { var i = "scrollspy", s = "bs.scrollspy", h = "." + s, v = n.fn[i], l = { offset: 10, method: "auto", target: "" }, y = { offset: "number", method: "string", target: "(string|element)" }, c = { ACTIVATE: "activate" + h, SCROLL: "scroll" + h, LOAD_DATA_API: "load" + h + ".data-api" }, p = "dropdown-item", u = "active", t = { DATA_SPY: '[data-spy="scroll"]', ACTIVE: ".active", NAV_LIST_GROUP: ".nav, .list-group", NAV_LINKS: ".nav-link", NAV_ITEMS: ".nav-item", LIST_ITEMS: ".list-group-item", DROPDOWN: ".dropdown", DROPDOWN_ITEMS: ".dropdown-item", DROPDOWN_TOGGLE: ".dropdown-toggle" }, w = "offset", a = "position", e = function () { function v(i, r) { var u = this; this._element = i; this._scrollElement = "BODY" === i.tagName ? window : i; this._config = this._getConfig(r); this._selector = this._config.target + " " + t.NAV_LINKS + "," + this._config.target + " " + t.LIST_ITEMS + "," + this._config.target + " " + t.DROPDOWN_ITEMS; this._offsets = []; this._targets = []; this._activeTarget = null; this._scrollHeight = 0; n(this._scrollElement).on(c.SCROLL, function (n) { return u._process(n) }); this.refresh(); this._process() } var e = v.prototype; return e.refresh = function () { var t = this, u = this._scrollElement === this._scrollElement.window ? w : a, i = "auto" === this._config.method ? u : this._config.method, f = i === a ? this._getScrollTop() : 0; this._offsets = []; this._targets = []; this._scrollHeight = this._getScrollHeight(); n.makeArray(n(this._selector)).map(function (t) { var u, e = r.getSelectorFromElement(t), o; return (e && (u = n(e)[0]), u) && (o = u.getBoundingClientRect(), o.width || o.height) ? [n(u)[i]().top + f, e] : null }).filter(function (n) { return n }).sort(function (n, t) { return n[0] - t[0] }).forEach(function (n) { t._offsets.push(n[0]); t._targets.push(n[1]) }) }, e.dispose = function () { n.removeData(this._element, s); n(this._scrollElement).off(h); this._element = null; this._scrollElement = null; this._config = null; this._selector = null; this._offsets = null; this._targets = null; this._activeTarget = null; this._scrollHeight = null }, e._getConfig = function (t) { if ("string" != typeof (t = f({}, l, t)).target) { var u = n(t.target).attr("id"); u || (u = r.getUID(i), n(t.target).attr("id", u)); t.target = "#" + u } return r.typeCheckConfig(i, t, y), t }, e._getScrollTop = function () { return this._scrollElement === window ? this._scrollElement.pageYOffset : this._scrollElement.scrollTop }, e._getScrollHeight = function () { return this._scrollElement.scrollHeight || Math.max(document.body.scrollHeight, document.documentElement.scrollHeight) }, e._getOffsetHeight = function () { return this._scrollElement === window ? window.innerHeight : this._scrollElement.getBoundingClientRect().height }, e._process = function () { var t = this._getScrollTop() + this._config.offset, r = this._getScrollHeight(), u = this._config.offset + r - this._getOffsetHeight(), i, n; if (this._scrollHeight !== r && this.refresh(), t >= u) i = this._targets[this._targets.length - 1], this._activeTarget !== i && this._activate(i); else { if (this._activeTarget && t < this._offsets[0] && this._offsets[0] > 0) return this._activeTarget = null, void this._clear(); for (n = this._offsets.length; n--;)this._activeTarget !== this._targets[n] && t >= this._offsets[n] && ("undefined" == typeof this._offsets[n + 1] || t < this._offsets[n + 1]) && this._activate(this._targets[n]) } }, e._activate = function (i) { var f, r; this._activeTarget = i; this._clear(); f = this._selector.split(","); f = f.map(function (n) { return n + '[data-target="' + i + '"],' + n + '[href="' + i + '"]' }); r = n(f.join(",")); r.hasClass(p) ? (r.closest(t.DROPDOWN).find(t.DROPDOWN_TOGGLE).addClass(u), r.addClass(u)) : (r.addClass(u), r.parents(t.NAV_LIST_GROUP).prev(t.NAV_LINKS + ", " + t.LIST_ITEMS).addClass(u), r.parents(t.NAV_LIST_GROUP).prev(t.NAV_ITEMS).children(t.NAV_LINKS).addClass(u)); n(this._scrollElement).trigger(c.ACTIVATE, { relatedTarget: i }) }, e._clear = function () { n(this._selector).filter(t.ACTIVE).removeClass(u) }, v._jQueryInterface = function (t) { return this.each(function () { var i = n(this).data(s); if (i || (i = new v(this, "object" == typeof t && t), n(this).data(s, i)), "string" == typeof t) { if ("undefined" == typeof i[t]) throw new TypeError('No method named "' + t + '"'); i[t]() } }) }, o(v, null, [{ key: "VERSION", get: function () { return "4.0.0" } }, { key: "Default", get: function () { return l } }]), v }(); return n(window).on(c.LOAD_DATA_API, function () { for (var u, i = n.makeArray(n(t.DATA_SPY)), r = i.length; r--;)u = n(i[r]), e._jQueryInterface.call(u, u.data()) }), n.fn[i] = e._jQueryInterface, n.fn[i].Constructor = e, n.fn[i].noConflict = function () { return n.fn[i] = v, e._jQueryInterface }, e }(t), ni = function (n) { var f = "bs.tab", e = "." + f, l = n.fn.tab, t = { HIDE: "hide" + e, HIDDEN: "hidden" + e, SHOW: "show" + e, SHOWN: "shown" + e, CLICK_DATA_API: "click.bs.tab.data-api" }, a = "dropdown-menu", i = "active", v = "disabled", y = "fade", s = "show", p = ".dropdown", w = ".nav, .list-group", h = ".active", c = "> li > .active", b = ".dropdown-toggle", k = "> .dropdown-menu .active", u = function () { function u(n) { this._element = n } var e = u.prototype; return e.show = function () { var y = this, e, u, f, o, p, s, l, a; this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && n(this._element).hasClass(i) || n(this._element).hasClass(v) || (f = n(this._element).closest(w)[0], o = r.getSelectorFromElement(this._element), f && (p = "UL" === f.nodeName ? c : h, u = (u = n.makeArray(n(f).find(p)))[u.length - 1]), s = n.Event(t.HIDE, { relatedTarget: this._element }), l = n.Event(t.SHOW, { relatedTarget: u }), (u && n(u).trigger(s), n(this._element).trigger(l), l.isDefaultPrevented() || s.isDefaultPrevented()) || (o && (e = n(o)[0]), this._activate(this._element, f), a = function () { var i = n.Event(t.HIDDEN, { relatedTarget: y._element }), r = n.Event(t.SHOWN, { relatedTarget: u }); n(u).trigger(i); n(y._element).trigger(r) }, e ? this._activate(e, e.parentNode, a) : a())) }, e.dispose = function () { n.removeData(this._element, f); this._element = null }, e._activate = function (t, i, u) { var o = this, f = ("UL" === i.nodeName ? n(i).find(c) : n(i).children(h))[0], s = u && r.supportsTransitionEnd() && f && n(f).hasClass(y), e = function () { return o._transitionComplete(t, f, u) }; f && s ? n(f).one(r.TRANSITION_END, e).emulateTransitionEnd(150) : e() }, e._transitionComplete = function (t, u, f) { var e, o; u && (n(u).removeClass(s + " " + i), e = n(u.parentNode).find(k)[0], e && n(e).removeClass(i), "tab" === u.getAttribute("role") && u.setAttribute("aria-selected", !1)); (n(t).addClass(i), "tab" === t.getAttribute("role") && t.setAttribute("aria-selected", !0), r.reflow(t), n(t).addClass(s), t.parentNode && n(t.parentNode).hasClass(a)) && (o = n(t).closest(p)[0], o && n(o).find(b).addClass(i), t.setAttribute("aria-expanded", !0)); f && f() }, u._jQueryInterface = function (t) { return this.each(function () { var r = n(this), i = r.data(f); if (i || (i = new u(this), r.data(f, i)), "string" == typeof t) { if ("undefined" == typeof i[t]) throw new TypeError('No method named "' + t + '"'); i[t]() } }) }, o(u, null, [{ key: "VERSION", get: function () { return "4.0.0" } }]), u }(); return n(document).on(t.CLICK_DATA_API, '[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]', function (t) { t.preventDefault(); u._jQueryInterface.call(n(this), "show") }), n.fn.tab = u._jQueryInterface, n.fn.tab.Constructor = u, n.fn.tab.noConflict = function () { return n.fn.tab = l, u._jQueryInterface }, u }(t); !function (n) { if ("undefined" == typeof n) throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript."); var t = n.fn.jquery.split(" ")[0].split("."); if (t[0] < 2 && t[1] < 9 || 1 === t[0] && 9 === t[1] && t[2] < 1 || t[0] >= 4) throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0"); }(t); n.Util = r; n.Alert = vt; n.Button = yt; n.Carousel = pt; n.Collapse = wt; n.Dropdown = bt; n.Modal = kt; n.Popover = dt; n.Scrollspy = gt; n.Tab = ni; n.Tooltip = d; Object.defineProperty(n, "__esModule", { value: !0 }) }), function (n) { typeof define == "function" && define.amd ? define(["jquery"], n) : typeof exports == "object" ? n(require("jquery")) : n(jQuery) }(function (n) { function i(n) { return t.raw ? n : encodeURIComponent(n) } function f(n) { return t.raw ? n : decodeURIComponent(n) } function e(n) { return i(t.json ? JSON.stringify(n) : String(n)) } function o(n) { n.indexOf('"') === 0 && (n = n.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, "\\")); try { return n = decodeURIComponent(n.replace(u, " ")), t.json ? JSON.parse(n) : n } catch (i) { } } function r(i, r) { var u = t.raw ? i : o(i); return n.isFunction(r) ? r(u) : u } var u = /\+/g, t = n.cookie = function (u, o, s) { var y, a, h, v, c, p; if (o !== undefined && !n.isFunction(o)) return s = n.extend({}, t.defaults, s), typeof s.expires == "number" && (y = s.expires, a = s.expires = new Date, a.setTime(+a + y * 864e5)), document.cookie = [i(u), "=", e(o), s.expires ? "; expires=" + s.expires.toUTCString() : "", s.path ? "; path=" + s.path : "", s.domain ? "; domain=" + s.domain : "", s.secure ? "; secure" : ""].join(""); for (h = u ? undefined : {}, v = document.cookie ? document.cookie.split("; ") : [], c = 0, p = v.length; c < p; c++) { var w = v[c].split("="), b = f(w.shift()), l = w.join("="); if (u && u === b) { h = r(l, o); break } u || (l = r(l)) === undefined || (h[b] = l) } return h }; t.defaults = {}; n.removeCookie = function (t, i) { return n.cookie(t) === undefined ? !1 : (n.cookie(t, "", n.extend({}, i, { expires: -1 })), !n.cookie(t)) } }), function (n) { "use strict"; typeof define == "function" && define.amd ? define(["jquery"], function (t) { return n(t, window, document) }) : typeof exports == "object" ? module.exports = function (t, i) { return t || (t = window), i || (i = typeof window != "undefined" ? require("jquery") : require("jquery")(t)), n(i, t, t.document) } : n(jQuery, window, document) }(function (n, t, i, r) { "use strict"; function vt(t) { var f = "a aa ai ao as b fn i m o s ", i, r, u = {}; n.each(t, function (n) { i = n.match(/^([^A-Z]+?)([A-Z])/); i && f.indexOf(i[1] + " ") !== -1 && (r = n.replace(i[0], i[2].toLowerCase()), u[r] = n, i[1] === "o" && vt(t[n])) }); t._hungarianMap = u } function nt(t, i, u) { t._hungarianMap || vt(t); var f; n.each(i, function (e) { f = t._hungarianMap[e]; f !== r && (u || i[f] === r) && (f.charAt(0) === "o" ? (i[f] || (i[f] = {}), n.extend(!0, i[f], i[e]), nt(t[f], i[f], u)) : i[f] = i[e]) }) } function er(n) { var i = u.defaults.oLanguage, r = i.sDecimal, f, t; r && cu(r); n && (f = n.sZeroRecords, !n.sEmptyTable && f && i.sEmptyTable === "No data available in table" && k(n, n, "sZeroRecords", "sEmptyTable"), !n.sLoadingRecords && f && i.sLoadingRecords === "Loading..." && k(n, n, "sZeroRecords", "sLoadingRecords"), n.sInfoThousands && (n.sThousands = n.sInfoThousands), t = n.sDecimal, t && r !== t && cu(t)) } function wu(n) { var t, i, r; if (a(n, "ordering", "bSort"), a(n, "orderMulti", "bSortMulti"), a(n, "orderClasses", "bSortClasses"), a(n, "orderCellsTop", "bSortCellsTop"), a(n, "order", "aaSorting"), a(n, "orderFixed", "aaSortingFixed"), a(n, "paging", "bPaginate"), a(n, "pagingType", "sPaginationType"), a(n, "pageLength", "iDisplayLength"), a(n, "searching", "bFilter"), typeof n.sScrollX == "boolean" && (n.sScrollX = n.sScrollX ? "100%" : ""), typeof n.scrollX == "boolean" && (n.scrollX = n.scrollX ? "100%" : ""), t = n.aoSearchCols, t) for (i = 0, r = t.length; i < r; i++)t[i] && nt(u.models.oSearch, t[i]) } function bu(t) { a(t, "orderable", "bSortable"); a(t, "orderData", "aDataSort"); a(t, "orderSequence", "asSorting"); a(t, "orderDataType", "sortDataType"); var i = t.aDataSort; typeof i != "number" || n.isArray(i) || (t.aDataSort = [i]) } function ku(i) { var r; if (!u.__browser) { r = {}; u.__browser = r; var e = n("<div/>").css({ position: "fixed", top: 0, left: n(t).scrollLeft() * -1, height: 1, width: 1, overflow: "hidden" }).append(n("<div/>").css({ position: "absolute", top: 1, left: 1, width: 100, overflow: "scroll" }).append(n("<div/>").css({ width: "100%", height: 10 }))).appendTo("body"), f = e.children(), o = f.children(); r.barWidth = f[0].offsetWidth - f[0].clientWidth; r.bScrollOversize = o[0].offsetWidth === 100 && f[0].clientWidth !== 100; r.bScrollbarLeft = Math.round(o.offset().left) !== 1; r.bBounding = e[0].getBoundingClientRect().width ? !0 : !1; e.remove() } n.extend(i.oBrowser, u.__browser); i.oScroll.iBarWidth = u.__browser.barWidth } function du(n, t, i, u, f, e) { var o = u, s, h = !1; for (i !== r && (s = i, h = !0); o !== f;)n.hasOwnProperty(o) && (s = h ? t(s, n[o], o, n) : n[o], h = !0, o += e); return s } function or(t, r) { var f = u.defaults.column, e = t.aoColumns.length, s = n.extend({}, u.models.oColumn, f, { nTh: r ? r : i.createElement("th"), sTitle: f.sTitle ? f.sTitle : r ? r.innerHTML : "", aDataSort: f.aDataSort ? f.aDataSort : [e], mData: f.mData ? f.mData : e, idx: e }), o; t.aoColumns.push(s); o = t.aoPreSearchCols; o[e] = n.extend({}, u.models.oSearch, o[e]); ei(t, e, n(r).data()) } function ei(t, i, f) { var e = t.aoColumns[i], o = t.oClasses, h = n(e.nTh), a, c, l; e.sWidthOrig || (e.sWidthOrig = h.attr("width") || null, a = (h.attr("style") || "").match(/width:\s*(\d+[pxem%]+)/), a && (e.sWidthOrig = a[1])); f !== r && f !== null && (bu(f), nt(u.defaults.column, f), f.mDataProp === r || f.mData || (f.mData = f.mDataProp), f.sType && (e._sManualType = f.sType), f.className && !f.sClass && (f.sClass = f.className), f.sClass && h.addClass(f.sClass), n.extend(e, f), k(e, f, "sWidth", "sWidthOrig"), f.iDataSort !== r && (e.aDataSort = [f.iDataSort]), k(e, f, "aDataSort")); var s = e.mData, p = et(s), y = e.mRender ? et(e.mRender) : null, v = function (n) { return typeof n == "string" && n.indexOf("@") !== -1 }; e._bAttrSrc = n.isPlainObject(s) && (v(s.sort) || v(s.type) || v(s.filter)); e._setter = null; e.fnGetData = function (n, t, i) { var u = p(n, t, r, i); return y && t ? y(u, t, n, i) : u }; e.fnSetData = function (n, t, i) { return rt(s)(n, t, i) }; typeof s != "number" && (t._rowReadObject = !0); t.oFeatures.bSort || (e.bSortable = !1, h.addClass(o.sSortableNone)); c = n.inArray("asc", e.asSorting) !== -1; l = n.inArray("desc", e.asSorting) !== -1; e.bSortable && (c || l) ? c && !l ? (e.sSortingClass = o.sSortableAsc, e.sSortingClassJUI = o.sSortJUIAscAllowed) : !c && l ? (e.sSortingClass = o.sSortableDesc, e.sSortingClassJUI = o.sSortJUIDescAllowed) : (e.sSortingClass = o.sSortable, e.sSortingClassJUI = o.sSortJUI) : (e.sSortingClass = o.sSortableNone, e.sSortingClassJUI = "") } function yt(n) { var i, t, u, r; if (n.oFeatures.bAutoWidth !== !1) for (i = n.aoColumns, kr(n), t = 0, u = i.length; t < u; t++)i[t].nTh.style.width = i[t].sWidth; r = n.oScroll; (r.sY !== "" || r.sX !== "") && wi(n); o(n, null, "column-sizing", [n]) } function pt(n, t) { var i = oi(n, "bVisible"); return typeof i[t] == "number" ? i[t] : null } function wt(t, i) { var u = oi(t, "bVisible"), r = n.inArray(i, u); return r !== -1 ? r : null } function ht(t) { var i = 0; return n.each(t.aoColumns, function (t, r) { r.bVisible && n(r.nTh).css("display") !== "none" && i++ }), i } function oi(t, i) { var r = []; return n.map(t.aoColumns, function (n, t) { n[i] && r.push(t) }), r } function sr(n) { for (var c = n.aoColumns, y = n.aoData, h = u.ext.type.detect, e, a, i, v, t, o, s, f = 0, l = c.length; f < l; f++)if (t = c[f], s = [], !t.sType && t._sManualType) t.sType = t._sManualType; else if (!t.sType) { for (e = 0, a = h.length; e < a; e++) { for (i = 0, v = y.length; i < v; i++) { if (s[i] === r && (s[i] = p(n, i, f, "type")), o = h[e](s[i], n), !o && e !== h.length - 1) break; if (o === "html") break } if (o) { t.sType = o; break } } t.sType || (t.sType = "string") } } function gu(t, i, u, f) { var s, a, o, v, c, y, h, l = t.aoColumns, e; if (i) for (s = i.length - 1; s >= 0; s--)for (h = i[s], e = h.targets !== r ? h.targets : h.aTargets, n.isArray(e) || (e = [e]), o = 0, v = e.length; o < v; o++)if (typeof e[o] == "number" && e[o] >= 0) { while (l.length <= e[o]) or(t); f(e[o], h) } else if (typeof e[o] == "number" && e[o] < 0) f(l.length + e[o], h); else if (typeof e[o] == "string") for (c = 0, y = l.length; c < y; c++)(e[o] == "_all" || n(l[c].nTh).hasClass(e[o])) && f(c, h); if (u) for (s = 0, a = u.length; s < a; s++)f(s, u[s]) } function it(t, i, f, e) { var o = t.aoData.length, h = n.extend(!0, {}, u.models.oRow, { src: f ? "dom" : "data", idx: o }), c, s, a, l; for (h._aData = i, t.aoData.push(h), c = t.aoColumns, s = 0, a = c.length; s < a; s++)c[s].sType = null; return t.aiDisplayMaster.push(o), l = t.rowIdFn(i), l !== r && (t.aIds[l] = h), (f || !t.oFeatures.bDeferRender) && ar(t, o, f, e), o } function si(t, i) { var r; return i instanceof n || (i = n(i)), i.map(function (n, i) { return r = lr(t, i), it(t, r.data, i, r.cells) }) } function de(n, t) { return t._DT_RowIndex !== r ? t._DT_RowIndex : null } function ge(t, i, r) { return n.inArray(r, t.aoData[i].anCells) } function p(n, t, i, u) { var h = n.iDraw, e = n.aoColumns[i], s = n.aoData[t]._aData, o = e.sDefaultContent, f = e.fnGetData(s, u, { settings: n, row: t, col: i }); if (f === r) return n.iDrawError != h && o === null && (tt(n, 0, "Requested unknown parameter " + (typeof e.mData == "function" ? "{function}" : "'" + e.mData + "'") + " for row " + t + ", column " + i, 4), n.iDrawError = h), o; if ((f === s || f === null) && o !== null && u !== r) f = o; else if (typeof f == "function") return f.call(s); return f === null && u == "display" ? "" : f } function nf(n, t, i, r) { var u = n.aoColumns[i], f = n.aoData[t]._aData; u.fnSetData(f, r, { settings: n, row: t, col: i }) } function hr(t) { return n.map(t.match(/(\\.|[^\.])+/g) || [""], function (n) { return n.replace(/\\\./g, ".") }) } function et(t) { var i, u; return n.isPlainObject(t) ? (i = {}, n.each(t, function (n, t) { t && (i[n] = et(t)) }), function (n, t, u, f) { var e = i[t] || i._; return e !== r ? e(n, t, u, f) : n }) : t === null ? function (n) { return n } : typeof t == "function" ? function (n, i, r, u) { return t(n, i, r, u) } : typeof t == "string" && (t.indexOf(".") !== -1 || t.indexOf("[") !== -1 || t.indexOf("(") !== -1) ? (u = function (t, i, f) { var s, a, h, v, e, o, y, c, p, l; if (f !== "") for (e = hr(f), o = 0, y = e.length; o < y; o++) { if (s = e[o].match(ct), a = e[o].match(ft), s) { if (e[o] = e[o].replace(ct, ""), e[o] !== "" && (t = t[e[o]]), h = [], e.splice(0, o + 1), v = e.join("."), n.isArray(t)) for (c = 0, p = t.length; c < p; c++)h.push(u(t[c], i, v)); l = s[0].substring(1, s[0].length - 1); t = l === "" ? h : h.join(l); break } else if (a) { e[o] = e[o].replace(ft, ""); t = t[e[o]](); continue } if (t === null || t[e[o]] === r) return r; t = t[e[o]] } return t }, function (n, i) { return u(n, i, t) }) : function (n) { return n[t] } } function rt(t) { if (n.isPlainObject(t)) return rt(t._); if (t === null) return function () { }; if (typeof t == "function") return function (n, i, r) { t(n, "set", i, r) }; if (typeof t == "string" && (t.indexOf(".") !== -1 || t.indexOf("[") !== -1 || t.indexOf("(") !== -1)) { var i = function (t, u, f) { for (var e = hr(f), h, c = e[e.length - 1], a, v, l, y, s, w, o = 0, p = e.length - 1; o < p; o++) { if (a = e[o].match(ct), v = e[o].match(ft), a) { if (e[o] = e[o].replace(ct, ""), t[e[o]] = [], h = e.slice(), h.splice(0, o + 1), y = h.join("."), n.isArray(u)) for (s = 0, w = u.length; s < w; s++)l = {}, i(l, u[s], y), t[e[o]].push(l); else t[e[o]] = u; return } v && (e[o] = e[o].replace(ft, ""), t = t[e[o]](u)); (t[e[o]] === null || t[e[o]] === r) && (t[e[o]] = {}); t = t[e[o]] } c.match(ft) ? t = t[c.replace(ft, "")](u) : t[c.replace(ct, "")] = u }; return function (n, r) { return i(n, r, t) } } return function (n, i) { n[t] = i } } function cr(n) { return w(n.aoData, "_aData") } function hi(n) { n.aoData.length = 0; n.aiDisplayMaster.length = 0; n.aiDisplay.length = 0; n.aIds = {} } function ci(n, t, i) { for (var f = -1, u = 0, e = n.length; u < e; u++)n[u] == t ? f = u : n[u] > t && n[u]--; f != -1 && i === r && n.splice(f, 1) } function bt(n, t, i, u) { var e = n.aoData[t], f, s, c = function (i, r) { while (i.childNodes.length) i.removeChild(i.firstChild); i.innerHTML = p(n, t, r, "display") }, o, h; if (i !== "dom" && (i && i !== "auto" || e.src !== "dom")) { if (o = e.anCells, o) if (u !== r) c(o[u], u); else for (f = 0, s = o.length; f < s; f++)c(o[f], f) } else e._aData = lr(n, e, u, u === r ? r : e._aData).data; if (e._aSortData = null, e._aFilterData = null, h = n.aoColumns, u !== r) h[u].sType = null; else { for (f = 0, s = h.length; f < s; f++)h[f].sType = null; vr(n, e) } } function lr(t, i, u, f) { var s = [], o = i.firstChild, v, e, h = 0, c, d = t.aoColumns, b = t._rowReadObject, l, y, a, k, p, w; if (f = f !== r ? f : b ? {} : [], l = function (n, t) { var i, r, u; typeof n == "string" && (i = n.indexOf("@"), i !== -1 && (r = n.substring(i + 1), u = rt(n), u(f, t.getAttribute(r)))) }, y = function (t) { if (u === r || u === h) if (e = d[h], c = n.trim(t.innerHTML), e && e._bAttrSrc) { var i = rt(e.mData._); i(f, c); l(e.mData.sort, t); l(e.mData.type, t); l(e.mData.filter, t) } else b ? (e._setter || (e._setter = rt(e.mData)), e._setter(f, c)) : f[h] = c; h++ }, o) while (o) v = o.nodeName.toUpperCase(), (v == "TD" || v == "TH") && (y(o), s.push(o)), o = o.nextSibling; else for (s = i.anCells, a = 0, k = s.length; a < k; a++)y(s[a]); return p = i.firstChild ? i : i.nTr, p && (w = p.getAttribute("id"), w && rt(t.rowId)(f, w)), { data: f, cells: s } } function ar(t, r, u, f) { var c = t.aoData[r], v = c._aData, a = [], l, h, e, s, y; if (c.nTr === null) { for (l = u || i.createElement("tr"), c.nTr = l, c.anCells = a, l._DT_RowIndex = r, vr(t, c), s = 0, y = t.aoColumns.length; s < y; s++)e = t.aoColumns[s], h = u ? f[s] : i.createElement(e.sCellType), h._DT_CellIndex = { row: r, column: s }, a.push(h), u && !e.mRender && e.mData === s || n.isPlainObject(e.mData) && e.mData._ === s + ".display" || (h.innerHTML = p(t, r, s, "display")), e.sClass && (h.className += " " + e.sClass), e.bVisible && !u ? l.appendChild(h) : !e.bVisible && u && h.parentNode.removeChild(h), e.fnCreatedCell && e.fnCreatedCell.call(t.oInstance, h, p(t, r, s), v, r, s); o(t, "aoRowCreatedCallback", null, [l, v, r, a]) } c.nTr.setAttribute("role", "row") } function vr(t, i) { var u = i.nTr, r = i._aData, f, e; u && (f = t.rowIdFn(r), f && (u.id = f), r.DT_RowClass && (e = r.DT_RowClass.split(" "), i.__rowc = i.__rowc ? fi(i.__rowc.concat(e)) : e, n(u).removeClass(i.__rowc.join(" ")).addClass(r.DT_RowClass)), r.DT_RowAttr && n(u).attr(r.DT_RowAttr), r.DT_RowData && n(u).data(r.DT_RowData)) } function tf(t) { var r, e, u, l, i, f = t.nTHead, a = t.nTFoot, o = n("th, td", f).length === 0, s = t.oClasses, h = t.aoColumns, c; for (o && (l = n("<tr/>").appendTo(f)), r = 0, e = h.length; r < e; r++)i = h[r], u = n(i.nTh).addClass(i.sClass), o && u.appendTo(l), t.oFeatures.bSort && (u.addClass(i.sSortingClass), i.bSortable !== !1 && (u.attr("tabindex", t.iTabIndex).attr("aria-controls", t.sTableId), gr(t, i.nTh, r))), i.sTitle != u[0].innerHTML && u.html(i.sTitle), ru(t, "header")(t, u, i, s); if (o && dt(t.aoHeader, f), n(f).find(">tr").attr("role", "row"), n(f).find(">tr>th, >tr>td").addClass(s.sHeaderTH), n(a).find(">tr>th, >tr>td").addClass(s.sFooterTH), a !== null) for (c = t.aoFooter[0], r = 0, e = c.length; r < e; r++)i = h[r], i.nTf = c[r].cell, i.sClass && n(i.nTf).addClass(i.sClass) } function kt(t, i, u) { var f, a, e, y, v, p, c, o = [], l = [], w = t.aoColumns.length, s, h; if (i) { for (u === r && (u = !1), f = 0, a = i.length; f < a; f++) { for (o[f] = i[f].slice(), o[f].nTr = i[f].nTr, e = w - 1; e >= 0; e--)t.aoColumns[e].bVisible || u || o[f].splice(e, 1); l.push([]) } for (f = 0, a = o.length; f < a; f++) { if (c = o[f].nTr, c) while (p = c.firstChild) c.removeChild(p); for (e = 0, y = o[f].length; e < y; e++)if (s = 1, h = 1, l[f][e] === r) { for (c.appendChild(o[f][e].cell), l[f][e] = 1; o[f + s] !== r && o[f][e].cell == o[f + s][e].cell;)l[f + s][e] = 1, s++; while (o[f][e + h] !== r && o[f][e].cell == o[f][e + h].cell) { for (v = 0; v < s; v++)l[f + v][e + h] = 1; h++ } n(o[f][e].cell).attr("rowspan", s).attr("colspan", h) } } } } function ut(t) { var ut = o(t, "aoPreDrawCallback", "preDraw", [t]), c, l, it, rt, f, a, i, v, p, w, tt; if (n.inArray(!1, ut) !== -1) { b(t, !1); return } var k = [], d = 0, g = t.asStripeClasses, nt = g.length, ft = t.aoOpenRows.length, e = t.oLanguage, u = t.iInitDisplayStart, s = y(t) == "ssp", h = t.aiDisplay; if (t.bDrawing = !0, u !== r && u !== -1 && (t._iDisplayStart = s ? u : u >= t.fnRecordsDisplay() ? 0 : u, t.iInitDisplayStart = -1), c = t._iDisplayStart, l = t.fnDisplayEnd(), t.bDeferLoading) t.bDeferLoading = !1, t.iDraw++, b(t, !1); else if (s) { if (!t.bDestroying && !uf(t)) return } else t.iDraw++; if (h.length !== 0) for (it = s ? 0 : c, rt = s ? t.aoData.length : l, f = it; f < rt; f++)a = h[f], i = t.aoData[a], i.nTr === null && ar(t, a), v = i.nTr, nt !== 0 && (p = g[d % nt], i._sRowStripe != p && (n(v).removeClass(i._sRowStripe).addClass(p), i._sRowStripe = p)), o(t, "aoRowCallback", null, [v, i._aData, d, f, a]), k.push(v), d++; else w = e.sZeroRecords, t.iDraw == 1 && y(t) == "ajax" ? w = e.sLoadingRecords : e.sEmptyTable && t.fnRecordsTotal() === 0 && (w = e.sEmptyTable), k[0] = n("<tr/>", { "class": nt ? g[0] : "" }).append(n("<td />", { valign: "top", colSpan: ht(t), "class": t.oClasses.sRowEmpty }).html(w))[0]; o(t, "aoHeaderCallback", "header", [n(t.nTHead).children("tr")[0], cr(t), c, l, h]); o(t, "aoFooterCallback", "footer", [n(t.nTFoot).children("tr")[0], cr(t), c, l, h]); tt = n(t.nTBody); tt.children().detach(); tt.append(n(k)); o(t, "aoDrawCallback", "draw", [t]); t.bSorted = !1; t.bFiltered = !1; t.bDrawing = !1 } function ot(n, t) { var i = n.oFeatures, r = i.bSort, u = i.bFilter; r && ue(n); u ? gt(n, n.oPreviousSearch) : n.aiDisplay = n.aiDisplayMaster.slice(); t !== !0 && (n._iDisplayStart = 0); n._drawHold = t; ut(n); n._drawHold = !1 } function rf(t) { var v = t.oClasses, g = n(t.nTable), k = n("<div/>").insertBefore(g), h = t.oFeatures, o = n("<div/>", { id: t.sTableId + "_wrapper", "class": v.sWrapper + (t.nTFoot ? "" : " " + v.sNoFooter) }), c, f, i, s, y, r, l, e, p, w, a, d, b; for (t.nHolding = k[0], t.nTableWrapper = o[0], t.nTableReinsertBefore = t.nTable.nextSibling, c = t.sDom.split(""), e = 0; e < c.length; e++) { if (f = null, i = c[e], i == "<") { if (s = n("<div/>")[0], y = c[e + 1], y == "'" || y == '"') { for (r = "", l = 2; c[e + l] != y;)r += c[e + l], l++; r == "H" ? r = v.sJUIHeader : r == "F" && (r = v.sJUIFooter); r.indexOf(".") != -1 ? (p = r.split("."), s.id = p[0].substr(1, p[0].length - 1), s.className = p[1]) : r.charAt(0) == "#" ? s.id = r.substr(1, r.length - 1) : s.className = r; e += l } o.append(s); o = n(s) } else if (i == ">") o = o.parent(); else if (i == "l" && h.bPaginate && h.bLengthChange) f = bf(t); else if (i == "f" && h.bFilter) f = of(t); else if (i == "r" && h.bProcessing) f = df(t); else if (i == "t") f = gf(t); else if (i == "i" && h.bInfo) f = yf(t); else if (i == "p" && h.bPaginate) f = kf(t); else if (u.ext.feature.length !== 0) for (w = u.ext.feature, a = 0, d = w.length; a < d; a++)if (i == w[a].cFeature) { f = w[a].fnInit(t); break } f && (b = t.aanFeatures, b[i] || (b[i] = []), b[i].push(f), o.append(f)) } k.replaceWith(o); t.nHolding = null } function dt(t, i) { var c = n(i).children("tr"), l, u, r, o, s, h, a, v, f, e, y, p = function (n, t, i) { for (var r = n[t]; r[i];)i++; return i }; for (t.splice(0, t.length), r = 0, h = c.length; r < h; r++)t.push([]); for (r = 0, h = c.length; r < h; r++)for (l = c[r], v = 0, u = l.firstChild; u;) { if (u.nodeName.toUpperCase() == "TD" || u.nodeName.toUpperCase() == "TH") for (f = u.getAttribute("colspan") * 1, e = u.getAttribute("rowspan") * 1, f = !f || f === 0 || f === 1 ? 1 : f, e = !e || e === 0 || e === 1 ? 1 : e, a = p(t, r, v), y = f === 1 ? !0 : !1, s = 0; s < f; s++)for (o = 0; o < e; o++)t[r + o][a + s] = { cell: u, unique: y }, t[r + o].nTr = l; u = u.nextSibling } } function li(n, t, i) { var f = [], u, e, r, o; for (i || (i = n.aoHeader, t && (i = [], dt(i, t))), u = 0, e = i.length; u < e; u++)for (r = 0, o = i[u].length; r < o; r++)!i[u][r].unique || f[r] && n.bSortCellsTop || (f[r] = i[u][r].cell); return f } function ai(t, i, r) { var f, l, s, c; o(t, "aoServerParams", "serverParams", [i]); i && n.isArray(i) && (f = {}, l = /(.*?)\[\]$/, n.each(i, function (n, t) { var r = t.name.match(l), i; r ? (i = r[0], f[i] || (f[i] = []), f[i].push(t.value)) : f[t.name] = t.value }), i = f); var e, u = t.ajax, a = t.oInstance, h = function (n) { o(t, null, "xhr", [t, n, t.jqXHR]); r(n) }; n.isPlainObject(u) && u.data && (e = u.data, s = typeof e == "function" ? e(i, t) : e, i = typeof e == "function" && s ? s : n.extend(!0, i, s), delete u.data); c = { data: i, success: function (n) { var i = n.error || n.sError; i && tt(t, 0, i); t.json = n; h(n) }, dataType: "json", cache: !1, type: t.sServerMethod, error: function (i, r) { var u = o(t, null, "xhr", [t, null, t.jqXHR]); n.inArray(!0, u) === -1 && (r == "parsererror" ? tt(t, 0, "Invalid JSON response", 1) : i.readyState === 4 && tt(t, 0, "Ajax error", 7)); b(t, !1) } }; t.oAjaxData = i; o(t, null, "preXhr", [t, i]); t.fnServerData ? t.fnServerData.call(a, t.sAjaxSource, n.map(i, function (n, t) { return { name: t, value: n } }), h, t) : t.sAjaxSource || typeof u == "string" ? t.jqXHR = n.ajax(n.extend(c, { url: u || t.sAjaxSource })) : typeof u == "function" ? t.jqXHR = u.call(a, i, h, t) : (t.jqXHR = n.ajax(n.extend(c, u)), u.data = e) } function uf(n) { return n.bAjaxDataGet ? (n.iDraw++, b(n, !0), ai(n, ff(n), function (t) { ef(n, t) }), !1) : !0 } function ff(t) { var c = t.aoColumns, y = c.length, e = t.oFeatures, h = t.oPreviousSearch, d = t.aoPreSearchCols, r, l = [], a, f, o, p = lt(t), b = t._iDisplayStart, k = e.bPaginate !== !1 ? t._iDisplayLength : -1, i = function (n, t) { l.push({ name: n, value: t }) }, s, v; for (i("sEcho", t.iDraw), i("iColumns", y), i("sColumns", w(c, "sName").join(",")), i("iDisplayStart", b), i("iDisplayLength", k), s = { draw: t.iDraw, columns: [], order: [], start: b, length: k, search: { value: h.sSearch, regex: h.bRegex } }, r = 0; r < y; r++)f = c[r], o = d[r], a = typeof f.mData == "function" ? "function" : f.mData, s.columns.push({ data: a, name: f.sName, searchable: f.bSearchable, orderable: f.bSortable, search: { value: o.sSearch, regex: o.bRegex } }), i("mDataProp_" + r, a), e.bFilter && (i("sSearch_" + r, o.sSearch), i("bRegex_" + r, o.bRegex), i("bSearchable_" + r, f.bSearchable)), e.bSort && i("bSortable_" + r, f.bSortable); return (e.bFilter && (i("sSearch", h.sSearch), i("bRegex", h.bRegex)), e.bSort && (n.each(p, function (n, t) { s.order.push({ column: t.col, dir: t.dir }); i("iSortCol_" + n, t.col); i("sSortDir_" + n, t.dir) }), i("iSortingCols", p.length)), v = u.ext.legacy.ajax, v === null) ? t.sAjaxSource ? l : s : v ? l : s } function ef(n, t) { var u = function (n, i) { return t[n] !== r ? t[n] : t[i] }, e = vi(n, t), f = u("sEcho", "draw"), s = u("iTotalRecords", "recordsTotal"), h = u("iTotalDisplayRecords", "recordsFiltered"), i, o; if (f) { if (f * 1 < n.iDraw) return; n.iDraw = f * 1 } for (hi(n), n._iRecordsTotal = parseInt(s, 10), n._iRecordsDisplay = parseInt(h, 10), i = 0, o = e.length; i < o; i++)it(n, e[i]); n.aiDisplay = n.aiDisplayMaster.slice(); n.bAjaxDataGet = !1; ut(n); n._bInitComplete || pi(n, t); n.bAjaxDataGet = !0; b(n, !1) } function vi(t, i) { var u = n.isPlainObject(t.ajax) && t.ajax.dataSrc !== r ? t.ajax.dataSrc : t.sAjaxDataProp; return u === "data" ? i.aaData || i[u] : u !== "" ? et(u)(i) : i } function of(t) { var f = t.oClasses, e = t.sTableId, o = t.oLanguage, r = t.oPreviousSearch, s = t.aanFeatures, h = '<input type="search" class="' + f.sFilterInput + '"/>', u = o.sSearch; u = u.match(/_INPUT_/) ? u.replace("_INPUT_", h) : u + h; var c = n("<div/>", { id: s.f ? null : e + "_filter", "class": f.sFilter }).append(n("<label/>").append(u)), l = function () { var i = s.f, n = this.value ? this.value : ""; n != r.sSearch && (gt(t, { sSearch: n, bRegex: r.bRegex, bSmart: r.bSmart, bCaseInsensitive: r.bCaseInsensitive }), t._iDisplayStart = 0, ut(t)) }, a = t.searchDelay !== null ? t.searchDelay : y(t) === "ssp" ? 400 : 0, v = n("input", c).val(r.sSearch).attr("placeholder", o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT", a ? bi(l, a) : l).on("keypress.DT", function (n) { if (n.keyCode == 13) return !1 }).attr("aria-controls", e); n(t.nTable).on("search.dt.DT", function (n, u) { if (t === u) try { v[0] !== i.activeElement && v.val(r.sSearch) } catch (f) { } }); return c[0] } function gt(n, t, i) { var e = n.oPreviousSearch, f = n.aoPreSearchCols, s = function (n) { e.sSearch = n.sSearch; e.bRegex = n.bRegex; e.bSmart = n.bSmart; e.bCaseInsensitive = n.bCaseInsensitive }, h = function (n) { return n.bEscapeRegex !== r ? !n.bEscapeRegex : n.bRegex }, u; if (sr(n), y(n) != "ssp") { for (cf(n, t.sSearch, i, h(t), t.bSmart, t.bCaseInsensitive), s(t), u = 0; u < f.length; u++)hf(n, f[u].sSearch, u, h(f[u]), f[u].bSmart, f[u].bCaseInsensitive); sf(n) } else s(t); n.bFiltered = !0; o(n, null, "search", [n]) } function sf(t) { for (var h = u.ext.search, r = t.aiDisplay, o, f, s, i, l, e = 0, c = h.length; e < c; e++) { for (s = [], i = 0, l = r.length; i < l; i++)f = r[i], o = t.aoData[f], h[e](t, o._aFilterData, f, o._aData, i) && s.push(f); r.length = 0; n.merge(r, s) } } function hf(n, t, i, r, u, f) { var e; if (t !== "") { var s, h = [], o = n.aiDisplay, c = yr(t, r, u, f); for (e = 0; e < o.length; e++)s = n.aoData[o[e]]._aFilterData[i], c.test(s) && h.push(o[e]); n.aiDisplay = h } } function cf(n, t, i, r, f, e) { var v = yr(t, r, f, e), h = n.oPreviousSearch.sSearch, c = n.aiDisplayMaster, s, l, o, a = []; if (u.ext.search.length !== 0 && (i = !0), l = lf(n), t.length <= 0) n.aiDisplay = c.slice(); else { for ((l || i || h.length > t.length || t.indexOf(h) !== 0 || n.bSorted) && (n.aiDisplay = c.slice()), s = n.aiDisplay, o = 0; o < s.length; o++)v.test(n.aoData[s[o]]._sFilterRow) && a.push(s[o]); n.aiDisplay = a } } function yr(t, i, r, u) { if (t = i ? t : pr(t), r) { var f = n.map(t.match(/"[^"]+"|[^ ]+/g) || [""], function (n) { if (n.charAt(0) === '"') { var t = n.match(/^"(.*)"$/); n = t ? t[1] : n } return n.replace('"', "") }); t = "^(?=.*?" + f.join(")(?=.*?") + ").*$" } return new RegExp(t, u ? "i" : "") } function lf(n) { for (var s = n.aoColumns, f, r, c, e, t, o, l = u.ext.type.search, a = !1, i = 0, h = n.aoData.length; i < h; i++)if (o = n.aoData[i], !o._aFilterData) { for (e = [], r = 0, c = s.length; r < c; r++)f = s[r], f.bSearchable ? (t = p(n, i, r, "filter"), l[f.sType] && (t = l[f.sType](t)), t === null && (t = ""), typeof t != "string" && t.toString && (t = t.toString())) : t = "", t.indexOf && t.indexOf("&") !== -1 && (yi.innerHTML = t, t = no ? yi.textContent : yi.innerText), t.replace && (t = t.replace(/[\r\n]/g, "")), e.push(t); o._aFilterData = e; o._sFilterRow = e.join("  "); a = !0 } return a } function af(n) { return { search: n.sSearch, smart: n.bSmart, regex: n.bRegex, caseInsensitive: n.bCaseInsensitive } } function vf(n) { return { sSearch: n.search, bSmart: n.smart, bRegex: n.regex, bCaseInsensitive: n.caseInsensitive } } function yf(t) { var i = t.sTableId, r = t.aanFeatures.i, u = n("<div/>", { "class": t.oClasses.sInfo, id: r ? null : i + "_info" }); return r || (t.aoDrawCallback.push({ fn: pf, sName: "information" }), u.attr("role", "status").attr("aria-live", "polite"), n(t.nTable).attr("aria-describedby", i + "_info")), u[0] } function pf(t) { var e = t.aanFeatures.i, f; if (e.length !== 0) { var r = t.oLanguage, s = t._iDisplayStart + 1, h = t.fnDisplayEnd(), o = t.fnRecordsTotal(), u = t.fnRecordsDisplay(), i = u ? r.sInfo : r.sInfoEmpty; u !== o && (i += " " + r.sInfoFiltered); i += r.sInfoPostFix; i = wf(t, i); f = r.fnInfoCallback; f !== null && (i = f.call(t.oInstance, t, s, h, o, u, i)); n(e).html(i) } } function wf(n, t) { var i = n.fnFormatNumber, u = n._iDisplayStart + 1, r = n._iDisplayLength, f = n.fnRecordsDisplay(), e = r === -1; return t.replace(/_START_/g, i.call(n, u)).replace(/_END_/g, i.call(n, n.fnDisplayEnd())).replace(/_MAX_/g, i.call(n, n.fnRecordsTotal())).replace(/_TOTAL_/g, i.call(n, f)).replace(/_PAGE_/g, i.call(n, e ? 1 : Math.ceil(u / r))).replace(/_PAGES_/g, i.call(n, e ? 1 : Math.ceil(f / r))) } function ni(n) { var t, u, e = n.iInitDisplayStart, f = n.aoColumns, i, s = n.oFeatures, c = n.bDeferLoading, r; if (!n.bInitialised) { setTimeout(function () { ni(n) }, 200); return } for (rf(n), tf(n), kt(n, n.aoHeader), kt(n, n.aoFooter), b(n, !0), s.bAutoWidth && kr(n), t = 0, u = f.length; t < u; t++)i = f[t], i.sWidth && (i.nTh.style.width = h(i.sWidth)); o(n, null, "preInit", [n]); ot(n); r = y(n); (r != "ssp" || c) && (r == "ajax" ? ai(n, [], function (i) { var r = vi(n, i); for (t = 0; t < r.length; t++)it(n, r[t]); n.iInitDisplayStart = e; ot(n); b(n, !1); pi(n, i) }, n) : (b(n, !1), pi(n))) } function pi(n, t) { n._bInitComplete = !0; (t || n.oInit.aaData) && yt(n); o(n, null, "plugin-init", [n, t]); o(n, "aoInitComplete", "init", [n, t]) } function wr(n, t) { var i = parseInt(t, 10); n._iDisplayLength = i; iu(n); o(n, null, "length", [n, i]) } function bf(t) { for (var o = t.oClasses, f = t.sTableId, u = t.aLengthMenu, s = n.isArray(u[0]), h = s ? u[0] : u, e = s ? u[1] : u, c = n("<select/>", { name: f + "_length", "aria-controls": f, "class": o.sLengthSelect }), r, i = 0, l = h.length; i < l; i++)c[0][i] = new Option(typeof e[i] == "number" ? t.fnFormatNumber(e[i]) : e[i], h[i]); r = n("<div><label/><\/div>").addClass(o.sLength); t.aanFeatures.l || (r[0].id = f + "_length"); r.children().append(t.oLanguage.sLengthMenu.replace("_MENU_", c[0].outerHTML)); n("select", r).val(t._iDisplayLength).on("change.DT", function () { wr(t, n(this).val()); ut(t) }); n(t.nTable).on("length.dt.DT", function (i, u, f) { t === u && n("select", r).val(f) }); return r[0] } function kf(t) { var e = t.sPaginationType, i = u.ext.pager[e], o = typeof i == "function", s = function (n) { ut(n) }, r = n("<div/>").addClass(t.oClasses.sPaging + e)[0], f = t.aanFeatures; return o || i.fnInit(t, r, s), f.p || (r.id = t.sTableId + "_paginate", t.aoDrawCallback.push({ fn: function (n) { if (o) for (var l = n._iDisplayStart, r = n._iDisplayLength, a = n.fnRecordsDisplay(), u = r === -1, e = u ? 0 : Math.ceil(l / r), h = u ? 1 : Math.ceil(a / r), v = i(e, h), t = 0, c = f.p.length; t < c; t++)ru(n, "pageButton")(n, f.p[t], t, v, e, h); else i.fnUpdate(n, s) }, sName: "pagination" })), r } function br(n, t, i) { var r = n._iDisplayStart, u = n._iDisplayLength, f = n.fnRecordsDisplay(), e; return f === 0 || u === -1 ? r = 0 : typeof t == "number" ? (r = t * u, r > f && (r = 0)) : t == "first" ? r = 0 : t == "previous" ? (r = u >= 0 ? r - u : 0, r < 0 && (r = 0)) : t == "next" ? r + u < f && (r += u) : t == "last" ? r = Math.floor((f - 1) / u) * u : tt(n, 0, "Unknown paging action: " + t, 5), e = n._iDisplayStart !== r, n._iDisplayStart = r, e && (o(n, null, "page", [n]), i && ut(n)), e } function df(t) { return n("<div/>", { id: t.aanFeatures.r ? null : t.sTableId + "_processing", "class": t.oClasses.sProcessing }).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0] } function b(t, i) { t.oFeatures.bProcessing && n(t.aanFeatures.r).css("display", i ? "block" : "none"); o(t, null, "processing", [t, i]) } function gf(t) { var i = n(t.nTable), r, c; if (i.attr("role", "grid"), r = t.oScroll, r.sX === "" && r.sY === "") return t.nTable; var u = r.sX, y = r.sY, f = t.oClasses, s = i.children("caption"), p = s.length ? s[0]._captionSide : null, k = n(i[0].cloneNode(!1)), d = n(i[0].cloneNode(!1)), o = i.children("tfoot"), e = "<div/>", l = function (n) { return n ? h(n) : null }; o.length || (o = null); c = n(e, { "class": f.sScrollWrapper }).append(n(e, { "class": f.sScrollHead }).css({ overflow: "hidden", position: "relative", border: 0, width: u ? l(u) : "100%" }).append(n(e, { "class": f.sScrollHeadInner }).css({ "box-sizing": "content-box", width: r.sXInner || "100%" }).append(k.removeAttr("id").css("margin-left", 0).append(p === "top" ? s : null).append(i.children("thead"))))).append(n(e, { "class": f.sScrollBody }).css({ position: "relative", overflow: "auto", width: l(u) }).append(i)); o && c.append(n(e, { "class": f.sScrollFoot }).css({ overflow: "hidden", border: 0, width: u ? l(u) : "100%" }).append(n(e, { "class": f.sScrollFootInner }).append(d.removeAttr("id").css("margin-left", 0).append(p === "bottom" ? s : null).append(i.children("tfoot"))))); var a = c.children(), w = a[0], v = a[1], b = o ? a[2] : null; if (u) n(v).on("scroll.DT", function () { var n = this.scrollLeft; w.scrollLeft = n; o && (b.scrollLeft = n) }); return n(v).css(y && r.bCollapse ? "max-height" : "height", y), t.nScrollHead = w, t.nScrollBody = v, t.nScrollFoot = b, t.aoDrawCallback.push({ fn: wi, sName: "scrolling" }), c[0] } function wi(t) { var y = t.oScroll, k = y.sX, g = y.sXInner, ri = y.sY, e = y.iBarWidth, nt = n(t.nScrollHead), ui = nt[0].style, ct = nt.children("div"), lt = ct[0].style, fi = ct.children("table"), u = t.nScrollBody, l = n(u), it = u.style, ei = n(t.nScrollFoot), rt = ei.children("div"), oi = rt.children("table"), at = n(t.nTHead), i = n(t.nTable), vt = i[0], p = vt.style, f = t.nTFoot ? n(t.nTFoot) : null, wt = t.oBrowser, ut = wt.bScrollOversize, si = w(t.aoColumns, "nTh"), bt, kt, a, o, b, dt, ft = [], et = [], gt = [], ni = [], ti, s, c, ii = function (n) { var t = n.style; t.paddingTop = "0"; t.paddingBottom = "0"; t.borderTopWidth = "0"; t.borderBottomWidth = "0"; t.height = 0 }, ot = u.scrollHeight > u.clientHeight, v, st, ht; if (t.scrollBarVis !== ot && t.scrollBarVis !== r) { t.scrollBarVis = ot; yt(t); return } t.scrollBarVis = ot; i.children("thead, tfoot").remove(); f && (dt = f.clone().prependTo(i), kt = f.find("tr"), o = dt.find("tr")); b = at.clone().prependTo(i); bt = at.find("tr"); a = b.find("tr"); b.find("th, td").removeAttr("tabindex"); k || (it.width = "100%", nt[0].style.width = "100%"); n.each(li(t, b), function (n, i) { ti = pt(t, n); i.style.width = t.aoColumns[ti].sWidth }); f && d(function (n) { n.style.width = "" }, o); c = i.outerWidth(); k === "" ? (p.width = "100%", ut && (i.find("tbody").height() > u.offsetHeight || l.css("overflow-y") == "scroll") && (p.width = h(i.outerWidth() - e)), c = i.outerWidth()) : g !== "" && (p.width = h(g), c = i.outerWidth()); d(ii, a); d(function (t) { gt.push(t.innerHTML); ft.push(h(n(t).css("width"))) }, a); d(function (t, i) { n.inArray(t, si) !== -1 && (t.style.width = ft[i]) }, bt); n(a).height(0); f && (d(ii, o), d(function (t) { ni.push(t.innerHTML); et.push(h(n(t).css("width"))) }, o), d(function (n, t) { n.style.width = et[t] }, kt), n(o).height(0)); d(function (n, t) { n.innerHTML = '<div class="dataTables_sizing">' + gt[t] + "<\/div>"; n.childNodes[0].style.height = "0"; n.childNodes[0].style.overflow = "hidden"; n.style.width = ft[t] }, a); f && d(function (n, t) { n.innerHTML = '<div class="dataTables_sizing">' + ni[t] + "<\/div>"; n.childNodes[0].style.height = "0"; n.childNodes[0].style.overflow = "hidden"; n.style.width = et[t] }, o); i.outerWidth() < c ? (s = u.scrollHeight > u.offsetHeight || l.css("overflow-y") == "scroll" ? c + e : c, ut && (u.scrollHeight > u.offsetHeight || l.css("overflow-y") == "scroll") && (p.width = h(s - e)), (k === "" || g !== "") && tt(t, 1, "Possible column misalignment", 6)) : s = "100%"; it.width = h(s); ui.width = h(s); f && (t.nScrollFoot.style.width = h(s)); ri || ut && (it.height = h(vt.offsetHeight + e)); v = i.outerWidth(); fi[0].style.width = h(v); lt.width = h(v); st = i.height() > u.clientHeight || l.css("overflow-y") == "scroll"; ht = "padding" + (wt.bScrollbarLeft ? "Left" : "Right"); lt[ht] = st ? e + "px" : "0px"; f && (oi[0].style.width = h(v), rt[0].style.width = h(v), rt[0].style[ht] = st ? e + "px" : "0px"); i.children("colgroup").insertBefore(i.children("thead")); l.scroll(); (t.bSorted || t.bFiltered) && !t._drawHold && (u.scrollTop = 0) } function d(n, t, i) { for (var e = 0, u = 0, o = t.length, r, f; u < o;) { for (r = t[u].firstChild, f = i ? i[u].firstChild : null; r;)r.nodeType === 1 && (i ? n(r, f, e) : n(r, e), e++), r = r.nextSibling, f = i ? f.nextSibling : null; u++ } } function kr(i) { var c = i.nTable, l = i.aoColumns, y = i.oScroll, p = y.sY, a = y.sX, it = y.sXInner, w = l.length, e = oi(i, "bVisible"), o = n("th", i.nTHead), s = c.getAttribute("width"), v = c.parentNode, rt = !1, r, f, b, ut = i.oBrowser, ft = ut.bScrollOversize, k = c.style.width, d, u, et, ot, g, tt; for (k && k.indexOf("%") !== -1 && (s = k), r = 0; r < e.length; r++)f = l[e[r]], f.sWidth !== null && (f.sWidth = te(f.sWidthOrig, v), rt = !0); if (!ft && (rt || a || p || w != ht(i) || w != o.length)) { for (u = n(c).clone().css("visibility", "hidden").removeAttr("id"), u.find("tbody tr").remove(), et = n("<tr/>").appendTo(u.find("tbody")), u.find("thead, tfoot").remove(), u.append(n(i.nTHead).clone()).append(n(i.nTFoot).clone()), u.find("tfoot th, tfoot td").css("width", ""), o = li(i, u.find("thead")[0]), r = 0; r < e.length; r++)f = l[e[r]], o[r].style.width = f.sWidthOrig !== null && f.sWidthOrig !== "" ? h(f.sWidthOrig) : "", f.sWidthOrig && a && n(o[r]).append(n("<div/>").css({ width: f.sWidthOrig, margin: 0, padding: 0, border: 0, height: 1 })); if (i.aoData.length) for (r = 0; r < e.length; r++)b = e[r], f = l[b], n(ie(i, b)).clone(!1).append(f.sContentPadding).appendTo(et); for (n("[name]", u).removeAttr("name"), ot = n("<div/>").css(a || p ? { position: "absolute", top: 0, left: 0, height: 1, right: 0, overflow: "hidden" } : {}).append(u).appendTo(v), a && it ? u.width(it) : a ? (u.css("width", "auto"), u.removeAttr("width"), u.width() < v.clientWidth && s && u.width(v.clientWidth)) : p ? u.width(v.clientWidth) : s && u.width(s), g = 0, r = 0; r < e.length; r++) { var nt = n(o[r]), ct = nt.outerWidth() - nt.width(), st = ut.bBounding ? Math.ceil(o[r].getBoundingClientRect().width) : nt.outerWidth(); g += st; l[e[r]].sWidth = h(st - ct) } c.style.width = h(g); ot.remove() } else for (r = 0; r < w; r++)d = pt(i, r), d !== null && (l[d].sWidth = h(o.eq(r).width())); s && (c.style.width = h(s)); (s || a) && !i._reszEvt && (tt = function () { n(t).on("resize.DT-" + i.sInstance, bi(function () { yt(i) })) }, ft ? setTimeout(tt, 1e3) : tt(), i._reszEvt = !0) } function te(t, r) { if (!t) return 0; var u = n("<div/>").css("width", h(t)).appendTo(r || i.body), f = u[0].offsetWidth; return u.remove(), f } function ie(t, i) { var r = re(t, i), u; return r < 0 ? null : (u = t.aoData[r], u.nTr ? u.anCells[i] : n("<td/>").html(p(t, r, i, "display"))[0]) } function re(n, t) { for (var i, u = -1, f = -1, r = 0, e = n.aoData.length; r < e; r++)i = p(n, r, t, "display") + "", i = i.replace(ne, ""), i = i.replace(/&nbsp;/g, " "), i.length > u && (u = i.length, f = r); return f } function h(n) { return n === null ? "0px" : typeof n == "number" ? n < 0 ? "0px" : n + "px" : n.match(/\d$/) ? n + "px" : n } function lt(t) { var i, o, y, p = [], c = t.aoColumns, l, s, a, v, e = t.aaSortingFixed, w = n.isPlainObject(e), f = [], h = function (t) { t.length && !n.isArray(t[0]) ? f.push(t) : n.merge(f, t) }; for (n.isArray(e) && h(e), w && e.pre && h(e.pre), h(t.aaSorting), w && e.post && h(e.post), i = 0; i < f.length; i++)for (v = f[i][0], l = c[v].aDataSort, o = 0, y = l.length; o < y; o++)s = l[o], a = c[s].sType || "string", f[i]._idx === r && (f[i]._idx = n.inArray(f[i][1], c[s].asSorting)), p.push({ src: v, col: s, dir: f[i][1], index: f[i]._idx, type: a, formatter: u.ext.type.order[a + "-pre"] }); return p } function ue(n) { var t, s, h, r = [], c = u.ext.type.order, f = n.aoData, a = n.aoColumns, l = 0, o, e = n.aiDisplayMaster, i; for (sr(n), i = lt(n), t = 0, s = i.length; t < s; t++)o = i[t], o.formatter && l++, ee(n, o.col); if (y(n) != "ssp" && i.length !== 0) { for (t = 0, h = e.length; t < h; t++)r[e[t]] = t; l === i.length ? e.sort(function (n, t) { for (var u, e, s, h, c = i.length, l = f[n]._aSortData, a = f[t]._aSortData, o = 0; o < c; o++)if (h = i[o], u = l[h.col], e = a[h.col], s = u < e ? -1 : u > e ? 1 : 0, s !== 0) return h.dir === "asc" ? s : -s; return u = r[n], e = r[t], u < e ? -1 : u > e ? 1 : 0 }) : e.sort(function (n, t) { for (var e, o, h, u, l, a = i.length, v = f[n]._aSortData, y = f[t]._aSortData, s = 0; s < a; s++)if (u = i[s], e = v[u.col], o = y[u.col], l = c[u.type + "-" + u.dir] || c["string-" + u.dir], h = l(e, o), h !== 0) return h; return e = r[n], o = r[t], e < o ? -1 : e > o ? 1 : 0 }) } n.bSorted = !0 } function fe(n) { for (var u, f, s = n.aoColumns, i = lt(n), h = n.oLanguage.oAria, t = 0, c = s.length; t < c; t++) { var r = s[t], e = r.asSorting, l = r.sTitle.replace(/<.*?>/g, ""), o = r.nTh; o.removeAttribute("aria-sort"); r.bSortable ? (i.length > 0 && i[0].col == t ? (o.setAttribute("aria-sort", i[0].dir == "asc" ? "ascending" : "descending"), f = e[i[0].index + 1] || e[0]) : f = e[0], u = l + (f === "asc" ? h.sSortAscending : h.sSortDescending)) : u = l; o.setAttribute("aria-label", u) } } function dr(t, i, u, f) { var l = t.aoColumns[i], e = t.aaSorting, s = l.asSorting, o, c = function (t, i) { var u = t._idx; return u === r && (u = n.inArray(t[1], s)), u + 1 < s.length ? u + 1 : i ? null : 0 }, h; typeof e[0] == "number" && (e = t.aaSorting = [e]); u && t.oFeatures.bSortMulti ? (h = n.inArray(i, w(e, "0")), h !== -1 ? (o = c(e[h], !0), o === null && e.length === 1 && (o = 0), o === null ? e.splice(h, 1) : (e[h][1] = s[o], e[h]._idx = o)) : (e.push([i, s[0], 0]), e[e.length - 1]._idx = 0)) : e.length && e[0][0] == i ? (o = c(e[0]), e.length = 1, e[0][1] = s[o], e[0]._idx = o) : (e.length = 0, e.push([i, s[0]]), e[0]._idx = 0); ot(t); typeof f == "function" && f(t) } function gr(n, t, i, r) { var u = n.aoColumns[i]; tu(t, {}, function (t) { u.bSortable !== !1 && (n.oFeatures.bProcessing ? (b(n, !0), setTimeout(function () { dr(n, i, t.shiftKey, r); y(n) !== "ssp" && b(n, !1) }, 0)) : dr(n, i, t.shiftKey, r)) }) } function ki(t) { var e = t.aLastSort, o = t.oClasses.sSortColumn, f = lt(t), s = t.oFeatures, i, r, u; if (s.bSort && s.bSortClasses) { for (i = 0, r = e.length; i < r; i++)u = e[i].src, n(w(t.aoData, "anCells", u)).removeClass(o + (i < 2 ? i + 1 : 3)); for (i = 0, r = f.length; i < r; i++)u = f[i].src, n(w(t.aoData, "anCells", u)).addClass(o + (i < 2 ? i + 1 : 3)) } t.aLastSort = f } function ee(n, t) { var s = n.aoColumns[t], f = u.ext.order[s.sSortDataType], h, r, e, o, i, c; for (f && (h = f.call(n.oInstance, n, t, wt(n, t))), o = u.ext.type.order[s.sType + "-pre"], i = 0, c = n.aoData.length; i < c; i++)r = n.aoData[i], r._aSortData || (r._aSortData = []), (!r._aSortData[t] || f) && (e = f ? h[i] : p(n, i, t, "sort"), r._aSortData[t] = o ? o(e) : e) } function di(t) { if (t.oFeatures.bStateSave && !t.bDestroying) { var i = { time: +new Date, start: t._iDisplayStart, length: t._iDisplayLength, order: n.extend(!0, [], t.aaSorting), search: af(t.oPreviousSearch), columns: n.map(t.aoColumns, function (n, i) { return { visible: n.bVisible, search: af(t.aoPreSearchCols[i]) } }) }; o(t, "aoStateSaveParams", "stateSaveParams", [t, i]); t.oSavedState = i; t.fnStateSaveCallback.call(t.oInstance, t, i) } } function oe(t, i, u) { var f, h, e = t.aoColumns, c = function (i) { var l, c, s; if (!i || !i.time) { u(); return } if (l = o(t, "aoStateLoadParams", "stateLoadParams", [t, i]), n.inArray(!1, l) !== -1) { u(); return } if (c = t.iStateDuration, c > 0 && i.time < +new Date - c * 1e3) { u(); return } if (i.columns && e.length !== i.columns.length) { u(); return } if (t.oLoadedState = n.extend(!0, {}, i), i.start !== r && (t._iDisplayStart = i.start, t.iInitDisplayStart = i.start), i.length !== r && (t._iDisplayLength = i.length), i.order !== r && (t.aaSorting = [], n.each(i.order, function (n, i) { t.aaSorting.push(i[0] >= e.length ? [0, i[1]] : i) })), i.search !== r && n.extend(t.oPreviousSearch, vf(i.search)), i.columns) for (f = 0, h = i.columns.length; f < h; f++)s = i.columns[f], s.visible !== r && (e[f].bVisible = s.visible), s.search !== r && n.extend(t.aoPreSearchCols[f], vf(s.search)); o(t, "aoStateLoaded", "stateLoaded", [t, i]); u() }, s; if (!t.oFeatures.bStateSave) { u(); return } s = t.fnStateLoadCallback.call(t.oInstance, t, c); s !== r && c(s) } function gi(t) { var i = u.settings, r = n.inArray(t, w(i, "nTable")); return r !== -1 ? i[r] : null } function tt(n, i, r, f) { if (r = "DataTables warning: " + (n ? "table id=" + n.sTableId + " - " : "") + r, f && (r += ". For more information about this error, please see http://datatables.net/tn/" + f), i) t.console && console.log && console.log(r); else { var s = u.ext, e = s.sErrMode || s.errMode; if (n && o(n, null, "error", [n, f, r]), e == "alert") alert(r); else if (e == "throw") throw new Error(r); else typeof e == "function" && e(n, f, r) } } function k(t, i, u, f) { if (n.isArray(u)) { n.each(u, function (r, u) { n.isArray(u) ? k(t, i, u[0], u[1]) : k(t, i, u) }); return } f === r && (f = u); i[u] !== r && (t[f] = i[u]) } function nu(t, i, r) { var f, u; for (u in i) i.hasOwnProperty(u) && (f = i[u], n.isPlainObject(f) ? (n.isPlainObject(t[u]) || (t[u] = {}), n.extend(!0, t[u], f)) : t[u] = r && u !== "data" && u !== "aaData" && n.isArray(f) ? f.slice() : f); return t } function tu(t, i, r) { n(t).on("click.DT", i, function (i) { n(t).blur(); r(i) }).on("keypress.DT", i, function (n) { n.which === 13 && (n.preventDefault(), r(n)) }).on("selectstart.DT", function () { return !1 }) } function v(n, t, i, r) { i && n[t].push({ fn: i, sName: r }) } function o(t, i, r, u) { var f = [], e; return i && (f = n.map(t[i].slice().reverse(), function (n) { return n.fn.apply(t.oInstance, u) })), r !== null && (e = n.Event(r + ".dt"), n(t.nTable).trigger(e, u), f.push(e.result)), f } function iu(n) { var t = n._iDisplayStart, r = n.fnDisplayEnd(), i = n._iDisplayLength; t >= r && (t = r - i); t -= t % i; (i === -1 || t < 0) && (t = 0); n._iDisplayStart = t } function ru(t, i) { var r = t.renderer, f = u.ext.renderer[i]; return n.isPlainObject(r) && r[i] ? f[r[i]] || f._ : typeof r == "string" ? f[r] || f._ : f._ } function y(n) { return n.oFeatures.bServerSide ? "ssp" : n.ajax || n.sAjaxSource ? "ajax" : "dom" } function ii(n, t) { var i = [], r = hu.numbers_length, u = Math.floor(r / 2); return t <= r ? i = st(0, t) : n <= u ? (i = st(0, r - 2), i.push("ellipsis"), i.push(t - 1)) : n >= t - 1 - u ? (i = st(t - (r - 2), t), i.splice(0, 0, "ellipsis"), i.splice(0, 0, 0)) : (i = st(n - u + 2, n + u - 1), i.push("ellipsis"), i.push(t - 1), i.splice(0, 0, "ellipsis"), i.splice(0, 0, 0)), i.DT_el = "span", i } function cu(t) { n.each({ num: function (n) { return ri(n, t) }, "num-fmt": function (n) { return ri(n, t, ur) }, "html-num": function (n) { return ri(n, t, ui) }, "html-num-fmt": function (n) { return ri(n, t, ui, ur) } }, function (n, i) { c.type.order[n + t + "-pre"] = i; n.match(/^html\-/) && (c.type.search[n + t] = c.type.search.html) }) } function ve(n) { return function () { var t = [gi(this[u.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments)); return u.ext.internal[n].apply(this, t) } } var u = function (t) { var f; this.$ = function (n, t) { return this.api(!0).$(n, t) }; this._ = function (n, t) { return this.api(!0).rows(n, t).data() }; this.api = function (n) { return n ? new e(gi(this[c.iApiIndex])) : new e(this) }; this.fnAddData = function (t, i) { var u = this.api(!0), f = n.isArray(t) && (n.isArray(t[0]) || n.isPlainObject(t[0])) ? u.rows.add(t) : u.row.add(t); return (i === r || i) && u.draw(), f.flatten().toArray() }; this.fnAdjustColumnSizing = function (n) { var t = this.api(!0).columns.adjust(), i = t.settings()[0], u = i.oScroll; n === r || n ? t.draw(!1) : (u.sX !== "" || u.sY !== "") && wi(i) }; this.fnClearTable = function (n) { var t = this.api(!0).clear(); (n === r || n) && t.draw() }; this.fnClose = function (n) { this.api(!0).row(n).child.hide() }; this.fnDeleteRow = function (n, t, i) { var f = this.api(!0), u = f.rows(n), e = u.settings()[0], o = e.aoData[u[0][0]]; return u.remove(), t && t.call(this, e, o), (i === r || i) && f.draw(), o }; this.fnDestroy = function (n) { this.api(!0).destroy(n) }; this.fnDraw = function (n) { this.api(!0).draw(n) }; this.fnFilter = function (n, t, i, u, f, e) { var o = this.api(!0); t === null || t === r ? o.search(n, i, u, e) : o.column(t).search(n, i, u, e); o.draw() }; this.fnGetData = function (n, t) { var i = this.api(!0), u; return n !== r ? (u = n.nodeName ? n.nodeName.toLowerCase() : "", t !== r || u == "td" || u == "th" ? i.cell(n, t).data() : i.row(n).data() || null) : i.data().toArray() }; this.fnGetNodes = function (n) { var t = this.api(!0); return n !== r ? t.row(n).node() : t.rows().nodes().flatten().toArray() }; this.fnGetPosition = function (n) { var r = this.api(!0), i = n.nodeName.toUpperCase(), t; return i == "TR" ? r.row(n).index() : i == "TD" || i == "TH" ? (t = r.cell(n).index(), [t.row, t.columnVisible, t.column]) : null }; this.fnIsOpen = function (n) { return this.api(!0).row(n).child.isShown() }; this.fnOpen = function (n, t, i) { return this.api(!0).row(n).child(t, i).show().child()[0] }; this.fnPageChange = function (n, t) { var i = this.api(!0).page(n); (t === r || t) && i.draw(!1) }; this.fnSetColumnVis = function (n, t, i) { var u = this.api(!0).column(n).visible(t); (i === r || i) && u.columns.adjust().draw() }; this.fnSettings = function () { return gi(this[c.iApiIndex]) }; this.fnSort = function (n) { this.api(!0).order(n).draw() }; this.fnSortListener = function (n, t, i) { this.api(!0).order.listener(n, t, i) }; this.fnUpdate = function (n, t, i, u, f) { var e = this.api(!0); return i === r || i === null ? e.row(t).data(n) : e.cell(t, i).data(n), (f === r || f) && e.columns.adjust(), (u === r || u) && e.draw(), 0 }; this.fnVersionCheck = c.fnVersionCheck; var i = this, s = t === r, h = this.length; s && (t = {}); this.oApi = this.internal = c.internal; for (f in u.ext.internal) f && (this[f] = ve(f)); return this.each(function () { var e = h > 1 ? nu({}, t, !0) : t, c = 0, w, b = this.getAttribute("id"), pt = !1, a = u.defaults, l = n(this), g, p, wt, bt, f, d, at, rt, st, ht, ut, ft, vt, ot, ct, yt; if (this.nodeName.toLowerCase() != "table") { tt(null, 0, "Non-table node initialisation (" + this.nodeName + ")", 2); return } for (wu(a), bu(a.column), nt(a, a, !0), nt(a.column, a.column, !0), nt(a, n.extend(e, l.data())), g = u.settings, c = 0, w = g.length; c < w; c++) { if (p = g[c], p.nTable == this || p.nTHead && p.nTHead.parentNode == this || p.nTFoot && p.nTFoot.parentNode == this) { if (wt = e.bRetrieve !== r ? e.bRetrieve : a.bRetrieve, bt = e.bDestroy !== r ? e.bDestroy : a.bDestroy, s || wt) return p.oInstance; if (bt) { p.oInstance.fnDestroy(); break } else { tt(p, 0, "Cannot reinitialise DataTable", 3); return } } if (p.sTableId == this.id) { g.splice(c, 1); break } } if ((b === null || b === "") && (b = "DataTables_Table_" + u.ext._unique++, this.id = b), f = n.extend(!0, {}, u.models.oSettings, { sDestroyWidth: l[0].style.width, sInstance: b, sTableId: b }), f.nTable = this, f.oApi = i.internal, f.oInit = e, g.push(f), f.oInstance = i.length === 1 ? i : l.dataTable(), wu(e), er(e.oLanguage), e.aLengthMenu && !e.iDisplayLength && (e.iDisplayLength = n.isArray(e.aLengthMenu[0]) ? e.aLengthMenu[0][0] : e.aLengthMenu[0]), e = nu(n.extend(!0, {}, a), e), k(f.oFeatures, e, ["bPaginate", "bLengthChange", "bFilter", "bSort", "bSortMulti", "bInfo", "bProcessing", "bAutoWidth", "bSortClasses", "bServerSide", "bDeferRender"]), k(f, e, ["asStripeClasses", "ajax", "fnServerData", "fnFormatNumber", "sServerMethod", "aaSorting", "aaSortingFixed", "aLengthMenu", "sPaginationType", "sAjaxSource", "sAjaxDataProp", "iStateDuration", "sDom", "bSortCellsTop", "iTabIndex", "fnStateLoadCallback", "fnStateSaveCallback", "renderer", "searchDelay", "rowId", ["iCookieDuration", "iStateDuration"], ["oSearch", "oPreviousSearch"], ["aoSearchCols", "aoPreSearchCols"], ["iDisplayLength", "_iDisplayLength"]]), k(f.oScroll, e, [["sScrollX", "sX"], ["sScrollXInner", "sXInner"], ["sScrollY", "sY"], ["bScrollCollapse", "bCollapse"]]), k(f.oLanguage, e, "fnInfoCallback"), v(f, "aoDrawCallback", e.fnDrawCallback, "user"), v(f, "aoServerParams", e.fnServerParams, "user"), v(f, "aoStateSaveParams", e.fnStateSaveParams, "user"), v(f, "aoStateLoadParams", e.fnStateLoadParams, "user"), v(f, "aoStateLoaded", e.fnStateLoaded, "user"), v(f, "aoRowCallback", e.fnRowCallback, "user"), v(f, "aoRowCreatedCallback", e.fnCreatedRow, "user"), v(f, "aoHeaderCallback", e.fnHeaderCallback, "user"), v(f, "aoFooterCallback", e.fnFooterCallback, "user"), v(f, "aoInitComplete", e.fnInitComplete, "user"), v(f, "aoPreDrawCallback", e.fnPreDrawCallback, "user"), f.rowIdFn = et(e.rowId), ku(f), d = f.oClasses, n.extend(d, u.ext.classes, e.oClasses), l.addClass(d.sTable), f.iInitDisplayStart === r && (f.iInitDisplayStart = e.iDisplayStart, f._iDisplayStart = e.iDisplayStart), e.iDeferLoading !== null && (f.bDeferLoading = !0, at = n.isArray(e.iDeferLoading), f._iRecordsDisplay = at ? e.iDeferLoading[0] : e.iDeferLoading, f._iRecordsTotal = at ? e.iDeferLoading[1] : e.iDeferLoading), rt = f.oLanguage, n.extend(!0, rt, e.oLanguage), rt.sUrl && (n.ajax({ dataType: "json", url: rt.sUrl, success: function (t) { er(t); nt(a.oLanguage, t); n.extend(!0, rt, t); ni(f) }, error: function () { ni(f) } }), pt = !0), e.asStripeClasses === null && (f.asStripeClasses = [d.sStripeOdd, d.sStripeEven]), st = f.asStripeClasses, ht = l.children("tbody").find("tr").eq(0), n.inArray(!0, n.map(st, function (n) { return ht.hasClass(n) })) !== -1 && (n("tbody tr", this).removeClass(st.join(" ")), f.asDestroyStripes = st.slice()), ut = [], vt = this.getElementsByTagName("thead"), vt.length !== 0 && (dt(f.aoHeader, vt[0]), ut = li(f)), e.aoColumns === null) for (ft = [], c = 0, w = ut.length; c < w; c++)ft.push(null); else ft = e.aoColumns; for (c = 0, w = ft.length; c < w; c++)or(f, ut ? ut[c] : null); gu(f, e.aoColumnDefs, ft, function (n, t) { ei(f, n, t) }); ht.length && (ot = function (n, t) { return n.getAttribute("data-" + t) !== null ? t : null }, n(ht[0]).children("th, td").each(function (n, t) { var e = f.aoColumns[n], i, u; e.mData === n && (i = ot(t, "sort") || ot(t, "order"), u = ot(t, "filter") || ot(t, "search"), (i !== null || u !== null) && (e.mData = { _: n + ".display", sort: i !== null ? n + ".@data-" + i : r, type: i !== null ? n + ".@data-" + i : r, filter: u !== null ? n + ".@data-" + u : r }, ei(f, n))) })); ct = f.oFeatures; yt = function () { var s, h, i, u, t; if (e.aaSorting === r) for (s = f.aaSorting, c = 0, w = s.length; c < w; c++)s[c][1] = f.aoColumns[c].asSorting[0]; if (ki(f), ct.bSort && v(f, "aoDrawCallback", function () { if (f.bSorted) { var t = lt(f), i = {}; n.each(t, function (n, t) { i[t.src] = t.dir }); o(f, null, "order", [f, t, i]); fe(f) } }), v(f, "aoDrawCallback", function () { (f.bSorted || y(f) === "ssp" || ct.bDeferRender) && ki(f) }, "sc"), h = l.children("caption").each(function () { this._captionSide = n(this).css("caption-side") }), i = l.children("thead"), i.length === 0 && (i = n("<thead/>").appendTo(l)), f.nTHead = i[0], u = l.children("tbody"), u.length === 0 && (u = n("<tbody/>").appendTo(l)), f.nTBody = u[0], t = l.children("tfoot"), t.length === 0 && h.length > 0 && (f.oScroll.sX !== "" || f.oScroll.sY !== "") && (t = n("<tfoot/>").appendTo(l)), t.length === 0 || t.children().length === 0 ? l.addClass(d.sNoFooter) : t.length > 0 && (f.nTFoot = t[0], dt(f.aoFooter, f.nTFoot)), e.aaData) for (c = 0; c < e.aaData.length; c++)it(f, e.aaData[c]); else (f.bDeferLoading || y(f) == "dom") && si(f, n(f.nTBody).children("tr")); f.aiDisplay = f.aiDisplayMaster.slice(); f.bInitialised = !0; pt === !1 && ni(f) }; e.bStateSave ? (ct.bStateSave = !0, v(f, "aoDrawCallback", di, "state_save"), oe(f, e, yt)) : yt() }), i = null, this }, c, e, f, s, rr = {}, lu = /[\r\n]/g, ui = /<.*?>/g, ye = /^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/, pe = new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)", "g"), ur = /[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi, g = function (n) { return !n || n === !0 || n === "-" ? !0 : !1 }, au = function (n) { var t = parseInt(n, 10); return !isNaN(t) && isFinite(n) ? t : null }, vu = function (n, t) { return rr[t] || (rr[t] = new RegExp(pr(t), "g")), typeof n == "string" && t !== "." ? n.replace(/\./g, "").replace(rr[t], ".") : n }, fr = function (n, t, i) { var r = typeof n == "string"; return g(n) ? !0 : (t && r && (n = vu(n, t)), i && r && (n = n.replace(ur, "")), !isNaN(parseFloat(n)) && isFinite(n)) }, we = function (n) { return g(n) || typeof n == "string" }, yu = function (n, t, i) { if (g(n)) return !0; var r = we(n); return r ? fr(be(n), t, i) ? !0 : null : null }, w = function (n, t, i) { var f = [], u = 0, e = n.length; if (i !== r) for (; u < e; u++)n[u] && n[u][t] && f.push(n[u][t][i]); else for (; u < e; u++)n[u] && f.push(n[u][t]); return f }, at = function (n, t, i, u) { var e = [], f = 0, o = t.length; if (u !== r) for (; f < o; f++)n[t[f]][i] && e.push(n[t[f]][i][u]); else for (; f < o; f++)e.push(n[t[f]][i]); return e }, st = function (n, t) { var f = [], u, i; for (t === r ? (t = 0, u = n) : (u = t, t = n), i = t; i < u; i++)f.push(i); return f }, pu = function (n) { for (var i = [], t = 0, r = n.length; t < r; t++)n[t] && i.push(n[t]); return i }, be = function (n) { return n.replace(ui, "") }, ke = function (n) { var t, r, i, u; if (n.length < 2) return !0; for (t = n.slice().sort(), r = t[0], i = 1, u = t.length; i < u; i++) { if (t[i] === r) return !1; r = t[i] } return !0 }, fi = function (n) { if (ke(n)) return n.slice(); var r = [], u, t, e = n.length, i, f = 0; n: for (t = 0; t < e; t++) { for (u = n[t], i = 0; i < f; i++)if (r[i] === u) continue n; r.push(u); f++ } return r }, a, ct, ft, ne, bi, he, uu, ae, hu, ri, ir; u.util = { throttle: function (n, t) { var u = t !== r ? t : 200, i, f; return function () { var t = this, e = +new Date, o = arguments; i && e < i + u ? (clearTimeout(f), f = setTimeout(function () { i = r; n.apply(t, o) }, u)) : (i = e, n.apply(t, o)) } }, escapeRegex: function (n) { return n.replace(pe, "\\$1") } }; a = function (n, t, i) { n[t] !== r && (n[i] = n[t]) }; ct = /\[.*?\]$/; ft = /\(\)$/; var pr = u.util.escapeRegex, yi = n("<div>")[0], no = yi.textContent !== r; ne = /<.*?>/g; bi = u.util.throttle; var se = [], l = Array.prototype, to = function (t) { var i, r, f = u.settings, e = n.map(f, function (n) { return n.nTable }); if (t) { if (t.nTable && t.oApi) return [t]; if (t.nodeName && t.nodeName.toLowerCase() === "table") return i = n.inArray(t, e), i !== -1 ? [f[i]] : null; if (t && typeof t.settings == "function") return t.settings().toArray(); typeof t == "string" ? r = n(t) : t instanceof n && (r = t) } else return []; if (r) return r.map(function () { return i = n.inArray(this, e), i !== -1 ? f[i] : null }).toArray() }; e = function (t, i) { var r, f, u, o; if (!(this instanceof e)) return new e(t, i); if (r = [], f = function (n) { var t = to(n); t && (r = r.concat(t)) }, n.isArray(t)) for (u = 0, o = t.length; u < o; u++)f(t[u]); else f(t); this.context = fi(r); i && n.merge(this, i); this.selector = { rows: null, cols: null, opts: null }; e.extend(this, this, se) }; u.Api = e; n.extend(e.prototype, { any: function () { return this.count() !== 0 }, concat: l.concat, context: [], count: function () { return this.flatten().length }, each: function (n) { for (var t = 0, i = this.length; t < i; t++)n.call(this, this[t], t, this); return this }, eq: function (n) { var t = this.context; return t.length > n ? new e(t[n], this[n]) : null }, filter: function (n) { var i = [], t, r; if (l.filter) i = l.filter.call(this, n, this); else for (t = 0, r = this.length; t < r; t++)n.call(this, this[t], t, this) && i.push(this[t]); return new e(this.context, i) }, flatten: function () { var n = []; return new e(this.context, n.concat.apply(n, this.toArray())) }, join: l.join, indexOf: l.indexOf || function (n, t) { for (var i = t || 0, r = this.length; i < r; i++)if (this[i] === n) return i; return -1 }, iterator: function (n, t, i, u) { var h = [], o, f, b, c, k, s = this.context, d, p, a, v = this.selector, l, w, y; for (typeof n == "string" && (u = i, i = t, t = n, n = !1), f = 0, b = s.length; f < b; f++)if (l = new e(s[f]), t === "table") o = i.call(l, s[f], f), o !== r && h.push(o); else if (t === "columns" || t === "rows") o = i.call(l, s[f], this[f], f), o !== r && h.push(o); else if (t === "column" || t === "column-rows" || t === "row" || t === "cell") for (p = this[f], t === "column-rows" && (d = nr(s[f], v.opts)), c = 0, k = p.length; c < k; c++)a = p[c], o = t === "cell" ? i.call(l, s[f], a.row, a.column, f, c) : i.call(l, s[f], a, f, c, d), o !== r && h.push(o); return h.length || u ? (w = new e(s, n ? h.concat.apply([], h) : h), y = w.selector, y.rows = v.rows, y.cols = v.cols, y.opts = v.opts, w) : this }, lastIndexOf: l.lastIndexOf || function () { return this.indexOf.apply(this.toArray.reverse(), arguments) }, length: 0, map: function (n) { var i = [], t, r; if (l.map) i = l.map.call(this, n, this); else for (t = 0, r = this.length; t < r; t++)i.push(n.call(this, this[t], t)); return new e(this.context, i) }, pluck: function (n) { return this.map(function (t) { return t[n] }) }, pop: l.pop, push: l.push, reduce: l.reduce || function (n, t) { return du(this, n, t, 0, this.length, 1) }, reduceRight: l.reduceRight || function (n, t) { return du(this, n, t, this.length - 1, -1, -1) }, reverse: l.reverse, selector: null, shift: l.shift, slice: function () { return new e(this.context, this) }, sort: l.sort, splice: l.splice, toArray: function () { return l.slice.call(this) }, to$: function () { return n(this) }, toJQuery: function () { return n(this) }, unique: function () { return new e(this.context, fi(this)) }, unshift: l.unshift }); e.extend = function (t, i, r) { if (r.length && i && (i instanceof e || i.__dt_wrapper)) for (var u, s = function (n, t, i) { return function () { var r = t.apply(n, arguments); return e.extend(r, r, i.methodExt), r } }, f = 0, o = r.length; f < o; f++)u = r[f], i[u.name] = typeof u.val == "function" ? s(t, u.val, u) : n.isPlainObject(u.val) ? {} : u.val, i[u.name].__dt_wrapper = !0, e.extend(t, i[u.name], u.propExt) }; e.register = f = function (t, i) { var f, a, u; if (n.isArray(t)) { for (f = 0, a = t.length; f < a; f++)e.register(t[f], i); return } for (var o = t.split("."), h = se, c, l, v = function (n, t) { for (var i = 0, r = n.length; i < r; i++)if (n[i].name === t) return n[i]; return null }, r = 0, s = o.length; r < s; r++)l = o[r].indexOf("()") !== -1, c = l ? o[r].replace("()", "") : o[r], u = v(h, c), u || (u = { name: c, val: {}, methodExt: [], propExt: [] }, h.push(u)), r === s - 1 ? u.val = i : h = l ? u.methodExt : u.propExt }; e.registerPlural = s = function (t, i, u) { e.register(t, u); e.register(i, function () { var t = u.apply(this, arguments); return t === this ? this : t instanceof e ? t.length ? n.isArray(t[0]) ? new e(t.context, t[0]) : t[0] : r : t }) }; he = function (t, i) { if (typeof t == "number") return [i[t]]; var r = n.map(i, function (n) { return n.nTable }); return n(r).filter(t).map(function () { var t = n.inArray(this, r); return i[t] }).toArray() }; f("tables()", function (n) { return n ? new e(he(n, this.context)) : this }); f("table()", function (n) { var t = this.tables(n), i = t.context; return i.length ? new e(i[0]) : t }); s("tables().nodes()", "table().node()", function () { return this.iterator("table", function (n) { return n.nTable }, 1) }); s("tables().body()", "table().body()", function () { return this.iterator("table", function (n) { return n.nTBody }, 1) }); s("tables().header()", "table().header()", function () { return this.iterator("table", function (n) { return n.nTHead }, 1) }); s("tables().footer()", "table().footer()", function () { return this.iterator("table", function (n) { return n.nTFoot }, 1) }); s("tables().containers()", "table().container()", function () { return this.iterator("table", function (n) { return n.nTableWrapper }, 1) }); f("draw()", function (n) { return this.iterator("table", function (t) { n === "page" ? ut(t) : (typeof n == "string" && (n = n === "full-hold" ? !1 : !0), ot(t, n === !1)) }) }); f("page()", function (n) { return n === r ? this.page.info().page : this.iterator("table", function (t) { br(t, n) }) }); f("page.info()", function () { if (this.context.length === 0) return r; var n = this.context[0], i = n._iDisplayStart, t = n.oFeatures.bPaginate ? n._iDisplayLength : -1, u = n.fnRecordsDisplay(), f = t === -1; return { page: f ? 0 : Math.floor(i / t), pages: f ? 1 : Math.ceil(u / t), start: i, end: n.fnDisplayEnd(), length: t, recordsTotal: n.fnRecordsTotal(), recordsDisplay: u, serverSide: y(n) === "ssp" } }); f("page.len()", function (n) { return n === r ? this.context.length !== 0 ? this.context[0]._iDisplayLength : r : this.iterator("table", function (t) { wr(t, n) }) }); uu = function (n, t, i) { var u, r; if (i) { u = new e(n); u.one("draw", function () { i(u.ajax.json()) }) } y(n) == "ssp" ? ot(n, t) : (b(n, !0), r = n.jqXHR, r && r.readyState !== 4 && r.abort(), ai(n, [], function (i) { var u, r, f; for (hi(n), u = vi(n, i), r = 0, f = u.length; r < f; r++)it(n, u[r]); ot(n, t); b(n, !1) })) }; f("ajax.json()", function () { var n = this.context; if (n.length > 0) return n[0].json }); f("ajax.params()", function () { var n = this.context; if (n.length > 0) return n[0].oAjaxData }); f("ajax.reload()", function (n, t) { return this.iterator("table", function (i) { uu(i, t === !1, n) }) }); f("ajax.url()", function (t) { var i = this.context; return t === r ? i.length === 0 ? r : (i = i[0], i.ajax ? n.isPlainObject(i.ajax) ? i.ajax.url : i.ajax : i.sAjaxSource) : this.iterator("table", function (i) { n.isPlainObject(i.ajax) ? i.ajax.url = t : i.ajax = t }) }); f("ajax.url().load()", function (n, t) { return this.iterator("table", function (i) { uu(i, t === !1, n) }) }); var fu = function (t, i, u, f, e) { var h = [], a, l, o, v, s, p, w = typeof i, y; for (i && w !== "string" && w !== "function" && i.length !== r || (i = [i]), o = 0, v = i.length; o < v; o++)for (l = i[o] && i[o].split && !i[o].match(/[\[\(:]/) ? i[o].split(",") : [i[o]], s = 0, p = l.length; s < p; s++)a = u(typeof l[s] == "string" ? n.trim(l[s]) : l[s]), a && a.length && (h = h.concat(a)); if (y = c.selector[t], y.length) for (o = 0, v = y.length; o < v; o++)h = y[o](f, e, h); return fi(h) }, eu = function (t) { return t || (t = {}), t.filter && t.search === r && (t.search = t.filter), n.extend({ search: "none", order: "current", page: "all" }, t) }, ou = function (n) { for (var t = 0, i = n.length; t < i; t++)if (n[t].length > 0) return n[0] = n[t], n[0].length = 1, n.length = 1, n.context = [n.context[t]], n; return n.length = 0, n }, nr = function (t, i) { var h, f = [], o = t.aiDisplay, c = t.aiDisplayMaster, e = i.search, s = i.order, a = i.page, l, r, u; if (y(t) == "ssp") return e === "removed" ? [] : st(0, c.length); if (a == "current") for (r = t._iDisplayStart, u = t.fnDisplayEnd(); r < u; r++)f.push(o[r]); else if (s == "current" || s == "applied") { if (e == "none") f = c.slice(); else if (e == "applied") f = o.slice(); else if (e == "removed") { for (l = {}, r = 0, u = o.length; r < u; r++)l[o[r]] = null; f = n.map(c, function (n) { return l.hasOwnProperty(n) ? null : n }) } } else if (s == "index" || s == "original") for (r = 0, u = t.aoData.length; r < u; r++)e == "none" ? f.push(r) : (h = n.inArray(r, o), (h === -1 && e == "removed" || h >= 0 && e == "applied") && f.push(r)); return f }, io = function (t, i, u) { var f, e = function (i) { var e = au(i), o = t.aoData, s, h, c, l, a; return e !== null && !u ? [e] : (f || (f = nr(t, u)), e !== null && n.inArray(e, f) !== -1) ? [e] : i === null || i === r || i === "" ? f : typeof i == "function" ? n.map(f, function (n) { var t = o[n]; return i(n, t._aData, t.nTr) ? n : null }) : i.nodeName ? (s = i._DT_RowIndex, h = i._DT_CellIndex, s !== r ? o[s] && o[s].nTr === i ? [s] : [] : h ? o[h.row] && o[h.row].nTr === i ? [h.row] : [] : (c = n(i).closest("*[data-dt-row]"), c.length ? [c.data("dt-row")] : [])) : typeof i == "string" && i.charAt(0) === "#" && (l = t.aIds[i.replace(/^#/, "")], l !== r) ? [l.idx] : (a = pu(at(t.aoData, f, "nTr")), n(a).filter(i).map(function () { return this._DT_RowIndex }).toArray()) }; return fu("row", i, e, t, u) }; f("rows()", function (t, i) { t === r ? t = "" : n.isPlainObject(t) && (i = t, t = ""); i = eu(i); var u = this.iterator("table", function (n) { return io(n, t, i) }, 1); return u.selector.rows = t, u.selector.opts = i, u }); f("rows().nodes()", function () { return this.iterator("row", function (n, t) { return n.aoData[t].nTr || r }, 1) }); f("rows().data()", function () { return this.iterator(!0, "rows", function (n, t) { return at(n.aoData, t, "_aData") }, 1) }); s("rows().cache()", "row().cache()", function (n) { return this.iterator("row", function (t, i) { var r = t.aoData[i]; return n === "search" ? r._aFilterData : r._aSortData }, 1) }); s("rows().invalidate()", "row().invalidate()", function (n) { return this.iterator("row", function (t, i) { bt(t, i, n) }) }); s("rows().indexes()", "row().index()", function () { return this.iterator("row", function (n, t) { return t }, 1) }); s("rows().ids()", "row().id()", function (n) { for (var u = [], i = this.context, r, o, s, t = 0, f = i.length; t < f; t++)for (r = 0, o = this[t].length; r < o; r++)s = i[t].rowIdFn(i[t].aoData[this[t][r]]._aData), u.push((n === !0 ? "#" : "") + s); return new e(i, u) }); s("rows().remove()", "row().remove()", function () { var n = this; return this.iterator("row", function (t, i, u) { var e = t.aoData, v = e[i], f, l, o, a, s, h, c; for (e.splice(i, 1), f = 0, l = e.length; f < l; f++)if (s = e[f], h = s.anCells, s.nTr !== null && (s.nTr._DT_RowIndex = f), h !== null) for (o = 0, a = h.length; o < a; o++)h[o]._DT_CellIndex.row = f; ci(t.aiDisplayMaster, i); ci(t.aiDisplay, i); ci(n[u], i, !1); t._iRecordsDisplay > 0 && t._iRecordsDisplay--; iu(t); c = t.rowIdFn(v._aData); c !== r && delete t.aIds[c] }), this.iterator("table", function (n) { for (var t = 0, i = n.aoData.length; t < i; t++)n.aoData[t].idx = t }), this }); f("rows.add()", function (t) { var r = this.iterator("table", function (n) { for (var i, u = [], r = 0, f = t.length; r < f; r++)i = t[r], i.nodeName && i.nodeName.toUpperCase() === "TR" ? u.push(si(n, i)[0]) : u.push(it(n, i)); return u }, 1), i = this.rows(-1); return i.pop(), n.merge(i, r), i }); f("row()", function (n, t) { return ou(this.rows(n, t)) }); f("row().data()", function (t) { var i = this.context, u; return t === r ? i.length && this.length ? i[0].aoData[this[0]]._aData : r : (u = i[0].aoData[this[0]], u._aData = t, n.isArray(t) && u.nTr.id && rt(i[0].rowId)(t, u.nTr.id), bt(i[0], this[0], "data"), this) }); f("row().node()", function () { var n = this.context; return n.length && this.length ? n[0].aoData[this[0]].nTr || null : null }); f("row.add()", function (t) { t instanceof n && t.length && (t = t[0]); var i = this.iterator("table", function (n) { return t.nodeName && t.nodeName.toUpperCase() === "TR" ? si(n, t)[0] : it(n, t) }); return this.row(i[0]) }); var ro = function (t, i, r, u) { var f = [], e = function (i, r) { var u, s, o; if (n.isArray(i) || i instanceof n) { for (u = 0, s = i.length; u < s; u++)e(i[u], r); return } i.nodeName && i.nodeName.toLowerCase() === "tr" ? f.push(i) : (o = n("<tr><td/><\/tr>").addClass(r), n("td", o).addClass(r).html(i)[0].colSpan = ht(t), f.push(o[0])) }; e(r, u); i._details && i._details.detach(); i._details = n(f); i._detailsShow && i._details.insertAfter(i.nTr) }, su = function (n, t) { var u = n.context, i; u.length && (i = u[0].aoData[t !== r ? t : n[0]], i && i._details && (i._details.remove(), i._detailsShow = r, i._details = r)) }, ce = function (n, t) { var r = n.context, i; r.length && n.length && (i = r[0].aoData[n[0]], i._details && (i._detailsShow = t, t ? i._details.insertAfter(i.nTr) : i._details.detach(), uo(r[0]))) }, uo = function (n) { var t = new e(n), r = ".dt.DT_details", u = "draw" + r, f = "column-visibility" + r, o = "destroy" + r, i = n.aoData; if (t.off(u + " " + f + " " + o), w(i, "_details").length > 0) { t.on(u, function (r, u) { n === u && t.rows({ page: "current" }).eq(0).each(function (n) { var t = i[n]; t._detailsShow && t._details.insertAfter(t.nTr) }) }); t.on(f, function (t, r) { var f, e, u, o; if (n === r) for (e = ht(r), u = 0, o = i.length; u < o; u++)f = i[u], f._details && f._details.children("td[colspan]").attr("colspan", e) }); t.on(o, function (r, u) { if (n === u) for (var f = 0, e = i.length; f < e; f++)i[f]._details && su(t, f) }) } }, ti = "row().child", tr = ti + "()"; f(tr, function (n, t) { var i = this.context; return n === r ? i.length && this.length ? i[0].aoData[this[0]]._details : r : (n === !0 ? this.child.show() : n === !1 ? su(this) : i.length && this.length && ro(i[0], i[0].aoData[this[0]], n, t), this) }); f([ti + ".show()", tr + ".show()"], function () { return ce(this, !0), this }); f([ti + ".hide()", tr + ".hide()"], function () { return ce(this, !1), this }); f([ti + ".remove()", tr + ".remove()"], function () { return su(this), this }); f(ti + ".isShown()", function () { var n = this.context; return n.length && this.length ? n[0].aoData[this[0]]._detailsShow || !1 : !1 }); var fo = /^([^:]+):(name|visIdx|visible)$/, le = function (n, t, i, r, u) { for (var e = [], f = 0, o = u.length; f < o; f++)e.push(p(n, u[f], t)); return e }, eo = function (t, i, r) { var u = t.aoColumns, e = w(u, "sName"), f = w(u, "nTh"), o = function (i) { var s = au(i), v, o, h, c, l, a; if (i === "") return st(u.length); if (s !== null) return [s >= 0 ? s : u.length + s]; if (typeof i == "function") return v = nr(t, r), n.map(u, function (n, r) { return i(r, le(t, r, 0, 0, v), f[r]) ? r : null }); if (o = typeof i == "string" ? i.match(fo) : "", o) switch (o[2]) { case "visIdx": case "visible": return (h = parseInt(o[1], 10), h < 0) ? (c = n.map(u, function (n, t) { return n.bVisible ? t : null }), [c[c.length + h]]) : [pt(t, h)]; case "name": return n.map(e, function (n, t) { return n === o[1] ? t : null }); default: return [] }return i.nodeName && i._DT_CellIndex ? [i._DT_CellIndex.column] : (l = n(f).filter(i).map(function () { return n.inArray(this, f) }).toArray(), l.length || !i.nodeName) ? l : (a = n(i).closest("*[data-dt-column]"), a.length ? [a.data("dt-column")] : []) }; return fu("column", i, o, t, r) }, oo = function (t, i, u) { var c = t.aoColumns, e = c[i], o = t.aoData, s, f, l, h, a; if (u === r) return e.bVisible; if (e.bVisible !== u) { if (u) for (a = n.inArray(!0, w(c, "bVisible"), i + 1), f = 0, l = o.length; f < l; f++)h = o[f].nTr, s = o[f].anCells, h && h.insertBefore(s[i], s[a] || null); else n(w(t.aoData, "anCells", i)).detach(); e.bVisible = u; kt(t, t.aoHeader); kt(t, t.aoFooter); t.aiDisplay.length || n(t.nTBody).find("td[colspan]").attr("colspan", ht(t)); di(t) } }; return f("columns()", function (t, i) { t === r ? t = "" : n.isPlainObject(t) && (i = t, t = ""); i = eu(i); var u = this.iterator("table", function (n) { return eo(n, t, i) }, 1); return u.selector.cols = t, u.selector.opts = i, u }), s("columns().header()", "column().header()", function () { return this.iterator("column", function (n, t) { return n.aoColumns[t].nTh }, 1) }), s("columns().footer()", "column().footer()", function () { return this.iterator("column", function (n, t) { return n.aoColumns[t].nTf }, 1) }), s("columns().data()", "column().data()", function () { return this.iterator("column-rows", le, 1) }), s("columns().dataSrc()", "column().dataSrc()", function () { return this.iterator("column", function (n, t) { return n.aoColumns[t].mData }, 1) }), s("columns().cache()", "column().cache()", function (n) { return this.iterator("column-rows", function (t, i, r, u, f) { return at(t.aoData, f, n === "search" ? "_aFilterData" : "_aSortData", i) }, 1) }), s("columns().nodes()", "column().nodes()", function () { return this.iterator("column-rows", function (n, t, i, r, u) { return at(n.aoData, u, "anCells", t) }, 1) }), s("columns().visible()", "column().visible()", function (n, t) { var i = this.iterator("column", function (t, i) { if (n === r) return t.aoColumns[i].bVisible; oo(t, i, n) }); return n !== r && (this.iterator("column", function (i, r) { o(i, null, "column-visibility", [i, r, n, t]) }), (t === r || t) && this.columns.adjust()), i }), s("columns().indexes()", "column().index()", function (n) { return this.iterator("column", function (t, i) { return n === "visible" ? wt(t, i) : i }, 1) }), f("columns.adjust()", function () { return this.iterator("table", function (n) { yt(n) }, 1) }), f("column.index()", function (n, t) { if (this.context.length !== 0) { var i = this.context[0]; if (n === "fromVisible" || n === "toData") return pt(i, t); if (n === "fromData" || n === "toVisible") return wt(i, t) } }), f("column()", function (n, t) { return ou(this.columns(n, t)) }), ae = function (t, i, u) { var a = t.aoData, o = nr(t, u), y = pu(at(a, o, "anCells")), w = n([].concat.apply([], y)), s, b = t.aoColumns.length, h, c, v, e, l, f, k = function (i) { var y = typeof i == "function", u; if (i === null || i === r || y) { for (h = [], c = 0, v = o.length; c < v; c++)for (s = o[c], e = 0; e < b; e++)l = { row: s, column: e }, y ? (f = a[s], i(l, p(t, s, e), f.anCells ? f.anCells[e] : null) && h.push(l)) : h.push(l); return h } return n.isPlainObject(i) ? i.column !== r && i.row !== r && n.inArray(i.row, o) !== -1 ? [i] : [] : (u = w.filter(i).map(function (n, t) { return { row: t._DT_CellIndex.row, column: t._DT_CellIndex.column } }).toArray(), u.length || !i.nodeName) ? u : (f = n(i).closest("*[data-dt-row]"), f.length ? [{ row: f.data("dt-row"), column: f.data("dt-column") }] : []) }; return fu("cell", i, k, t, u) }, f("cells()", function (t, i, u) { var o, s, h, f, l, e, a, c; return (n.isPlainObject(t) && (t.row === r ? (u = t, t = null) : (u = i, i = null)), n.isPlainObject(i) && (u = i, i = null), i === null || i === r) ? this.iterator("table", function (n) { return ae(n, t, eu(u)) }) : (o = this.columns(i), s = this.rows(t), this.iterator("table", function (n, t) { for (h = [], f = 0, l = s[t].length; f < l; f++)for (e = 0, a = o[t].length; e < a; e++)h.push({ row: s[t][f], column: o[t][e] }) }, 1), c = this.cells(h, u), n.extend(c.selector, { cols: i, rows: t, opts: u }), c) }), s("cells().nodes()", "cell().node()", function () { return this.iterator("cell", function (n, t, i) { var u = n.aoData[t]; return u && u.anCells ? u.anCells[i] : r }, 1) }), f("cells().data()", function () { return this.iterator("cell", function (n, t, i) { return p(n, t, i) }, 1) }), s("cells().cache()", "cell().cache()", function (n) { return n = n === "search" ? "_aFilterData" : "_aSortData", this.iterator("cell", function (t, i, r) { return t.aoData[i][n][r] }, 1) }), s("cells().render()", "cell().render()", function (n) { return this.iterator("cell", function (t, i, r) { return p(t, i, r, n) }, 1) }), s("cells().indexes()", "cell().index()", function () { return this.iterator("cell", function (n, t, i) { return { row: t, column: i, columnVisible: wt(n, i) } }, 1) }), s("cells().invalidate()", "cell().invalidate()", function (n) { return this.iterator("cell", function (t, i, r) { bt(t, i, n, r) }) }), f("cell()", function (n, t, i) { return ou(this.cells(n, t, i)) }), f("cell().data()", function (n) { var i = this.context, t = this[0]; return n === r ? i.length && t.length ? p(i[0], t[0].row, t[0].column) : r : (nf(i[0], t[0].row, t[0].column, n), bt(i[0], t[0].row, "data", t[0].column), this) }), f("order()", function (t, i) { var u = this.context; return t === r ? u.length !== 0 ? u[0].aaSorting : r : (typeof t == "number" ? t = [[t, i]] : t.length && !n.isArray(t[0]) && (t = Array.prototype.slice.call(arguments)), this.iterator("table", function (n) { n.aaSorting = t.slice() })) }), f("order.listener()", function (n, t, i) { return this.iterator("table", function (r) { gr(r, n, t, i) }) }), f("order.fixed()", function (t) { if (!t) { var u = this.context, i = u.length ? u[0].aaSortingFixed : r; return n.isArray(i) ? { pre: i } : i } return this.iterator("table", function (i) { i.aaSortingFixed = n.extend(!0, {}, t) }) }), f(["columns().order()", "column().order()"], function (t) { var i = this; return this.iterator("table", function (r, u) { var f = []; n.each(i[u], function (n, i) { f.push([i, t]) }); r.aaSorting = f }) }), f("search()", function (t, i, u, f) { var e = this.context; return t === r ? e.length !== 0 ? e[0].oPreviousSearch.sSearch : r : this.iterator("table", function (r) { r.oFeatures.bFilter && gt(r, n.extend({}, r.oPreviousSearch, { sSearch: t + "", bRegex: i === null ? !1 : i, bSmart: u === null ? !0 : u, bCaseInsensitive: f === null ? !0 : f }), 1) }) }), s("columns().search()", "column().search()", function (t, i, u, f) { return this.iterator("column", function (e, o) { var s = e.aoPreSearchCols; if (t === r) return s[o].sSearch; e.oFeatures.bFilter && (n.extend(s[o], { sSearch: t + "", bRegex: i === null ? !1 : i, bSmart: u === null ? !0 : u, bCaseInsensitive: f === null ? !0 : f }), gt(e, e.oPreviousSearch, 1)) }) }), f("state()", function () { return this.context.length ? this.context[0].oSavedState : null }), f("state.clear()", function () { return this.iterator("table", function (n) { n.fnStateSaveCallback.call(n.oInstance, n, {}) }) }), f("state.loaded()", function () { return this.context.length ? this.context[0].oLoadedState : null }), f("state.save()", function () { return this.iterator("table", function (n) { di(n) }) }), u.versionCheck = u.fnVersionCheck = function (n) { for (var o = u.version.split("."), f = n.split("."), i, r, t = 0, e = f.length; t < e; t++)if (i = parseInt(o[t], 10) || 0, r = parseInt(f[t], 10) || 0, i !== r) return i > r; return !0 }, u.isDataTable = u.fnIsDataTable = function (t) { var i = n(t).get(0), r = !1; return t instanceof u.Api ? !0 : (n.each(u.settings, function (t, u) { var f = u.nScrollHead ? n("table", u.nScrollHead)[0] : null, e = u.nScrollFoot ? n("table", u.nScrollFoot)[0] : null; (u.nTable === i || f === i || e === i) && (r = !0) }), r) }, u.tables = u.fnTables = function (t) { var r = !1, i; return n.isPlainObject(t) && (r = t.api, t = t.visible), i = n.map(u.settings, function (i) { if (!t || t && n(i.nTable).is(":visible")) return i.nTable }), r ? new e(i) : i }, u.camelToHungarian = nt, f("$()", function (t, i) { var u = this.rows(i).nodes(), r = n(u); return n([].concat(r.filter(t).toArray(), r.find(t).toArray())) }), n.each(["on", "one", "off"], function (t, i) { f(i + "()", function () { var t = Array.prototype.slice.call(arguments), r; return t[0] = n.map(t[0].split(/\s/), function (n) { return n.match(/\.dt\b/) ? n : n + ".dt" }).join(" "), r = n(this.tables().nodes()), r[i].apply(r, t), this }) }), f("clear()", function () { return this.iterator("table", function (n) { hi(n) }) }), f("settings()", function () { return new e(this.context, this.context) }), f("init()", function () { var n = this.context; return n.length ? n[0].oInit : null }), f("data()", function () { return this.iterator("table", function (n) { return w(n.aoData, "_aData") }).flatten() }), f("destroy()", function (i) { return i = i || !1, this.iterator("table", function (r) { var w = r.nTableWrapper.parentNode, s = r.oClasses, h = r.nTable, d = r.nTBody, c = r.nTHead, l = r.nTFoot, f = n(h), a = n(d), b = n(r.nTableWrapper), k = n.map(r.aoData, function (n) { return n.nTr }), v, y, p; r.bDestroying = !0; o(r, "aoDestroyCallback", "destroy", [r]); i || new e(r).columns().visible(!0); b.off(".DT").find(":not(tbody *)").off(".DT"); n(t).off(".DT-" + r.sInstance); h != c.parentNode && (f.children("thead").detach(), f.append(c)); l && h != l.parentNode && (f.children("tfoot").detach(), f.append(l)); r.aaSorting = []; r.aaSortingFixed = []; ki(r); n(k).removeClass(r.asStripeClasses.join(" ")); n("th, td", c).removeClass(s.sSortable + " " + s.sSortableAsc + " " + s.sSortableDesc + " " + s.sSortableNone); a.children().detach(); a.append(k); y = i ? "remove" : "detach"; f[y](); b[y](); !i && w && (w.insertBefore(h, r.nTableReinsertBefore), f.css("width", r.sDestroyWidth).removeClass(s.sTable), v = r.asDestroyStripes.length, v && a.children().each(function (t) { n(this).addClass(r.asDestroyStripes[t % v]) })); p = n.inArray(r, u.settings); p !== -1 && u.settings.splice(p, 1) }) }), n.each(["column", "row", "cell"], function (n, t) { f(t + "s().every()", function (n) { var i = this.selector.opts, u = this; return this.iterator(t, function (f, e, o, s, h) { n.call(u[t](e, t === "cell" ? o : i, t === "cell" ? i : r), e, o, s, h) }) }) }), f("i18n()", function (t, i, u) { var e = this.context[0], f = et(t)(e.oLanguage); return f === r && (f = i), u !== r && n.isPlainObject(f) && (f = f[u] !== r ? f[u] : f._), f.replace("%d", u) }), u.version = "1.10.19", u.settings = [], u.models = {}, u.models.oSearch = { bCaseInsensitive: !0, sSearch: "", bRegex: !1, bSmart: !0 }, u.models.oRow = { nTr: null, anCells: null, _aData: [], _aSortData: null, _aFilterData: null, _sFilterRow: null, _sRowStripe: "", src: null, idx: -1 }, u.models.oColumn = { idx: null, aDataSort: null, asSorting: null, bSearchable: null, bSortable: null, bVisible: null, _sManualType: null, _bAttrSrc: !1, fnCreatedCell: null, fnGetData: null, fnSetData: null, mData: null, mRender: null, nTh: null, nTf: null, sClass: null, sContentPadding: null, sDefaultContent: null, sName: null, sSortDataType: "std", sSortingClass: null, sSortingClassJUI: null, sTitle: null, sType: null, sWidth: null, sWidthOrig: null }, u.defaults = { aaData: null, aaSorting: [[0, "asc"]], aaSortingFixed: [], ajax: null, aLengthMenu: [10, 25, 50, 100], aoColumns: null, aoColumnDefs: null, aoSearchCols: [], asStripeClasses: null, bAutoWidth: !0, bDeferRender: !1, bDestroy: !1, bFilter: !0, bInfo: !0, bLengthChange: !0, bPaginate: !0, bProcessing: !1, bRetrieve: !1, bScrollCollapse: !1, bServerSide: !1, bSort: !0, bSortMulti: !0, bSortCellsTop: !1, bSortClasses: !0, bStateSave: !1, fnCreatedRow: null, fnDrawCallback: null, fnFooterCallback: null, fnFormatNumber: function (n) { return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, this.oLanguage.sThousands) }, fnHeaderCallback: null, fnInfoCallback: null, fnInitComplete: null, fnPreDrawCallback: null, fnRowCallback: null, fnServerData: null, fnServerParams: null, fnStateLoadCallback: function (n) { try { return JSON.parse((n.iStateDuration === -1 ? sessionStorage : localStorage).getItem("DataTables_" + n.sInstance + "_" + location.pathname)) } catch (t) { } }, fnStateLoadParams: null, fnStateLoaded: null, fnStateSaveCallback: function (n, t) { try { (n.iStateDuration === -1 ? sessionStorage : localStorage).setItem("DataTables_" + n.sInstance + "_" + location.pathname, JSON.stringify(t)) } catch (i) { } }, fnStateSaveParams: null, iStateDuration: 7200, iDeferLoading: null, iDisplayLength: 10, iDisplayStart: 0, iTabIndex: 0, oClasses: {}, oLanguage: { oAria: { sSortAscending: ": activate to sort column ascending", sSortDescending: ": activate to sort column descending" }, oPaginate: { sFirst: "First", sLast: "Last", sNext: "Next", sPrevious: "Previous" }, sEmptyTable: "No data available in table", sInfo: "Showing _START_ to _END_ of _TOTAL_ entries", sInfoEmpty: "Showing 0 to 0 of 0 entries", sInfoFiltered: "(filtered from _MAX_ total entries)", sInfoPostFix: "", sDecimal: "", sThousands: ",", sLengthMenu: "Show _MENU_ entries", sLoadingRecords: "Loading...", sProcessing: "Processing...", sSearch: "Search:", sSearchPlaceholder: "", sUrl: "", sZeroRecords: "No matching records found" }, oSearch: n.extend({}, u.models.oSearch), sAjaxDataProp: "data", sAjaxSource: null, sDom: "lfrtip", searchDelay: null, sPaginationType: "simple_numbers", sScrollX: "", sScrollXInner: "", sScrollY: "", sServerMethod: "GET", renderer: null, rowId: "DT_RowId" }, vt(u.defaults), u.defaults.column = { aDataSort: null, iDataSort: -1, asSorting: ["asc", "desc"], bSearchable: !0, bSortable: !0, bVisible: !0, fnCreatedCell: null, mData: null, mRender: null, sCellType: "td", sClass: "", sContentPadding: "", sDefaultContent: null, sName: "", sSortDataType: "std", sTitle: null, sType: null, sWidth: null }, vt(u.defaults.column), u.models.oSettings = { oFeatures: { bAutoWidth: null, bDeferRender: null, bFilter: null, bInfo: null, bLengthChange: null, bPaginate: null, bProcessing: null, bServerSide: null, bSort: null, bSortMulti: null, bSortClasses: null, bStateSave: null }, oScroll: { bCollapse: null, iBarWidth: 0, sX: null, sXInner: null, sY: null }, oLanguage: { fnInfoCallback: null }, oBrowser: { bScrollOversize: !1, bScrollbarLeft: !1, bBounding: !1, barWidth: 0 }, ajax: null, aanFeatures: [], aoData: [], aiDisplay: [], aiDisplayMaster: [], aIds: {}, aoColumns: [], aoHeader: [], aoFooter: [], oPreviousSearch: {}, aoPreSearchCols: [], aaSorting: null, aaSortingFixed: [], asStripeClasses: null, asDestroyStripes: [], sDestroyWidth: 0, aoRowCallback: [], aoHeaderCallback: [], aoFooterCallback: [], aoDrawCallback: [], aoRowCreatedCallback: [], aoPreDrawCallback: [], aoInitComplete: [], aoStateSaveParams: [], aoStateLoadParams: [], aoStateLoaded: [], sTableId: "", nTable: null, nTHead: null, nTFoot: null, nTBody: null, nTableWrapper: null, bDeferLoading: !1, bInitialised: !1, aoOpenRows: [], sDom: null, searchDelay: null, sPaginationType: "two_button", iStateDuration: 0, aoStateSave: [], aoStateLoad: [], oSavedState: null, oLoadedState: null, sAjaxSource: null, sAjaxDataProp: null, bAjaxDataGet: !0, jqXHR: null, json: r, oAjaxData: r, fnServerData: null, aoServerParams: [], sServerMethod: null, fnFormatNumber: null, aLengthMenu: null, iDraw: 0, bDrawing: !1, iDrawError: -1, _iDisplayLength: 10, _iDisplayStart: 0, _iRecordsTotal: 0, _iRecordsDisplay: 0, oClasses: {}, bFiltered: !1, bSorted: !1, bSortCellsTop: null, oInit: null, aoDestroyCallback: [], fnRecordsTotal: function () { return y(this) == "ssp" ? this._iRecordsTotal * 1 : this.aiDisplayMaster.length }, fnRecordsDisplay: function () { return y(this) == "ssp" ? this._iRecordsDisplay * 1 : this.aiDisplay.length }, fnDisplayEnd: function () { var n = this._iDisplayLength, t = this._iDisplayStart, r = t + n, i = this.aiDisplay.length, u = this.oFeatures, f = u.bPaginate; return u.bServerSide ? f === !1 || n === -1 ? t + i : Math.min(t + n, this._iRecordsDisplay) : !f || r > i || n === -1 ? i : r }, oInstance: null, sInstance: null, iTabIndex: 0, nScrollHead: null, nScrollFoot: null, aLastSort: [], oPlugins: {}, rowIdFn: null, rowId: null }, u.ext = c = { buttons: {}, classes: {}, builder: "-source-", errMode: "alert", feature: [], search: [], selector: { cell: [], column: [], row: [] }, internal: {}, legacy: { ajax: null }, pager: {}, renderer: { pageButton: {}, header: {} }, order: {}, type: { detect: [], search: {}, order: {} }, _unique: 0, fnVersionCheck: u.fnVersionCheck, iApiIndex: 0, oJUIClasses: {}, sVersion: u.version }, n.extend(c, { afnFiltering: c.search, aTypes: c.type.detect, ofnSearch: c.type.search, oSort: c.type.order, afnSortData: c.order, aoFeatures: c.feature, oApi: c.internal, oStdClasses: c.classes, oPagination: c.pager }), n.extend(u.ext.classes, { sTable: "dataTable", sNoFooter: "no-footer", sPageButton: "paginate_button", sPageButtonActive: "current", sPageButtonDisabled: "disabled", sStripeOdd: "odd", sStripeEven: "even", sRowEmpty: "dataTables_empty", sWrapper: "dataTables_wrapper", sFilter: "dataTables_filter", sInfo: "dataTables_info", sPaging: "dataTables_paginate paging_", sLength: "dataTables_length", sProcessing: "dataTables_processing", sSortAsc: "sorting_asc", sSortDesc: "sorting_desc", sSortable: "sorting", sSortableAsc: "sorting_asc_disabled", sSortableDesc: "sorting_desc_disabled", sSortableNone: "sorting_disabled", sSortColumn: "sorting_", sFilterInput: "", sLengthSelect: "", sScrollWrapper: "dataTables_scroll", sScrollHead: "dataTables_scrollHead", sScrollHeadInner: "dataTables_scrollHeadInner", sScrollBody: "dataTables_scrollBody", sScrollFoot: "dataTables_scrollFoot", sScrollFootInner: "dataTables_scrollFootInner", sHeaderTH: "", sFooterTH: "", sSortJUIAsc: "", sSortJUIDesc: "", sSortJUI: "", sSortJUIAscAllowed: "", sSortJUIDescAllowed: "", sSortJUIWrapper: "", sSortIcon: "", sJUIHeader: "", sJUIFooter: "" }), hu = u.ext.pager, n.extend(hu, { simple: function () { return ["previous", "next"] }, full: function () { return ["first", "previous", "next", "last"] }, numbers: function (n, t) { return [ii(n, t)] }, simple_numbers: function (n, t) { return ["previous", ii(n, t), "next"] }, full_numbers: function (n, t) { return ["first", "previous", ii(n, t), "next", "last"] }, first_last_numbers: function (n, t) { return ["first", ii(n, t), "last"] }, _numbers: ii, numbers_length: 7 }), n.extend(!0, u.ext.renderer, { pageButton: { _: function (t, u, f, e, o, s) { var l = t.oClasses, a = t.oLanguage.oPaginate, w = t.oLanguage.oAria.paginate || {}, h, c, y = 0, p = function (i, r) { for (var b, u, d = function (n) { br(t, n.data.action, !0) }, k, e = 0, v = r.length; e < v; e++)if (u = r[e], n.isArray(u)) k = n("<" + (u.DT_el || "div") + "/>").appendTo(i), p(k, u); else { h = null; c = ""; switch (u) { case "ellipsis": i.append('<span class="ellipsis">&#x2026;<\/span>'); break; case "first": h = a.sFirst; c = u + (o > 0 ? "" : " " + l.sPageButtonDisabled); break; case "previous": h = a.sPrevious; c = u + (o > 0 ? "" : " " + l.sPageButtonDisabled); break; case "next": h = a.sNext; c = u + (o < s - 1 ? "" : " " + l.sPageButtonDisabled); break; case "last": h = a.sLast; c = u + (o < s - 1 ? "" : " " + l.sPageButtonDisabled); break; default: h = u + 1; c = o === u ? l.sPageButtonActive : "" }h !== null && (b = n("<a>", { "class": l.sPageButton + " " + c, "aria-controls": t.sTableId, "aria-label": w[u], "data-dt-idx": y, tabindex: t.iTabIndex, id: f === 0 && typeof u == "string" ? t.sTableId + "_" + u : null }).html(h).appendTo(i), tu(b, { action: u }, d), y++) } }, v; try { v = n(u).find(i.activeElement).data("dt-idx") } catch (b) { } p(n(u).empty(), e); v !== r && n(u).find("[data-dt-idx=" + v + "]").focus() } } }), n.extend(u.ext.type.detect, [function (n, t) { var i = t.oLanguage.sDecimal; return fr(n, i) ? "num" + i : null }, function (n) { if (n && !(n instanceof Date) && !ye.test(n)) return null; var t = Date.parse(n); return t !== null && !isNaN(t) || g(n) ? "date" : null }, function (n, t) { var i = t.oLanguage.sDecimal; return fr(n, i, !0) ? "num-fmt" + i : null }, function (n, t) { var i = t.oLanguage.sDecimal; return yu(n, i) ? "html-num" + i : null }, function (n, t) { var i = t.oLanguage.sDecimal; return yu(n, i, !0) ? "html-num-fmt" + i : null }, function (n) { return g(n) || typeof n == "string" && n.indexOf("<") !== -1 ? "html" : null }]), n.extend(u.ext.type.search, { html: function (n) { return g(n) ? n : typeof n == "string" ? n.replace(lu, " ").replace(ui, "") : "" }, string: function (n) { return g(n) ? n : typeof n == "string" ? n.replace(lu, " ") : n } }), ri = function (n, t, i, r) { return n !== 0 && (!n || n === "-") ? -Infinity : (t && (n = vu(n, t)), n.replace && (i && (n = n.replace(i, "")), r && (n = n.replace(r, ""))), n * 1) }, n.extend(c.type.order, { "date-pre": function (n) { var t = Date.parse(n); return isNaN(t) ? -Infinity : t }, "html-pre": function (n) { return g(n) ? "" : n.replace ? n.replace(/<.*?>/g, "").toLowerCase() : n + "" }, "string-pre": function (n) { return g(n) ? "" : typeof n == "string" ? n.toLowerCase() : n.toString ? n.toString() : "" }, "string-asc": function (n, t) { return n < t ? -1 : n > t ? 1 : 0 }, "string-desc": function (n, t) { return n < t ? 1 : n > t ? -1 : 0 } }), cu(""), n.extend(!0, u.ext.renderer, { header: { _: function (t, i, r, u) { n(t.nTable).on("order.dt.DT", function (n, f, e, o) { if (t === f) { var s = r.idx; i.removeClass(r.sSortingClass + " " + u.sSortAsc + " " + u.sSortDesc).addClass(o[s] == "asc" ? u.sSortAsc : o[s] == "desc" ? u.sSortDesc : r.sSortingClass) } }) }, jqueryui: function (t, i, r, u) { n("<div/>").addClass(u.sSortJUIWrapper).append(i.contents()).append(n("<span/>").addClass(u.sSortIcon + " " + r.sSortingClassJUI)).appendTo(i); n(t.nTable).on("order.dt.DT", function (n, f, e, o) { if (t === f) { var s = r.idx; i.removeClass(u.sSortAsc + " " + u.sSortDesc).addClass(o[s] == "asc" ? u.sSortAsc : o[s] == "desc" ? u.sSortDesc : r.sSortingClass); i.find("span." + u.sSortIcon).removeClass(u.sSortJUIAsc + " " + u.sSortJUIDesc + " " + u.sSortJUI + " " + u.sSortJUIAscAllowed + " " + u.sSortJUIDescAllowed).addClass(o[s] == "asc" ? u.sSortJUIAsc : o[s] == "desc" ? u.sSortJUIDesc : r.sSortingClassJUI) } }) } } }), ir = function (n) { return typeof n == "string" ? n.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;") : n }, u.render = { number: function (n, t, i, r, u) { return { display: function (f) { var s, e, o, h; return typeof f != "number" && typeof f != "string" ? f : (s = f < 0 ? "-" : "", e = parseFloat(f), isNaN(e)) ? ir(f) : (e = e.toFixed(i), f = Math.abs(e), o = parseInt(f, 10), h = i ? t + (f - o).toFixed(i).substring(2) : "", s + (r || "") + o.toString().replace(/\B(?=(\d{3})+(?!\d))/g, n) + h + (u || "")) } } }, text: function () { return { display: ir, filter: ir } } }, n.extend(u.ext.internal, { _fnExternApiFunc: ve, _fnBuildAjax: ai, _fnAjaxUpdate: uf, _fnAjaxParameters: ff, _fnAjaxUpdateDraw: ef, _fnAjaxDataSrc: vi, _fnAddColumn: or, _fnColumnOptions: ei, _fnAdjustColumnSizing: yt, _fnVisibleToColumnIndex: pt, _fnColumnIndexToVisible: wt, _fnVisbleColumns: ht, _fnGetColumns: oi, _fnColumnTypes: sr, _fnApplyColumnDefs: gu, _fnHungarianMap: vt, _fnCamelToHungarian: nt, _fnLanguageCompat: er, _fnBrowserDetect: ku, _fnAddData: it, _fnAddTr: si, _fnNodeToDataIndex: de, _fnNodeToColumnIndex: ge, _fnGetCellData: p, _fnSetCellData: nf, _fnSplitObjNotation: hr, _fnGetObjectDataFn: et, _fnSetObjectDataFn: rt, _fnGetDataMaster: cr, _fnClearTable: hi, _fnDeleteIndex: ci, _fnInvalidate: bt, _fnGetRowElements: lr, _fnCreateTr: ar, _fnBuildHead: tf, _fnDrawHead: kt, _fnDraw: ut, _fnReDraw: ot, _fnAddOptionsHtml: rf, _fnDetectHeader: dt, _fnGetUniqueThs: li, _fnFeatureHtmlFilter: of, _fnFilterComplete: gt, _fnFilterCustom: sf, _fnFilterColumn: hf, _fnFilter: cf, _fnFilterCreateSearch: yr, _fnEscapeRegex: pr, _fnFilterData: lf, _fnFeatureHtmlInfo: yf, _fnUpdateInfo: pf, _fnInfoMacros: wf, _fnInitialise: ni, _fnInitComplete: pi, _fnLengthChange: wr, _fnFeatureHtmlLength: bf, _fnFeatureHtmlPaginate: kf, _fnPageChange: br, _fnFeatureHtmlProcessing: df, _fnProcessingDisplay: b, _fnFeatureHtmlTable: gf, _fnScrollDraw: wi, _fnApplyToChildren: d, _fnCalculateColumnWidths: kr, _fnThrottle: bi, _fnConvertToWidth: te, _fnGetWidestNode: ie, _fnGetMaxLenString: re, _fnStringToCss: h, _fnSortFlatten: lt, _fnSort: ue, _fnSortAria: fe, _fnSortListener: dr, _fnSortAttachListener: gr, _fnSortingClasses: ki, _fnSortData: ee, _fnSaveState: di, _fnLoadState: oe, _fnSettingsFromNode: gi, _fnLog: tt, _fnMap: k, _fnBindAction: tu, _fnCallbackReg: v, _fnCallbackFire: o, _fnLengthOverflow: iu, _fnRenderer: ru, _fnDataSource: y, _fnRowAttributes: vr, _fnExtend: nu, _fnCalculateEnd: function () { } }), n.fn.dataTable = u, u.$ = n, n.fn.dataTableSettings = u.settings, n.fn.dataTableExt = u.ext, n.fn.DataTable = function (t) { return n(this).dataTable(t).api() }, n.each(u, function (t, i) { n.fn.DataTable[t] = i }), n.fn.dataTable }), function (n) { typeof define == "function" && define.amd ? define(["jquery", "datatables.net"], function (t) { return n(t, window, document) }) : typeof exports == "object" ? module.exports = function (t, i) { return t || (t = window), i && i.fn.dataTable || (i = require("datatables.net")(t, i).$), n(i, t, t.document) } : n(jQuery, window, document) }(function (n, t, i, r) { "use strict"; function h(n, t, i) { var e = t + "-" + i, r, o, u, s; if (f[e]) return f[e]; for (r = [], o = n.cell(t, i).node().childNodes, u = 0, s = o.length; u < s; u++)r.push(o[u]); return f[e] = r, r } function s(n, t, i) { var o = t + "-" + i, u, c, e, l; if (f[o]) { var a = n.cell(t, i).node(), v = f[o], y = v[0].parentNode, h = y.childNodes, s = []; for (u = 0, c = h.length; u < c; u++)s.push(h[u]); for (e = 0, l = s.length; e < l; e++)a.appendChild(s[e]); f[o] = r } } var o = n.fn.dataTable, u = function (t, i) { if (!o.versionCheck || !o.versionCheck("1.10.10")) throw "DataTables Responsive requires DataTables 1.10.10 or newer"; (this.s = { dt: new o.Api(t), columns: [], current: [] }, this.s.dt.settings()[0].responsive) || (i && typeof i.details == "string" ? i.details = { type: i.details } : i && i.details === !1 ? i.details = { type: !1 } : i && i.details === !0 && (i.details = { type: "inline" }), this.c = n.extend(!0, {}, u.defaults, o.defaults.responsive, i), t.responsive = this, this._constructor()) }, f, e; n.extend(u.prototype, { _constructor: function () { var i = this, r = this.s.dt, f = r.settings()[0], e = n(t).width(), u; r.settings()[0]._responsive = this; n(t).on("resize.dtr orientationchange.dtr", o.util.throttle(function () { var r = n(t).width(); r !== e && (i._resize(), e = r) })); f.oApi._fnCallbackReg(f, "aoRowCreatedCallback", function (t) { n.inArray(!1, i.s.current) !== -1 && n(">td, >th", t).each(function (t) { var u = r.column.index("toData", t); i.s.current[u] === !1 && n(this).css("display", "none") }) }); r.on("destroy.dtr", function () { r.off(".dtr"); n(r.table().body()).off(".dtr"); n(t).off("resize.dtr orientationchange.dtr"); n.each(i.s.current, function (n, t) { t === !1 && i._setColumnVis(n, !0) }) }); if (this.c.breakpoints.sort(function (n, t) { return n.width < t.width ? 1 : n.width > t.width ? -1 : 0 }), this._classLogic(), this._resizeAuto(), u = this.c.details, u.type !== !1) { i._detailsInit(); r.on("column-visibility.dtr", function () { i._timer && clearTimeout(i._timer); i._timer = setTimeout(function () { i._timer = null; i._classLogic(); i._resizeAuto(); i._resize(); i._redrawChildren() }, 100) }); r.on("draw.dtr", function () { i._redrawChildren() }); n(r.table().node()).addClass("dtr-" + u.type) } r.on("column-reorder.dtr", function () { i._classLogic(); i._resizeAuto(); i._resize() }); r.on("column-sizing.dtr", function () { i._resizeAuto(); i._resize() }); r.on("preXhr.dtr", function () { var n = []; r.rows().every(function () { this.child.isShown() && n.push(this.id(!0)) }); r.one("draw.dtr", function () { i._resizeAuto(); i._resize(); r.rows(n).every(function () { i._detailsDisplay(this, !1) }) }) }); r.on("init.dtr", function () { i._resizeAuto(); i._resize(); n.inArray(!1, i.s.current) && r.columns.adjust() }); this._resize() }, _columnsVisiblity: function (t) { for (var o = this.s.dt, r = this.s.columns, a = r.map(function (n, t) { return { columnIdx: t, priority: n.priority } }).sort(function (n, t) { return n.priority !== t.priority ? n.priority - t.priority : n.columnIdx - t.columnIdx }), u = n.map(r, function (i, r) { return o.column(r).visible() === !1 ? "not-visible" : i.auto && i.minWidth === null ? !1 : i.auto === !0 ? "-" : n.inArray(t, i.includeIn) !== -1 }), v = 0, c, e, l, i = 0, f = u.length; i < f; i++)u[i] === !0 && (v += r[i].minWidth); var s = o.settings()[0].oScroll, y = s.sY || s.sX ? s.iBarWidth : 0, p = o.table().container().offsetWidth - y, h = p - v; for (i = 0, f = u.length; i < f; i++)r[i].control && (h -= r[i].minWidth); for (c = !1, i = 0, f = a.length; i < f; i++)e = a[i].columnIdx, u[e] === "-" && !r[e].control && r[e].minWidth && (c || h - r[e].minWidth < 0 ? (c = !0, u[e] = !1) : u[e] = !0, h -= r[e].minWidth); for (l = !1, i = 0, f = r.length; i < f; i++)if (!r[i].control && !r[i].never && u[i] === !1) { l = !0; break } for (i = 0, f = r.length; i < f; i++)r[i].control && (u[i] = l), u[i] === "not-visible" && (u[i] = !1); return n.inArray(!0, u) === -1 && (u[0] = !0), u }, _classLogic: function () { var f = this, t = this.c.breakpoints, e = this.s.dt, i = e.columns().eq(0).map(function (t) { var f = this.column(t), o = f.header().className, i = e.settings()[0].aoColumns[t].responsivePriority, u; return i === r && (u = n(f.header()).data("priority"), i = u !== r ? u * 1 : 1e4), { className: o, includeIn: [], auto: !1, control: !1, never: o.match(/\bnever\b/) ? !0 : !1, priority: i } }), u = function (t, r) { var u = i[t].includeIn; n.inArray(r, u) === -1 && u.push(r) }, o = function (n, r, e, o) { var c, s, h; if (e) { if (e === "max-") for (c = f._find(r).width, s = 0, h = t.length; s < h; s++)t[s].width <= c && u(n, t[s].name); else if (e === "min-") for (c = f._find(r).width, s = 0, h = t.length; s < h; s++)t[s].width >= c && u(n, t[s].name); else if (e === "not-") for (s = 0, h = t.length; s < h; s++)t[s].name.indexOf(o) === -1 && u(n, t[s].name) } else i[n].includeIn.push(r) }; i.each(function (i, r) { for (var s = i.className.split(" "), u = !1, f, e = 0, h = s.length; e < h; e++) { if (f = n.trim(s[e]), f === "all") { u = !0; i.includeIn = n.map(t, function (n) { return n.name }); return } if (f === "none" || i.never) { u = !0; return } if (f === "control") { u = !0; i.control = !0; return } n.each(t, function (n, t) { var e = t.name.split("-"), s = new RegExp("(min\\-|max\\-|not\\-)?(" + e[0] + ")(\\-[_a-zA-Z0-9])?"), i = f.match(s); i && (u = !0, i[2] === e[0] && i[3] === "-" + e[1] ? o(r, t.name, i[1], i[2] + i[3]) : i[2] !== e[0] || i[3] || o(r, t.name, i[1], i[2])) }) } u || (i.auto = !0) }); this.s.columns = i }, _detailsDisplay: function (t, i) { var e = this, f = this.s.dt, r = this.c.details, u; r && r.type !== !1 && (u = r.display(t, i, function () { return r.renderer(f, t[0], e._detailsObj(t[0])) }), (u === !0 || u === !1) && n(f.table().node()).triggerHandler("responsive-display.dt", [f, t, u, i])) }, _detailsInit: function () { var r = this, t = this.s.dt, u = this.c.details, i, f; u.type === "inline" && (u.target = "td:first-child, th:first-child"); t.on("draw.dtr", function () { r._tabIndexes() }); r._tabIndexes(); n(t.table().body()).on("keyup.dtr", "td, th", function (t) { t.keyCode === 13 && n(this).data("dtr-keyboard") && n(this).click() }); i = u.target; f = typeof i == "string" ? i : "td, th"; n(t.table().body()).on("click.dtr mousedown.dtr mouseup.dtr", f, function (u) { var f, e; n(t.table().node()).hasClass("collapsed") && n.inArray(n(this).closest("tr").get(0), t.rows().nodes().toArray()) !== -1 && (typeof i != "number" || (f = i < 0 ? t.columns().eq(0).length + i : i, t.cell(this).index().column === f)) && (e = t.row(n(this).closest("tr")), u.type === "click" ? r._detailsDisplay(e, !1) : u.type === "mousedown" ? n(this).css("outline", "none") : u.type === "mouseup" && n(this).blur().css("outline", "")) }) }, _detailsObj: function (t) { var r = this, i = this.s.dt; return n.map(this.s.columns, function (n, u) { if (!n.never && !n.control) return { title: i.settings()[0].aoColumns[u].sTitle, data: i.cell(t, u).render(r.c.orthogonal), hidden: i.column(u).visible() && !r.s.current[u], columnIndex: u, rowIndex: t } }) }, _find: function (n) { for (var i = this.c.breakpoints, t = 0, r = i.length; t < r; t++)if (i[t].name === n) return i[t] }, _redrawChildren: function () { var t = this, n = this.s.dt; n.rows({ page: "current" }).iterator("row", function (i, r) { var u = n.row(r); t._detailsDisplay(n.row(r), !0) }) }, _resize: function () { for (var a = this, r = this.s.dt, v = n(t).width(), f = this.c.breakpoints, c = f[0].name, e = this.s.columns, l, y = this.s.current.slice(), u, o, s, h, i = f.length - 1; i >= 0; i--)if (v <= f[i].width) { c = f[i].name; break } for (u = this._columnsVisiblity(c), this.s.current = u, o = !1, i = 0, l = e.length; i < l; i++)if (u[i] === !1 && !e[i].never && !e[i].control && !r.column(i).visible() == !1) { o = !0; break } n(r.table().node()).toggleClass("collapsed", o); s = !1; h = 0; r.columns().eq(0).each(function (n, t) { u[t] === !0 && h++; u[t] !== y[t] && (s = !0, a._setColumnVis(n, u[t])) }); s && (this._redrawChildren(), n(r.table().node()).trigger("responsive-resize.dt", [r, this.s.current]), r.page.info().recordsDisplay === 0 && n("td", r.table().body()).eq(0).attr("colspan", h)) }, _resizeAuto: function () { var t = this.s.dt, e = this.s.columns, r, h, c, u; if (this.c.auto && n.inArray(!0, n.map(e, function (n) { return n.auto })) !== -1) { n.isEmptyObject(f) || n.each(f, function (n) { var i = n.split("-"); s(t, i[0] * 1, i[1] * 1) }); var v = t.table().node().offsetWidth, y = t.columns, i = t.table().node().cloneNode(!1), l = n(t.table().header().cloneNode(!1)).appendTo(i), a = n(t.table().body()).clone(!1, !1).empty().appendTo(i), o = t.columns().header().filter(function (n) { return t.column(n).visible() }).to$().clone(!1).css("display", "table-cell").css("min-width", 0); n(a).append(n(t.rows({ page: "current" }).nodes()).clone(!1)).find("th, td").css("display", ""); r = t.table().footer(); r && (h = n(r.cloneNode(!1)).appendTo(i), c = t.columns().footer().filter(function (n) { return t.column(n).visible() }).to$().clone(!1).css("display", "table-cell"), n("<tr/>").append(c).appendTo(h)); n("<tr/>").append(o).appendTo(l); this.c.details.type === "inline" && n(i).addClass("dtr-inline collapsed"); n(i).find("[name]").removeAttr("name"); n(i).css("position", "relative"); u = n("<div/>").css({ width: 1, height: 1, overflow: "hidden", clear: "both" }).append(i); u.insertBefore(t.table().node()); o.each(function (n) { var i = t.column.index("fromVisible", n); e[i].minWidth = this.offsetWidth || 0 }); u.remove() } }, _setColumnVis: function (t, i) { var r = this.s.dt, u = i ? "" : "none"; n(r.column(t).header()).css("display", u); n(r.column(t).footer()).css("display", u); r.column(t).nodes().to$().css("display", u); n.isEmptyObject(f) || r.cells(null, t).indexes().each(function (n) { s(r, n.row, n.column) }) }, _tabIndexes: function () { var i = this.s.dt, u = i.cells({ page: "current" }).nodes().to$(), r = i.settings()[0], t = this.c.details.target; u.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]"); typeof t == "number" ? i.cells(null, t, { page: "current" }).nodes().to$().attr("tabIndex", r.iTabIndex).data("dtr-keyboard", 1) : (t === "td:first-child, th:first-child" && (t = ">td:first-child, >th:first-child"), n(t, i.rows({ page: "current" }).nodes()).attr("tabIndex", r.iTabIndex).data("dtr-keyboard", 1)) } }); u.breakpoints = [{ name: "desktop", width: Infinity }, { name: "tablet-l", width: 1024 }, { name: "tablet-p", width: 768 }, { name: "mobile-l", width: 480 }, { name: "mobile-p", width: 320 }]; u.display = { childRow: function (t, i, r) { if (i) { if (n(t.node()).hasClass("parent")) return t.child(r(), "child").show(), !0 } else return t.child.isShown() ? (t.child(!1), n(t.node()).removeClass("parent"), !1) : (t.child(r(), "child").show(), n(t.node()).addClass("parent"), !0) }, childRowImmediate: function (t, i, r) { return (i || !t.child.isShown()) && t.responsive.hasHidden() ? (t.child(r(), "child").show(), n(t.node()).addClass("parent"), !0) : (t.child(!1), n(t.node()).removeClass("parent"), !1) }, modal: function (t) { return function (r, u, f) { if (u) n("div.dtr-modal-content").empty().append(f()); else { var e = function () { o.remove(); n(i).off("keypress.dtr") }, o = n('<div class="dtr-modal"/>').append(n('<div class="dtr-modal-display"/>').append(n('<div class="dtr-modal-content"/>').append(f())).append(n('<div class="dtr-modal-close">&times;<\/div>').click(function () { e() }))).append(n('<div class="dtr-modal-background"/>').click(function () { e() })).appendTo("body"); n(i).on("keyup.dtr", function (n) { n.keyCode === 27 && (n.stopPropagation(), e()) }) } t && t.header && n("div.dtr-modal-content").prepend("<h2>" + t.header(r) + "<\/h2>") } } }; f = {}; u.renderer = { listHiddenNodes: function () { return function (t, i, r) { var u = n('<ul data-dtr-index="' + i + '" class="dtr-details"/>'), f = !1, e = n.each(r, function (i, r) { r.hidden && (n('<li data-dtr-index="' + r.columnIndex + '" data-dt-row="' + r.rowIndex + '" data-dt-column="' + r.columnIndex + '"><span class="dtr-title">' + r.title + "<\/span> <\/li>").append(n('<span class="dtr-data"/>').append(h(t, r.rowIndex, r.columnIndex))).appendTo(u), f = !0) }); return f ? u : !1 } }, listHidden: function () { return function (t, i, r) { var u = n.map(r, function (n) { return n.hidden ? '<li data-dtr-index="' + n.columnIndex + '" data-dt-row="' + n.rowIndex + '" data-dt-column="' + n.columnIndex + '"><span class="dtr-title">' + n.title + '<\/span> <span class="dtr-data">' + n.data + "<\/span><\/li>" : "" }).join(""); return u ? n('<ul data-dtr-index="' + i + '" class="dtr-details"/>').append(u) : !1 } }, tableAll: function (t) { return t = n.extend({ tableClass: "" }, t), function (i, r, u) { var f = n.map(u, function (n) { return '<tr data-dt-row="' + n.rowIndex + '" data-dt-column="' + n.columnIndex + '"><td>' + n.title + ":<\/td> <td>" + n.data + "<\/td><\/tr>" }).join(""); return n('<table class="' + t.tableClass + ' dtr-details" width="100%"/>').append(f) } } }; u.defaults = { breakpoints: u.breakpoints, auto: !0, details: { display: u.display.childRow, renderer: u.renderer.listHidden(), target: 0, type: "inline" }, orthogonal: "display" }; e = n.fn.dataTable.Api; e.register("responsive()", function () { return this }); e.register("responsive.index()", function (t) { return t = n(t), { column: t.data("dtr-index"), row: t.parent().data("dtr-index") } }); e.register("responsive.rebuild()", function () { return this.iterator("table", function (n) { n._responsive && n._responsive._classLogic() }) }); e.register("responsive.recalc()", function () { return this.iterator("table", function (n) { n._responsive && (n._responsive._resizeAuto(), n._responsive._resize()) }) }); e.register("responsive.hasHidden()", function () { var t = this.context[0]; return t._responsive ? n.inArray(!1, t._responsive.s.current) !== -1 : !1 }); e.registerPlural("columns().responsiveHidden()", "column().responsiveHidden()", function () { return this.iterator("column", function (n, t) { return n._responsive ? n._responsive.s.current[t] : !1 }, 1) }); u.version = "2.2.3"; n.fn.dataTable.Responsive = u; n.fn.DataTable.Responsive = u; n(i).on("preInit.dt.dtr", function (t, i) { if (t.namespace === "dt" && (n(i.nTable).hasClass("responsive") || n(i.nTable).hasClass("dt-responsive") || i.oInit.responsive || o.defaults.responsive)) { var r = i.oInit.responsive; r !== !1 && new u(i, n.isPlainObject(r) ? r : {}) } }); return u }); !function (n) { "function" == typeof define && define.amd ? define(["jquery"], n) : "object" == typeof module && module.exports ? module.exports = function (t, i) { return void 0 === i && (i = "undefined" != typeof window ? require("jquery") : require("jquery")(t)), n(i), i } : n(jQuery) }(function (n) { var t = function () { var t; return n && n.fn && n.fn.select2 && n.fn.select2.amd && (t = n.fn.select2.amd), function () { if (!t || !t.requirejs) { t ? i = t : t = {}; var n, i, r; !function (t) { function e(n, t) { return tt.call(n, t) } function c(n, t) { var e, o, s, u, h, y, c, p, i, l, w, b, r = t && t.split("/"), a = f.map, v = a && a["*"] || {}; if (n) { for (n = n.split("/"), h = n.length - 1, f.nodeIdCompat && k.test(n[h]) && (n[h] = n[h].replace(k, "")), "." === n[0].charAt(0) && r && (b = r.slice(0, r.length - 1), n = b.concat(n)), i = 0; i < n.length; i++)if ("." === (w = n[i])) n.splice(i, 1), i -= 1; else if (".." === w) { if (0 === i || 1 === i && ".." === n[2] || ".." === n[i - 1]) continue; i > 0 && (n.splice(i - 1, 2), i -= 2) } n = n.join("/") } if ((r || v) && a) { for (e = n.split("/"), i = e.length; i > 0; i -= 1) { if (o = e.slice(0, i).join("/"), r) for (l = r.length; l > 0; l -= 1)if ((s = a[r.slice(0, l).join("/")]) && (s = s[o])) { u = s; y = i; break } if (u) break; !c && v && v[o] && (c = v[o], p = i) } !u && c && (u = c, y = p); u && (e.splice(0, y, u), n = e.join("/")) } return n } function w(n, i) { return function () { var r = it.call(arguments, 0); return "string" != typeof r[0] && 1 === r.length && r.push(null), o.apply(t, r.concat([n, i])) } } function d(n) { return function (t) { return c(t, n) } } function g(n) { return function (t) { u[n] = t } } function l(n) { if (e(h, n)) { var i = h[n]; delete h[n]; p[n] = !0; a.apply(t, i) } if (!e(u, n) && !e(p, n)) throw new Error("No " + n); return u[n] } function v(n) { var i, t = n ? n.indexOf("!") : -1; return t > -1 && (i = n.substring(0, t), n = n.substring(t + 1, n.length)), [i, n] } function b(n) { return n ? v(n) : [] } function nt(n) { return function () { return f && f.config && f.config[n] || {} } } var a, o, y, s, u = {}, h = {}, f = {}, p = {}, tt = Object.prototype.hasOwnProperty, it = [].slice, k = /\.js$/; y = function (n, t) { var r, u = v(n), i = u[0], f = t[1]; return n = u[1], i && (i = c(i, f), r = l(i)), i ? n = r && r.normalize ? r.normalize(n, d(f)) : c(n, f) : (n = c(n, f), u = v(n), i = u[0], n = u[1], i && (r = l(i))), { f: i ? i + "!" + n : n, n: n, pr: i, p: r } }; s = { require: function (n) { return w(n) }, exports: function (n) { var t = u[n]; return void 0 !== t ? t : u[n] = {} }, module: function (n) { return { id: n, uri: "", exports: u[n], config: nt(n) } } }; a = function (n, i, r, f) { var v, o, d, k, c, nt, tt, a = [], it = typeof r; if (f = f || n, nt = b(f), "undefined" === it || "function" === it) { for (i = !i.length && r.length ? ["require", "exports", "module"] : i, c = 0; c < i.length; c += 1)if (k = y(i[c], nt), "require" === (o = k.f)) a[c] = s.require(n); else if ("exports" === o) a[c] = s.exports(n), tt = !0; else if ("module" === o) v = a[c] = s.module(n); else if (e(u, o) || e(h, o) || e(p, o)) a[c] = l(o); else { if (!k.p) throw new Error(n + " missing " + o); k.p.load(k.n, w(f, !0), g(o), {}); a[c] = u[o] } d = r ? r.apply(u[n], a) : void 0; n && (v && v.exports !== t && v.exports !== u[n] ? u[n] = v.exports : d === t && tt || (u[n] = d)) } else n && (u[n] = r) }; n = i = o = function (n, i, r, u, e) { if ("string" == typeof n) return s[n] ? s[n](i) : l(y(n, b(i)).f); if (!n.splice) { if (f = n, f.deps && o(f.deps, f.callback), !i) return; i.splice ? (n = i, i = r, r = null) : n = t } return i = i || function () { }, "function" == typeof r && (r = u, u = e), u ? a(t, n, i, r) : setTimeout(function () { a(t, n, i, r) }, 4), o }; o.config = function (n) { return o(n) }; n._defined = u; r = function (n, t, i) { if ("string" != typeof n) throw new Error("See almond README: incorrect module build, no module name"); t.splice || (i = t, t = []); e(u, n) || e(h, n) || (h[n] = [n, t, i]) }; r.amd = { jQuery: !0 } }(); t.requirejs = n; t.require = i; t.define = r } }(), t.define("almond", function () { }), t.define("jquery", [], function () { var t = n || $; return null == t && console && console.error && console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."), t }), t.define("select2/utils", ["jquery"], function (n) { function r(n) { var i = n.prototype, r = [], t; for (t in i) "function" == typeof i[t] && "constructor" !== t && r.push(t); return r } var t = {}, i; return t.Extend = function (n, t) { function r() { this.constructor = n } var u = {}.hasOwnProperty, i; for (i in t) u.call(t, i) && (n[i] = t[i]); return r.prototype = t.prototype, n.prototype = new r, n.__super__ = t.prototype, n }, t.Decorate = function (n, t) { function i() { var r = Array.prototype.unshift, u = t.prototype.constructor.length, i = n.prototype.constructor; u > 0 && (r.call(arguments, n.prototype.constructor), i = t.prototype.constructor); i.apply(this, arguments) } function l() { this.constructor = i } var s = r(t), h = r(n), u, e, c, f, o; for (t.displayName = n.displayName, i.prototype = new l, u = 0; u < h.length; u++)e = h[u], i.prototype[e] = n.prototype[e]; for (c = function (n) { var r = function () { }, u; return n in i.prototype && (r = i.prototype[n]), u = t.prototype[n], function () { return Array.prototype.unshift.call(arguments, r), u.apply(this, arguments) } }, f = 0; f < s.length; f++)o = s[f], i.prototype[o] = c(o); return i }, i = function () { this.listeners = {} }, i.prototype.on = function (n, t) { this.listeners = this.listeners || {}; n in this.listeners ? this.listeners[n].push(t) : this.listeners[n] = [t] }, i.prototype.trigger = function (n) { var i = Array.prototype.slice, t = i.call(arguments, 1); this.listeners = this.listeners || {}; null == t && (t = []); 0 === t.length && t.push({}); t[0]._type = n; n in this.listeners && this.invoke(this.listeners[n], i.call(arguments, 1)); "*" in this.listeners && this.invoke(this.listeners["*"], arguments) }, i.prototype.invoke = function (n, t) { for (var i = 0, r = n.length; i < r; i++)n[i].apply(this, t) }, t.Observable = i, t.generateChars = function (n) { for (var t = "", i = 0; i < n; i++)t += Math.floor(36 * Math.random()).toString(36); return t }, t.bind = function (n, t) { return function () { n.apply(t, arguments) } }, t._convertData = function (n) { var f, r, i, u, t; for (f in n) if (r = f.split("-"), i = n, 1 !== r.length) { for (u = 0; u < r.length; u++)t = r[u], t = t.substring(0, 1).toLowerCase() + t.substring(1), t in i || (i[t] = {}), u == r.length - 1 && (i[t] = n[f]), i = i[t]; delete n[f] } return n }, t.hasScroll = function (t, i) { var u = n(i), f = i.style.overflowX, r = i.style.overflowY; return (f !== r || "hidden" !== r && "visible" !== r) && ("scroll" === f || "scroll" === r || u.innerHeight() < i.scrollHeight || u.innerWidth() < i.scrollWidth) }, t.escapeMarkup = function (n) { var t = { "\\": "&#92;", "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;", "/": "&#47;" }; return "string" != typeof n ? n : String(n).replace(/[&<>"'\/\\]/g, function (n) { return t[n] }) }, t.appendMany = function (t, i) { if ("1.7" === n.fn.jquery.substr(0, 3)) { var r = n(); n.map(i, function (n) { r = r.add(n) }); i = r } t.append(i) }, t }), t.define("select2/results", ["jquery", "./utils"], function (n, t) { function i(n, t, r) { this.$element = n; this.data = r; this.options = t; i.__super__.constructor.call(this) } return t.Extend(i, t.Observable), i.prototype.render = function () { var t = n('<ul class="select2-results__options" role="tree"><\/ul>'); return this.options.get("multiple") && t.attr("aria-multiselectable", "true"), this.$results = t, t }, i.prototype.clear = function () { this.$results.empty() }, i.prototype.displayMessage = function (t) { var u = this.options.get("escapeMarkup"), i, r; this.clear(); this.hideLoading(); i = n('<li role="treeitem" aria-live="assertive" class="select2-results__option"><\/li>'); r = this.options.get("translations").get(t.message); i.append(u(r(t.args))); i[0].className += " select2-results__message"; this.$results.append(i) }, i.prototype.hideMessages = function () { this.$results.find(".select2-results__message").remove() }, i.prototype.append = function (n) { var i, t, r, u; if (this.hideLoading(), i = [], null == n.results || 0 === n.results.length) return void (0 === this.$results.children().length && this.trigger("results:message", { message: "noResults" })); for (n.results = this.sort(n.results), t = 0; t < n.results.length; t++)r = n.results[t], u = this.option(r), i.push(u); this.$results.append(i) }, i.prototype.position = function (n, t) { t.find(".select2-results").append(n) }, i.prototype.sort = function (n) { return this.options.get("sorter")(n) }, i.prototype.highlightFirstItem = function () { var n = this.$results.find(".select2-results__option[aria-selected]"), t = n.filter("[aria-selected=true]"); t.length > 0 ? t.first().trigger("mouseenter") : n.first().trigger("mouseenter"); this.ensureHighlightVisible() }, i.prototype.setClasses = function () { var t = this; this.data.current(function (i) { var r = n.map(i, function (n) { return n.id.toString() }); t.$results.find(".select2-results__option[aria-selected]").each(function () { var i = n(this), t = n.data(this, "data"), u = "" + t.id; null != t.element && t.element.selected || null == t.element && n.inArray(u, r) > -1 ? i.attr("aria-selected", "true") : i.attr("aria-selected", "false") }) }) }, i.prototype.showLoading = function (n) { this.hideLoading(); var i = this.options.get("translations").get("searching"), r = { disabled: !0, loading: !0, text: i(n) }, t = this.option(r); t.className += " loading-results"; this.$results.prepend(t) }, i.prototype.hideLoading = function () { this.$results.find(".loading-results").remove() }, i.prototype.option = function (t) { var r = document.createElement("li"), i, e, c, o, u, s, f, l, a, h; r.className = "select2-results__option"; i = { role: "treeitem", "aria-selected": "false" }; t.disabled && (delete i["aria-selected"], i["aria-disabled"] = "true"); null == t.id && delete i["aria-selected"]; null != t._resultId && (r.id = t._resultId); t.title && (r.title = t.title); t.children && (i.role = "group", i["aria-label"] = t.text, delete i["aria-selected"]); for (e in i) c = i[e], r.setAttribute(e, c); if (t.children) { for (o = n(r), u = document.createElement("strong"), u.className = "select2-results__group", n(u), this.template(t, u), s = [], f = 0; f < t.children.length; f++)l = t.children[f], a = this.option(l), s.push(a); h = n("<ul><\/ul>", { "class": "select2-results__options select2-results__options--nested" }); h.append(s); o.append(u); o.append(h) } else this.template(t, r); return n.data(r, "data", t), r }, i.prototype.bind = function (t) { var i = this, r = t.id + "-results"; this.$results.attr("id", r); t.on("results:all", function (n) { i.clear(); i.append(n.data); t.isOpen() && (i.setClasses(), i.highlightFirstItem()) }); t.on("results:append", function (n) { i.append(n.data); t.isOpen() && i.setClasses() }); t.on("query", function (n) { i.hideMessages(); i.showLoading(n) }); t.on("select", function () { t.isOpen() && (i.setClasses(), i.highlightFirstItem()) }); t.on("unselect", function () { t.isOpen() && (i.setClasses(), i.highlightFirstItem()) }); t.on("open", function () { i.$results.attr("aria-expanded", "true"); i.$results.attr("aria-hidden", "false"); i.setClasses(); i.ensureHighlightVisible() }); t.on("close", function () { i.$results.attr("aria-expanded", "false"); i.$results.attr("aria-hidden", "true"); i.$results.removeAttr("aria-activedescendant") }); t.on("results:toggle", function () { var n = i.getHighlightedResults(); 0 !== n.length && n.trigger("mouseup") }); t.on("results:select", function () { var n = i.getHighlightedResults(), t; 0 !== n.length && (t = n.data("data"), "true" == n.attr("aria-selected") ? i.trigger("close", {}) : i.trigger("select", { data: t })) }); t.on("results:previous", function () { var r = i.getHighlightedResults(), u = i.$results.find("[aria-selected]"), f = u.index(r), n, t; if (0 !== f) { n = f - 1; 0 === r.length && (n = 0); t = u.eq(n); t.trigger("mouseenter"); var e = i.$results.offset().top, o = t.offset().top, s = i.$results.scrollTop() + (o - e); 0 === n ? i.$results.scrollTop(0) : o - e < 0 && i.$results.scrollTop(s) } }); t.on("results:next", function () { var e = i.getHighlightedResults(), t = i.$results.find("[aria-selected]"), o = t.index(e), r = o + 1, n; if (!(r >= t.length)) { n = t.eq(r); n.trigger("mouseenter"); var u = i.$results.offset().top + i.$results.outerHeight(!1), f = n.offset().top + n.outerHeight(!1), s = i.$results.scrollTop() + f - u; 0 === r ? i.$results.scrollTop(0) : f > u && i.$results.scrollTop(s) } }); t.on("results:focus", function (n) { n.element.addClass("select2-results__option--highlighted") }); t.on("results:message", function (n) { i.displayMessage(n) }); n.fn.mousewheel && this.$results.on("mousewheel", function (n) { var t = i.$results.scrollTop(), r = i.$results.get(0).scrollHeight - t + n.deltaY, u = n.deltaY > 0 && t - n.deltaY <= 0, f = n.deltaY < 0 && r <= i.$results.height(); u ? (i.$results.scrollTop(0), n.preventDefault(), n.stopPropagation()) : f && (i.$results.scrollTop(i.$results.get(0).scrollHeight - i.$results.height()), n.preventDefault(), n.stopPropagation()) }); this.$results.on("mouseup", ".select2-results__option[aria-selected]", function (t) { var r = n(this), u = r.data("data"); if ("true" === r.attr("aria-selected")) return void (i.options.get("multiple") ? i.trigger("unselect", { originalEvent: t, data: u }) : i.trigger("close", {})); i.trigger("select", { originalEvent: t, data: u }) }); this.$results.on("mouseenter", ".select2-results__option[aria-selected]", function () { var t = n(this).data("data"); i.getHighlightedResults().removeClass("select2-results__option--highlighted"); i.trigger("results:focus", { data: t, element: n(this) }) }) }, i.prototype.getHighlightedResults = function () { return this.$results.find(".select2-results__option--highlighted") }, i.prototype.destroy = function () { this.$results.remove() }, i.prototype.ensureHighlightVisible = function () { var n = this.getHighlightedResults(); if (0 !== n.length) { var f = this.$results.find("[aria-selected]"), e = f.index(n), t = this.$results.offset().top, i = n.offset().top, r = this.$results.scrollTop() + (i - t), u = i - t; r -= 2 * n.outerHeight(!1); e <= 2 ? this.$results.scrollTop(0) : (u > this.$results.outerHeight() || u < 0) && this.$results.scrollTop(r) } }, i.prototype.template = function (t, i) { var u = this.options.get("templateResult"), f = this.options.get("escapeMarkup"), r = u(t, i); null == r ? i.style.display = "none" : "string" == typeof r ? i.innerHTML = f(r) : n(i).append(r) }, i }), t.define("select2/keys", [], function () { return { BACKSPACE: 8, TAB: 9, ENTER: 13, SHIFT: 16, CTRL: 17, ALT: 18, ESC: 27, SPACE: 32, PAGE_UP: 33, PAGE_DOWN: 34, END: 35, HOME: 36, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, DELETE: 46 } }), t.define("select2/selection/base", ["jquery", "../utils", "../keys"], function (n, t, i) { function r(n, t) { this.$element = n; this.options = t; r.__super__.constructor.call(this) } return t.Extend(r, t.Observable), r.prototype.render = function () { var t = n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"><\/span>'); return this._tabindex = 0, null != this.$element.data("old-tabindex") ? this._tabindex = this.$element.data("old-tabindex") : null != this.$element.attr("tabindex") && (this._tabindex = this.$element.attr("tabindex")), t.attr("title", this.$element.attr("title")), t.attr("tabindex", this._tabindex), this.$selection = t, t }, r.prototype.bind = function (n) { var t = this, r = (n.id, n.id + "-results"); this.container = n; this.$selection.on("focus", function (n) { t.trigger("focus", n) }); this.$selection.on("blur", function (n) { t._handleBlur(n) }); this.$selection.on("keydown", function (n) { t.trigger("keypress", n); n.which === i.SPACE && n.preventDefault() }); n.on("results:focus", function (n) { t.$selection.attr("aria-activedescendant", n.data._resultId) }); n.on("selection:update", function (n) { t.update(n.data) }); n.on("open", function () { t.$selection.attr("aria-expanded", "true"); t.$selection.attr("aria-owns", r); t._attachCloseHandler(n) }); n.on("close", function () { t.$selection.attr("aria-expanded", "false"); t.$selection.removeAttr("aria-activedescendant"); t.$selection.removeAttr("aria-owns"); t.$selection.focus(); t._detachCloseHandler(n) }); n.on("enable", function () { t.$selection.attr("tabindex", t._tabindex) }); n.on("disable", function () { t.$selection.attr("tabindex", "-1") }) }, r.prototype._handleBlur = function (t) { var i = this; window.setTimeout(function () { document.activeElement == i.$selection[0] || n.contains(i.$selection[0], document.activeElement) || i.trigger("blur", t) }, 1) }, r.prototype._attachCloseHandler = function (t) { n(document.body).on("mousedown.select2." + t.id, function (t) { var i = n(t.target), r = i.closest(".select2"); n(".select2.select2-container--open").each(function () { var t = n(this); this != r[0] && t.data("element").select2("close") }) }) }, r.prototype._detachCloseHandler = function (t) { n(document.body).off("mousedown.select2." + t.id) }, r.prototype.position = function (n, t) { t.find(".selection").append(n) }, r.prototype.destroy = function () { this._detachCloseHandler(this.container) }, r.prototype.update = function () { throw new Error("The `update` method must be defined in child classes."); }, r }), t.define("select2/selection/single", ["jquery", "./base", "../utils", "../keys"], function (n, t, i) { function r() { r.__super__.constructor.apply(this, arguments) } return i.Extend(r, t), r.prototype.render = function () { var n = r.__super__.render.call(this); return n.addClass("select2-selection--single"), n.html('<span class="select2-selection__rendered"><\/span><span class="select2-selection__arrow" role="presentation"><b role="presentation"><\/b><\/span>'), n }, r.prototype.bind = function (n) { var t = this, i; r.__super__.bind.apply(this, arguments); i = n.id + "-container"; this.$selection.find(".select2-selection__rendered").attr("id", i); this.$selection.attr("aria-labelledby", i); this.$selection.on("mousedown", function (n) { 1 === n.which && t.trigger("toggle", { originalEvent: n }) }); this.$selection.on("focus", function () { }); this.$selection.on("blur", function () { }); n.on("focus", function () { n.isOpen() || t.$selection.focus() }); n.on("selection:update", function (n) { t.update(n.data) }) }, r.prototype.clear = function () { this.$selection.find(".select2-selection__rendered").empty() }, r.prototype.display = function (n, t) { var i = this.options.get("templateSelection"); return this.options.get("escapeMarkup")(i(n, t)) }, r.prototype.selectionContainer = function () { return n("<span><\/span>") }, r.prototype.update = function (n) { if (0 === n.length) return void this.clear(); var t = n[0], i = this.$selection.find(".select2-selection__rendered"), r = this.display(t, i); i.empty().append(r); i.prop("title", t.title || t.text) }, r }), t.define("select2/selection/multiple", ["jquery", "./base", "../utils"], function (n, t, i) { function r() { r.__super__.constructor.apply(this, arguments) } return i.Extend(r, t), r.prototype.render = function () { var n = r.__super__.render.call(this); return n.addClass("select2-selection--multiple"), n.html('<ul class="select2-selection__rendered"><\/ul>'), n }, r.prototype.bind = function () { var t = this; r.__super__.bind.apply(this, arguments); this.$selection.on("click", function (n) { t.trigger("toggle", { originalEvent: n }) }); this.$selection.on("click", ".select2-selection__choice__remove", function (i) { if (!t.options.get("disabled")) { var r = n(this), u = r.parent(), f = u.data("data"); t.trigger("unselect", { originalEvent: i, data: f }) } }) }, r.prototype.clear = function () { this.$selection.find(".select2-selection__rendered").empty() }, r.prototype.display = function (n, t) { var i = this.options.get("templateSelection"); return this.options.get("escapeMarkup")(i(n, t)) }, r.prototype.selectionContainer = function () { return n('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;<\/span><\/li>') }, r.prototype.update = function (n) { var f, r, e; if (this.clear(), 0 !== n.length) { for (f = [], r = 0; r < n.length; r++) { var u = n[r], t = this.selectionContainer(), o = this.display(u, t); t.append(o); t.prop("title", u.title || u.text); t.data("data", u); f.push(t) } e = this.$selection.find(".select2-selection__rendered"); i.appendMany(e, f) } }, r }), t.define("select2/selection/placeholder", ["../utils"], function () { function n(n, t, i) { this.placeholder = this.normalizePlaceholder(i.get("placeholder")); n.call(this, t, i) } return n.prototype.normalizePlaceholder = function (n, t) { return "string" == typeof t && (t = { id: "", text: t }), t }, n.prototype.createPlaceholder = function (n, t) { var i = this.selectionContainer(); return i.html(this.display(t)), i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"), i }, n.prototype.update = function (n, t) { var r = 1 == t.length && t[0].id != this.placeholder.id, i; if (t.length > 1 || r) return n.call(this, t); this.clear(); i = this.createPlaceholder(this.placeholder); this.$selection.find(".select2-selection__rendered").append(i) }, n }), t.define("select2/selection/allowClear", ["jquery", "../keys"], function (n, t) { function i() { } return i.prototype.bind = function (n, t, i) { var r = this; n.call(this, t, i); null == this.placeholder && this.options.get("debug") && window.console && console.error && console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."); this.$selection.on("mousedown", ".select2-selection__clear", function (n) { r._handleClear(n) }); t.on("keypress", function (n) { r._handleKeyboardClear(n, t) }) }, i.prototype._handleClear = function (n, t) { var r, u, i, f; if (!this.options.get("disabled") && (r = this.$selection.find(".select2-selection__clear"), 0 !== r.length)) { for (t.stopPropagation(), u = r.data("data"), i = 0; i < u.length; i++)if (f = { data: u[i] }, this.trigger("unselect", f), f.prevented) return; this.$element.val(this.placeholder.id).trigger("change"); this.trigger("toggle", {}) } }, i.prototype._handleKeyboardClear = function (n, i, r) { r.isOpen() || i.which != t.DELETE && i.which != t.BACKSPACE || this._handleClear(i) }, i.prototype.update = function (t, i) { if (t.call(this, i), !(this.$selection.find(".select2-selection__placeholder").length > 0 || 0 === i.length)) { var r = n('<span class="select2-selection__clear">&times;<\/span>'); r.data("data", i); this.$selection.find(".select2-selection__rendered").prepend(r) } }, i }), t.define("select2/selection/search", ["jquery", "../utils", "../keys"], function (n, t, i) { function r(n, t, i) { n.call(this, t, i) } return r.prototype.render = function (t) { var i = n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /><\/li>'), r; return this.$searchContainer = i, this.$search = i.find("input"), r = t.call(this), this._transferTabIndex(), r }, r.prototype.bind = function (n, t, r) { var u = this, f, e; n.call(this, t, r); t.on("open", function () { u.$search.trigger("focus") }); t.on("close", function () { u.$search.val(""); u.$search.removeAttr("aria-activedescendant"); u.$search.trigger("focus") }); t.on("enable", function () { u.$search.prop("disabled", !1); u._transferTabIndex() }); t.on("disable", function () { u.$search.prop("disabled", !0) }); t.on("focus", function () { u.$search.trigger("focus") }); t.on("results:focus", function (n) { u.$search.attr("aria-activedescendant", n.id) }); this.$selection.on("focusin", ".select2-search--inline", function (n) { u.trigger("focus", n) }); this.$selection.on("focusout", ".select2-search--inline", function (n) { u._handleBlur(n) }); this.$selection.on("keydown", ".select2-search--inline", function (n) { var t, r; (n.stopPropagation(), u.trigger("keypress", n), u._keyUpPrevented = n.isDefaultPrevented(), n.which === i.BACKSPACE && "" === u.$search.val()) && (t = u.$searchContainer.prev(".select2-selection__choice"), t.length > 0 && (r = t.data("data"), u.searchRemoveChoice(r), n.preventDefault())) }); f = document.documentMode; e = f && f <= 11; this.$selection.on("input.searchcheck", ".select2-search--inline", function () { if (e) return void u.$selection.off("input.search input.searchcheck"); u.$selection.off("keyup.search") }); this.$selection.on("keyup.search input.search", ".select2-search--inline", function (n) { if (e && "input" === n.type) return void u.$selection.off("input.search input.searchcheck"); var t = n.which; t != i.SHIFT && t != i.CTRL && t != i.ALT && t != i.TAB && u.handleSearch(n) }) }, r.prototype._transferTabIndex = function () { this.$search.attr("tabindex", this.$selection.attr("tabindex")); this.$selection.attr("tabindex", "-1") }, r.prototype.createPlaceholder = function (n, t) { this.$search.attr("placeholder", t.text) }, r.prototype.update = function (n, t) { var i = this.$search[0] == document.activeElement; this.$search.attr("placeholder", ""); n.call(this, t); this.$selection.find(".select2-selection__rendered").append(this.$searchContainer); this.resizeSearch(); i && this.$search.focus() }, r.prototype.handleSearch = function () { if (this.resizeSearch(), !this._keyUpPrevented) { var n = this.$search.val(); this.trigger("query", { term: n }) } this._keyUpPrevented = !1 }, r.prototype.searchRemoveChoice = function (n, t) { this.trigger("unselect", { data: t }); this.$search.val(t.text); this.handleSearch() }, r.prototype.resizeSearch = function () { this.$search.css("width", "25px"); var n = ""; n = "" !== this.$search.attr("placeholder") ? this.$selection.find(".select2-selection__rendered").innerWidth() : .75 * (this.$search.val().length + 1) + "em"; this.$search.css("width", n) }, r }), t.define("select2/selection/eventRelay", ["jquery"], function (n) { function t() { } return t.prototype.bind = function (t, i, r) { var u = this, f = ["open", "opening", "close", "closing", "select", "selecting", "unselect", "unselecting"], e = ["opening", "closing", "selecting", "unselecting"]; t.call(this, i, r); i.on("*", function (t, i) { if (-1 !== n.inArray(t, f)) { i = i || {}; var r = n.Event("select2:" + t, { params: i }); u.$element.trigger(r); -1 !== n.inArray(t, e) && (i.prevented = r.isDefaultPrevented()) } }) }, t }), t.define("select2/translation", ["jquery", "require"], function (n, t) { function i(n) { this.dict = n || {} } return i.prototype.all = function () { return this.dict }, i.prototype.get = function (n) { return this.dict[n] }, i.prototype.extend = function (t) { this.dict = n.extend({}, t.all(), this.dict) }, i._cache = {}, i.loadPath = function (n) { if (!(n in i._cache)) { var r = t(n); i._cache[n] = r } return new i(i._cache[n]) }, i }), t.define("select2/diacritics", [], function () { return { "Ⓐ": "A", "Ａ": "A", "À": "A", "Á": "A", "Â": "A", "Ầ": "A", "Ấ": "A", "Ẫ": "A", "Ẩ": "A", "Ã": "A", "Ā": "A", "Ă": "A", "Ằ": "A", "Ắ": "A", "Ẵ": "A", "Ẳ": "A", "Ȧ": "A", "Ǡ": "A", "Ä": "A", "Ǟ": "A", "Ả": "A", "Å": "A", "Ǻ": "A", "Ǎ": "A", "Ȁ": "A", "Ȃ": "A", "Ạ": "A", "Ậ": "A", "Ặ": "A", "Ḁ": "A", "Ą": "A", "Ⱥ": "A", "Ɐ": "A", "Ꜳ": "AA", "Æ": "AE", "Ǽ": "AE", "Ǣ": "AE", "Ꜵ": "AO", "Ꜷ": "AU", "Ꜹ": "AV", "Ꜻ": "AV", "Ꜽ": "AY", "Ⓑ": "B", "Ｂ": "B", "Ḃ": "B", "Ḅ": "B", "Ḇ": "B", "Ƀ": "B", "Ƃ": "B", "Ɓ": "B", "Ⓒ": "C", "Ｃ": "C", "Ć": "C", "Ĉ": "C", "Ċ": "C", "Č": "C", "Ç": "C", "Ḉ": "C", "Ƈ": "C", "Ȼ": "C", "Ꜿ": "C", "Ⓓ": "D", "Ｄ": "D", "Ḋ": "D", "Ď": "D", "Ḍ": "D", "Ḑ": "D", "Ḓ": "D", "Ḏ": "D", "Đ": "D", "Ƌ": "D", "Ɗ": "D", "Ɖ": "D", "Ꝺ": "D", "Ǳ": "DZ", "Ǆ": "DZ", "ǲ": "Dz", "ǅ": "Dz", "Ⓔ": "E", "Ｅ": "E", "È": "E", "É": "E", "Ê": "E", "Ề": "E", "Ế": "E", "Ễ": "E", "Ể": "E", "Ẽ": "E", "Ē": "E", "Ḕ": "E", "Ḗ": "E", "Ĕ": "E", "Ė": "E", "Ë": "E", "Ẻ": "E", "Ě": "E", "Ȅ": "E", "Ȇ": "E", "Ẹ": "E", "Ệ": "E", "Ȩ": "E", "Ḝ": "E", "Ę": "E", "Ḙ": "E", "Ḛ": "E", "Ɛ": "E", "Ǝ": "E", "Ⓕ": "F", "Ｆ": "F", "Ḟ": "F", "Ƒ": "F", "Ꝼ": "F", "Ⓖ": "G", "Ｇ": "G", "Ǵ": "G", "Ĝ": "G", "Ḡ": "G", "Ğ": "G", "Ġ": "G", "Ǧ": "G", "Ģ": "G", "Ǥ": "G", "Ɠ": "G", "Ꞡ": "G", "Ᵹ": "G", "Ꝿ": "G", "Ⓗ": "H", "Ｈ": "H", "Ĥ": "H", "Ḣ": "H", "Ḧ": "H", "Ȟ": "H", "Ḥ": "H", "Ḩ": "H", "Ḫ": "H", "Ħ": "H", "Ⱨ": "H", "Ⱶ": "H", "Ɥ": "H", "Ⓘ": "I", "Ｉ": "I", "Ì": "I", "Í": "I", "Î": "I", "Ĩ": "I", "Ī": "I", "Ĭ": "I", "İ": "I", "Ï": "I", "Ḯ": "I", "Ỉ": "I", "Ǐ": "I", "Ȉ": "I", "Ȋ": "I", "Ị": "I", "Į": "I", "Ḭ": "I", "Ɨ": "I", "Ⓙ": "J", "Ｊ": "J", "Ĵ": "J", "Ɉ": "J", "Ⓚ": "K", "Ｋ": "K", "Ḱ": "K", "Ǩ": "K", "Ḳ": "K", "Ķ": "K", "Ḵ": "K", "Ƙ": "K", "Ⱪ": "K", "Ꝁ": "K", "Ꝃ": "K", "Ꝅ": "K", "Ꞣ": "K", "Ⓛ": "L", "Ｌ": "L", "Ŀ": "L", "Ĺ": "L", "Ľ": "L", "Ḷ": "L", "Ḹ": "L", "Ļ": "L", "Ḽ": "L", "Ḻ": "L", "Ł": "L", "Ƚ": "L", "Ɫ": "L", "Ⱡ": "L", "Ꝉ": "L", "Ꝇ": "L", "Ꞁ": "L", "Ǉ": "LJ", "ǈ": "Lj", "Ⓜ": "M", "Ｍ": "M", "Ḿ": "M", "Ṁ": "M", "Ṃ": "M", "Ɱ": "M", "Ɯ": "M", "Ⓝ": "N", "Ｎ": "N", "Ǹ": "N", "Ń": "N", "Ñ": "N", "Ṅ": "N", "Ň": "N", "Ṇ": "N", "Ņ": "N", "Ṋ": "N", "Ṉ": "N", "Ƞ": "N", "Ɲ": "N", "Ꞑ": "N", "Ꞥ": "N", "Ǌ": "NJ", "ǋ": "Nj", "Ⓞ": "O", "Ｏ": "O", "Ò": "O", "Ó": "O", "Ô": "O", "Ồ": "O", "Ố": "O", "Ỗ": "O", "Ổ": "O", "Õ": "O", "Ṍ": "O", "Ȭ": "O", "Ṏ": "O", "Ō": "O", "Ṑ": "O", "Ṓ": "O", "Ŏ": "O", "Ȯ": "O", "Ȱ": "O", "Ö": "O", "Ȫ": "O", "Ỏ": "O", "Ő": "O", "Ǒ": "O", "Ȍ": "O", "Ȏ": "O", "Ơ": "O", "Ờ": "O", "Ớ": "O", "Ỡ": "O", "Ở": "O", "Ợ": "O", "Ọ": "O", "Ộ": "O", "Ǫ": "O", "Ǭ": "O", "Ø": "O", "Ǿ": "O", "Ɔ": "O", "Ɵ": "O", "Ꝋ": "O", "Ꝍ": "O", "Ƣ": "OI", "Ꝏ": "OO", "Ȣ": "OU", "Ⓟ": "P", "Ｐ": "P", "Ṕ": "P", "Ṗ": "P", "Ƥ": "P", "Ᵽ": "P", "Ꝑ": "P", "Ꝓ": "P", "Ꝕ": "P", "Ⓠ": "Q", "Ｑ": "Q", "Ꝗ": "Q", "Ꝙ": "Q", "Ɋ": "Q", "Ⓡ": "R", "Ｒ": "R", "Ŕ": "R", "Ṙ": "R", "Ř": "R", "Ȑ": "R", "Ȓ": "R", "Ṛ": "R", "Ṝ": "R", "Ŗ": "R", "Ṟ": "R", "Ɍ": "R", "Ɽ": "R", "Ꝛ": "R", "Ꞧ": "R", "Ꞃ": "R", "Ⓢ": "S", "Ｓ": "S", "ẞ": "S", "Ś": "S", "Ṥ": "S", "Ŝ": "S", "Ṡ": "S", "Š": "S", "Ṧ": "S", "Ṣ": "S", "Ṩ": "S", "Ș": "S", "Ş": "S", "Ȿ": "S", "Ꞩ": "S", "Ꞅ": "S", "Ⓣ": "T", "Ｔ": "T", "Ṫ": "T", "Ť": "T", "Ṭ": "T", "Ț": "T", "Ţ": "T", "Ṱ": "T", "Ṯ": "T", "Ŧ": "T", "Ƭ": "T", "Ʈ": "T", "Ⱦ": "T", "Ꞇ": "T", "Ꜩ": "TZ", "Ⓤ": "U", "Ｕ": "U", "Ù": "U", "Ú": "U", "Û": "U", "Ũ": "U", "Ṹ": "U", "Ū": "U", "Ṻ": "U", "Ŭ": "U", "Ü": "U", "Ǜ": "U", "Ǘ": "U", "Ǖ": "U", "Ǚ": "U", "Ủ": "U", "Ů": "U", "Ű": "U", "Ǔ": "U", "Ȕ": "U", "Ȗ": "U", "Ư": "U", "Ừ": "U", "Ứ": "U", "Ữ": "U", "Ử": "U", "Ự": "U", "Ụ": "U", "Ṳ": "U", "Ų": "U", "Ṷ": "U", "Ṵ": "U", "Ʉ": "U", "Ⓥ": "V", "Ｖ": "V", "Ṽ": "V", "Ṿ": "V", "Ʋ": "V", "Ꝟ": "V", "Ʌ": "V", "Ꝡ": "VY", "Ⓦ": "W", "Ｗ": "W", "Ẁ": "W", "Ẃ": "W", "Ŵ": "W", "Ẇ": "W", "Ẅ": "W", "Ẉ": "W", "Ⱳ": "W", "Ⓧ": "X", "Ｘ": "X", "Ẋ": "X", "Ẍ": "X", "Ⓨ": "Y", "Ｙ": "Y", "Ỳ": "Y", "Ý": "Y", "Ŷ": "Y", "Ỹ": "Y", "Ȳ": "Y", "Ẏ": "Y", "Ÿ": "Y", "Ỷ": "Y", "Ỵ": "Y", "Ƴ": "Y", "Ɏ": "Y", "Ỿ": "Y", "Ⓩ": "Z", "Ｚ": "Z", "Ź": "Z", "Ẑ": "Z", "Ż": "Z", "Ž": "Z", "Ẓ": "Z", "Ẕ": "Z", "Ƶ": "Z", "Ȥ": "Z", "Ɀ": "Z", "Ⱬ": "Z", "Ꝣ": "Z", "ⓐ": "a", "ａ": "a", "ẚ": "a", "à": "a", "á": "a", "â": "a", "ầ": "a", "ấ": "a", "ẫ": "a", "ẩ": "a", "ã": "a", "ā": "a", "ă": "a", "ằ": "a", "ắ": "a", "ẵ": "a", "ẳ": "a", "ȧ": "a", "ǡ": "a", "ä": "a", "ǟ": "a", "ả": "a", "å": "a", "ǻ": "a", "ǎ": "a", "ȁ": "a", "ȃ": "a", "ạ": "a", "ậ": "a", "ặ": "a", "ḁ": "a", "ą": "a", "ⱥ": "a", "ɐ": "a", "ꜳ": "aa", "æ": "ae", "ǽ": "ae", "ǣ": "ae", "ꜵ": "ao", "ꜷ": "au", "ꜹ": "av", "ꜻ": "av", "ꜽ": "ay", "ⓑ": "b", "ｂ": "b", "ḃ": "b", "ḅ": "b", "ḇ": "b", "ƀ": "b", "ƃ": "b", "ɓ": "b", "ⓒ": "c", "ｃ": "c", "ć": "c", "ĉ": "c", "ċ": "c", "č": "c", "ç": "c", "ḉ": "c", "ƈ": "c", "ȼ": "c", "ꜿ": "c", "ↄ": "c", "ⓓ": "d", "ｄ": "d", "ḋ": "d", "ď": "d", "ḍ": "d", "ḑ": "d", "ḓ": "d", "ḏ": "d", "đ": "d", "ƌ": "d", "ɖ": "d", "ɗ": "d", "ꝺ": "d", "ǳ": "dz", "ǆ": "dz", "ⓔ": "e", "ｅ": "e", "è": "e", "é": "e", "ê": "e", "ề": "e", "ế": "e", "ễ": "e", "ể": "e", "ẽ": "e", "ē": "e", "ḕ": "e", "ḗ": "e", "ĕ": "e", "ė": "e", "ë": "e", "ẻ": "e", "ě": "e", "ȅ": "e", "ȇ": "e", "ẹ": "e", "ệ": "e", "ȩ": "e", "ḝ": "e", "ę": "e", "ḙ": "e", "ḛ": "e", "ɇ": "e", "ɛ": "e", "ǝ": "e", "ⓕ": "f", "ｆ": "f", "ḟ": "f", "ƒ": "f", "ꝼ": "f", "ⓖ": "g", "ｇ": "g", "ǵ": "g", "ĝ": "g", "ḡ": "g", "ğ": "g", "ġ": "g", "ǧ": "g", "ģ": "g", "ǥ": "g", "ɠ": "g", "ꞡ": "g", "ᵹ": "g", "ꝿ": "g", "ⓗ": "h", "ｈ": "h", "ĥ": "h", "ḣ": "h", "ḧ": "h", "ȟ": "h", "ḥ": "h", "ḩ": "h", "ḫ": "h", "ẖ": "h", "ħ": "h", "ⱨ": "h", "ⱶ": "h", "ɥ": "h", "ƕ": "hv", "ⓘ": "i", "ｉ": "i", "ì": "i", "í": "i", "î": "i", "ĩ": "i", "ī": "i", "ĭ": "i", "ï": "i", "ḯ": "i", "ỉ": "i", "ǐ": "i", "ȉ": "i", "ȋ": "i", "ị": "i", "į": "i", "ḭ": "i", "ɨ": "i", "ı": "i", "ⓙ": "j", "ｊ": "j", "ĵ": "j", "ǰ": "j", "ɉ": "j", "ⓚ": "k", "ｋ": "k", "ḱ": "k", "ǩ": "k", "ḳ": "k", "ķ": "k", "ḵ": "k", "ƙ": "k", "ⱪ": "k", "ꝁ": "k", "ꝃ": "k", "ꝅ": "k", "ꞣ": "k", "ⓛ": "l", "ｌ": "l", "ŀ": "l", "ĺ": "l", "ľ": "l", "ḷ": "l", "ḹ": "l", "ļ": "l", "ḽ": "l", "ḻ": "l", "ſ": "l", "ł": "l", "ƚ": "l", "ɫ": "l", "ⱡ": "l", "ꝉ": "l", "ꞁ": "l", "ꝇ": "l", "ǉ": "lj", "ⓜ": "m", "ｍ": "m", "ḿ": "m", "ṁ": "m", "ṃ": "m", "ɱ": "m", "ɯ": "m", "ⓝ": "n", "ｎ": "n", "ǹ": "n", "ń": "n", "ñ": "n", "ṅ": "n", "ň": "n", "ṇ": "n", "ņ": "n", "ṋ": "n", "ṉ": "n", "ƞ": "n", "ɲ": "n", "ŉ": "n", "ꞑ": "n", "ꞥ": "n", "ǌ": "nj", "ⓞ": "o", "ｏ": "o", "ò": "o", "ó": "o", "ô": "o", "ồ": "o", "ố": "o", "ỗ": "o", "ổ": "o", "õ": "o", "ṍ": "o", "ȭ": "o", "ṏ": "o", "ō": "o", "ṑ": "o", "ṓ": "o", "ŏ": "o", "ȯ": "o", "ȱ": "o", "ö": "o", "ȫ": "o", "ỏ": "o", "ő": "o", "ǒ": "o", "ȍ": "o", "ȏ": "o", "ơ": "o", "ờ": "o", "ớ": "o", "ỡ": "o", "ở": "o", "ợ": "o", "ọ": "o", "ộ": "o", "ǫ": "o", "ǭ": "o", "ø": "o", "ǿ": "o", "ɔ": "o", "ꝋ": "o", "ꝍ": "o", "ɵ": "o", "ƣ": "oi", "ȣ": "ou", "ꝏ": "oo", "ⓟ": "p", "ｐ": "p", "ṕ": "p", "ṗ": "p", "ƥ": "p", "ᵽ": "p", "ꝑ": "p", "ꝓ": "p", "ꝕ": "p", "ⓠ": "q", "ｑ": "q", "ɋ": "q", "ꝗ": "q", "ꝙ": "q", "ⓡ": "r", "ｒ": "r", "ŕ": "r", "ṙ": "r", "ř": "r", "ȑ": "r", "ȓ": "r", "ṛ": "r", "ṝ": "r", "ŗ": "r", "ṟ": "r", "ɍ": "r", "ɽ": "r", "ꝛ": "r", "ꞧ": "r", "ꞃ": "r", "ⓢ": "s", "ｓ": "s", "ß": "s", "ś": "s", "ṥ": "s", "ŝ": "s", "ṡ": "s", "š": "s", "ṧ": "s", "ṣ": "s", "ṩ": "s", "ș": "s", "ş": "s", "ȿ": "s", "ꞩ": "s", "ꞅ": "s", "ẛ": "s", "ⓣ": "t", "ｔ": "t", "ṫ": "t", "ẗ": "t", "ť": "t", "ṭ": "t", "ț": "t", "ţ": "t", "ṱ": "t", "ṯ": "t", "ŧ": "t", "ƭ": "t", "ʈ": "t", "ⱦ": "t", "ꞇ": "t", "ꜩ": "tz", "ⓤ": "u", "ｕ": "u", "ù": "u", "ú": "u", "û": "u", "ũ": "u", "ṹ": "u", "ū": "u", "ṻ": "u", "ŭ": "u", "ü": "u", "ǜ": "u", "ǘ": "u", "ǖ": "u", "ǚ": "u", "ủ": "u", "ů": "u", "ű": "u", "ǔ": "u", "ȕ": "u", "ȗ": "u", "ư": "u", "ừ": "u", "ứ": "u", "ữ": "u", "ử": "u", "ự": "u", "ụ": "u", "ṳ": "u", "ų": "u", "ṷ": "u", "ṵ": "u", "ʉ": "u", "ⓥ": "v", "ｖ": "v", "ṽ": "v", "ṿ": "v", "ʋ": "v", "ꝟ": "v", "ʌ": "v", "ꝡ": "vy", "ⓦ": "w", "ｗ": "w", "ẁ": "w", "ẃ": "w", "ŵ": "w", "ẇ": "w", "ẅ": "w", "ẘ": "w", "ẉ": "w", "ⱳ": "w", "ⓧ": "x", "ｘ": "x", "ẋ": "x", "ẍ": "x", "ⓨ": "y", "ｙ": "y", "ỳ": "y", "ý": "y", "ŷ": "y", "ỹ": "y", "ȳ": "y", "ẏ": "y", "ÿ": "y", "ỷ": "y", "ẙ": "y", "ỵ": "y", "ƴ": "y", "ɏ": "y", "ỿ": "y", "ⓩ": "z", "ｚ": "z", "ź": "z", "ẑ": "z", "ż": "z", "ž": "z", "ẓ": "z", "ẕ": "z", "ƶ": "z", "ȥ": "z", "ɀ": "z", "ⱬ": "z", "ꝣ": "z", "Ά": "Α", "Έ": "Ε", "Ή": "Η", "Ί": "Ι", "Ϊ": "Ι", "Ό": "Ο", "Ύ": "Υ", "Ϋ": "Υ", "Ώ": "Ω", "ά": "α", "έ": "ε", "ή": "η", "ί": "ι", "ϊ": "ι", "ΐ": "ι", "ό": "ο", "ύ": "υ", "ϋ": "υ", "ΰ": "υ", "ω": "ω", "ς": "σ" } }), t.define("select2/data/base", ["../utils"], function (n) { function t() { t.__super__.constructor.call(this) } return n.Extend(t, n.Observable), t.prototype.current = function () { throw new Error("The `current` method must be defined in child classes."); }, t.prototype.query = function () { throw new Error("The `query` method must be defined in child classes."); }, t.prototype.bind = function () { }, t.prototype.destroy = function () { }, t.prototype.generateResultId = function (t, i) { var r = t.id + "-result-"; return r += n.generateChars(4), r += null != i.id ? "-" + i.id.toString() : "-" + n.generateChars(4), r }, t }), t.define("select2/data/select", ["./base", "../utils", "jquery"], function (n, t, i) { function r(n, t) { this.$element = n; this.options = t; r.__super__.constructor.call(this) } return t.Extend(r, n), r.prototype.current = function (n) { var t = [], r = this; this.$element.find(":selected").each(function () { var n = i(this), u = r.item(n); t.push(u) }); n(t) }, r.prototype.select = function (n) { var t = this, r; if (n.selected = !0, i(n.element).is("option")) return n.element.selected = !0, void this.$element.trigger("change"); this.$element.prop("multiple") ? this.current(function (r) { var f = [], u, e; for (n = [n], n.push.apply(n, r), u = 0; u < n.length; u++)e = n[u].id, -1 === i.inArray(e, f) && f.push(e); t.$element.val(f); t.$element.trigger("change") }) : (r = n.id, this.$element.val(r), this.$element.trigger("change")) }, r.prototype.unselect = function (n) { var t = this; if (this.$element.prop("multiple")) { if (n.selected = !1, i(n.element).is("option")) return n.element.selected = !1, void this.$element.trigger("change"); this.current(function (r) { for (var e, u = [], f = 0; f < r.length; f++)e = r[f].id, e !== n.id && -1 === i.inArray(e, u) && u.push(e); t.$element.val(u); t.$element.trigger("change") }) } }, r.prototype.bind = function (n) { var t = this; this.container = n; n.on("select", function (n) { t.select(n.data) }); n.on("unselect", function (n) { t.unselect(n.data) }) }, r.prototype.destroy = function () { this.$element.find("*").each(function () { i.removeData(this, "data") }) }, r.prototype.query = function (n, t) { var r = [], u = this; this.$element.children().each(function () { var t = i(this), e, f; (t.is("option") || t.is("optgroup")) && (e = u.item(t), f = u.matches(n, e), null !== f && r.push(f)) }); t({ results: r }) }, r.prototype.addOptions = function (n) { t.appendMany(this.$element, n) }, r.prototype.option = function (n) { var t, u, r; return n.children ? (t = document.createElement("optgroup"), t.label = n.text) : (t = document.createElement("option"), void 0 !== t.textContent ? t.textContent = n.text : t.innerText = n.text), void 0 !== n.id && (t.value = n.id), n.disabled && (t.disabled = !0), n.selected && (t.selected = !0), n.title && (t.title = n.title), u = i(t), r = this._normalizeItem(n), r.element = t, i.data(t, "data", r), u }, r.prototype.item = function (n) { var t = {}, e, o; if (null != (t = i.data(n[0], "data"))) return t; if (n.is("option")) t = { id: n.val(), text: n.text(), disabled: n.prop("disabled"), selected: n.prop("selected"), title: n.prop("title") }; else if (n.is("optgroup")) { t = { text: n.prop("label"), children: [], title: n.prop("title") }; for (var u = n.children("option"), f = [], r = 0; r < u.length; r++)e = i(u[r]), o = this.item(e), f.push(o); t.children = f } return t = this._normalizeItem(t), t.element = n[0], i.data(n[0], "data", t), t }, r.prototype._normalizeItem = function (n) { i.isPlainObject(n) || (n = { id: n, text: n }); n = i.extend({}, { text: "" }, n); return null != n.id && (n.id = n.id.toString()), null != n.text && (n.text = n.text.toString()), null == n._resultId && n.id && null != this.container && (n._resultId = this.generateResultId(this.container, n)), i.extend({}, { selected: !1, disabled: !1 }, n) }, r.prototype.matches = function (n, t) { return this.options.get("matcher")(n, t) }, r }), t.define("select2/data/array", ["./select", "../utils", "jquery"], function (n, t, i) { function r(n, t) { var i = t.get("data") || []; r.__super__.constructor.call(this, n, t); this.addOptions(this.convertToOptions(i)) } return t.Extend(r, n), r.prototype.select = function (n) { var t = this.$element.find("option").filter(function (t, i) { return i.value == n.id.toString() }); 0 === t.length && (t = this.option(n), this.addOptions(t)); r.__super__.select.call(this, n) }, r.prototype.convertToOptions = function (n) { function c(n) { return function () { return i(this).val() == n.id } } for (var r, f, h, l = this, e = this.$element.find("option"), a = e.map(function () { return l.item(i(this)).id }).get(), o = [], u = 0; u < n.length; u++)if (r = this._normalizeItem(n[u]), i.inArray(r.id, a) >= 0) { var s = e.filter(c(r)), v = this.item(s), y = i.extend(!0, {}, r, v), p = this.option(y); s.replaceWith(p) } else f = this.option(r), r.children && (h = this.convertToOptions(r.children), t.appendMany(f, h)), o.push(f); return o }, r }), t.define("select2/data/ajax", ["./array", "../utils", "jquery"], function (n, t, i) { function r(n, t) { this.ajaxOptions = this._applyDefaults(t.get("ajax")); null != this.ajaxOptions.processResults && (this.processResults = this.ajaxOptions.processResults); r.__super__.constructor.call(this, n, t) } return t.Extend(r, n), r.prototype._applyDefaults = function (n) { var t = { data: function (n) { return i.extend({}, n, { q: n.term }) }, transport: function (n, t, r) { var u = i.ajax(n); return u.then(t), u.fail(r), u } }; return i.extend({}, t, n, !0) }, r.prototype.processResults = function (n) { return n }, r.prototype.query = function (n, t) { function f() { var f = r.transport(r, function (r) { var f = u.processResults(r, n); u.options.get("debug") && window.console && console.error && (f && f.results && i.isArray(f.results) || console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")); t(f) }, function () { f.status && "0" === f.status || u.trigger("results:message", { message: "errorLoading" }) }); u._request = f } var u = this, r; null != this._request && (i.isFunction(this._request.abort) && this._request.abort(), this._request = null); r = i.extend({ type: "GET" }, this.ajaxOptions); "function" == typeof r.url && (r.url = r.url.call(this.$element, n)); "function" == typeof r.data && (r.data = r.data.call(this.$element, n)); this.ajaxOptions.delay && null != n.term ? (this._queryTimeout && window.clearTimeout(this._queryTimeout), this._queryTimeout = window.setTimeout(f, this.ajaxOptions.delay)) : f() }, r }), t.define("select2/data/tags", ["jquery"], function (n) { function t(t, i, r) { var f = r.get("tags"), o = r.get("createTag"), e, u; if (void 0 !== o && (this.createTag = o), e = r.get("insertTag"), void 0 !== e && (this.insertTag = e), t.call(this, i, r), n.isArray(f)) for (u = 0; u < f.length; u++) { var s = f[u], h = this._normalizeItem(s), c = this.option(h); this.$element.append(c) } } return t.prototype.query = function (n, t, i) { function u(n, f) { for (var s, l, h, c, e = n.results, o = 0; o < e.length; o++)if (s = e[o], l = null != s.children && !u({ results: s.children }, !0), (s.text || "").toUpperCase() === (t.term || "").toUpperCase() || l) return !f && (n.data = e, void i(n)); if (f) return !0; h = r.createTag(t); null != h && (c = r.option(h), c.attr("data-select2-tag", !0), r.addOptions([c]), r.insertTag(e, h)); n.results = e; i(n) } var r = this; if (this._removeOldTags(), null == t.term || null != t.page) return void n.call(this, t, i); n.call(this, t, u) }, t.prototype.createTag = function (t, i) { var r = n.trim(i.term); return "" === r ? null : { id: r, text: r } }, t.prototype.insertTag = function (n, t, i) { t.unshift(i) }, t.prototype._removeOldTags = function () { this._lastTag; this.$element.find("option[data-select2-tag]").each(function () { this.selected || n(this).remove() }) }, t }), t.define("select2/data/tokenizer", ["jquery"], function (n) { function t(n, t, i) { var r = i.get("tokenizer"); void 0 !== r && (this.tokenizer = r); n.call(this, t, i) } return t.prototype.bind = function (n, t, i) { n.call(this, t, i); this.$search = t.dropdown.$search || t.selection.$search || i.find(".select2-search__field") }, t.prototype.query = function (t, i, r) { function e(t) { var i = u._normalizeItem(t), r; u.$element.find("option").filter(function () { return n(this).val() === i.id }).length || (r = u.option(i), r.attr("data-select2-tag", !0), u._removeOldTags(), u.addOptions([r])); o(i) } function o(n) { u.trigger("select", { data: n }) } var u = this, f; i.term = i.term || ""; f = this.tokenizer(i, this.options, e); f.term !== i.term && (this.$search.length && (this.$search.val(f.term), this.$search.focus()), i.term = f.term); t.call(this, i, r) }, t.prototype.tokenizer = function (t, i, r, u) { for (var o, h = r.get("tokenSeparators") || [], e = i.term, f = 0, c = this.createTag || function (n) { return { id: n.term, text: n.term } }; f < e.length;)if (o = e[f], -1 !== n.inArray(o, h)) { var l = e.substr(0, f), a = n.extend({}, i, { term: l }), s = c(a); null != s ? (u(s), e = e.substr(f + 1) || "", f = 0) : f++ } else f++; return { term: e } }, t }), t.define("select2/data/minimumInputLength", [], function () { function n(n, t, i) { this.minimumInputLength = i.get("minimumInputLength"); n.call(this, t, i) } return n.prototype.query = function (n, t, i) { if (t.term = t.term || "", t.term.length < this.minimumInputLength) return void this.trigger("results:message", { message: "inputTooShort", args: { minimum: this.minimumInputLength, input: t.term, params: t } }); n.call(this, t, i) }, n }), t.define("select2/data/maximumInputLength", [], function () { function n(n, t, i) { this.maximumInputLength = i.get("maximumInputLength"); n.call(this, t, i) } return n.prototype.query = function (n, t, i) { if (t.term = t.term || "", this.maximumInputLength > 0 && t.term.length > this.maximumInputLength) return void this.trigger("results:message", { message: "inputTooLong", args: { maximum: this.maximumInputLength, input: t.term, params: t } }); n.call(this, t, i) }, n }), t.define("select2/data/maximumSelectionLength", [], function () { function n(n, t, i) { this.maximumSelectionLength = i.get("maximumSelectionLength"); n.call(this, t, i) } return n.prototype.query = function (n, t, i) { var r = this; this.current(function (u) { var f = null != u ? u.length : 0; if (r.maximumSelectionLength > 0 && f >= r.maximumSelectionLength) return void r.trigger("results:message", { message: "maximumSelected", args: { maximum: r.maximumSelectionLength } }); n.call(r, t, i) }) }, n }), t.define("select2/dropdown", ["jquery", "./utils"], function (n, t) { function i(n, t) { this.$element = n; this.options = t; i.__super__.constructor.call(this) } return t.Extend(i, t.Observable), i.prototype.render = function () { var t = n('<span class="select2-dropdown"><span class="select2-results"><\/span><\/span>'); return t.attr("dir", this.options.get("dir")), this.$dropdown = t, t }, i.prototype.bind = function () { }, i.prototype.position = function () { }, i.prototype.destroy = function () { this.$dropdown.remove() }, i }), t.define("select2/dropdown/search", ["jquery", "../utils"], function (n) { function t() { } return t.prototype.render = function (t) { var r = t.call(this), i = n('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /><\/span>'); return this.$searchContainer = i, this.$search = i.find("input"), r.prepend(i), r }, t.prototype.bind = function (t, i, r) { var u = this; t.call(this, i, r); this.$search.on("keydown", function (n) { u.trigger("keypress", n); u._keyUpPrevented = n.isDefaultPrevented() }); this.$search.on("input", function () { n(this).off("keyup") }); this.$search.on("keyup input", function (n) { u.handleSearch(n) }); i.on("open", function () { u.$search.attr("tabindex", 0); u.$search.focus(); window.setTimeout(function () { u.$search.focus() }, 0) }); i.on("close", function () { u.$search.attr("tabindex", -1); u.$search.val("") }); i.on("focus", function () { i.isOpen() || u.$search.focus() }); i.on("results:all", function (n) { (null == n.query.term || "" === n.query.term) && (u.showSearch(n) ? u.$searchContainer.removeClass("select2-search--hide") : u.$searchContainer.addClass("select2-search--hide")) }) }, t.prototype.handleSearch = function () { if (!this._keyUpPrevented) { var n = this.$search.val(); this.trigger("query", { term: n }) } this._keyUpPrevented = !1 }, t.prototype.showSearch = function () { return !0 }, t }), t.define("select2/dropdown/hidePlaceholder", [], function () { function n(n, t, i, r) { this.placeholder = this.normalizePlaceholder(i.get("placeholder")); n.call(this, t, i, r) } return n.prototype.append = function (n, t) { t.results = this.removePlaceholder(t.results); n.call(this, t) }, n.prototype.normalizePlaceholder = function (n, t) { return "string" == typeof t && (t = { id: "", text: t }), t }, n.prototype.removePlaceholder = function (n, t) { for (var u, r = t.slice(0), i = t.length - 1; i >= 0; i--)u = t[i], this.placeholder.id === u.id && r.splice(i, 1); return r }, n }), t.define("select2/dropdown/infiniteScroll", ["jquery"], function (n) { function t(n, t, i, r) { this.lastParams = {}; n.call(this, t, i, r); this.$loadingMore = this.createLoadingMore(); this.loading = !1 } return t.prototype.append = function (n, t) { this.$loadingMore.remove(); this.loading = !1; n.call(this, t); this.showLoadingMore(t) && this.$results.append(this.$loadingMore) }, t.prototype.bind = function (t, i, r) { var u = this; t.call(this, i, r); i.on("query", function (n) { u.lastParams = n; u.loading = !0 }); i.on("query:append", function (n) { u.lastParams = n; u.loading = !0 }); this.$results.on("scroll", function () { var t = n.contains(document.documentElement, u.$loadingMore[0]); !u.loading && t && u.$results.offset().top + u.$results.outerHeight(!1) + 50 >= u.$loadingMore.offset().top + u.$loadingMore.outerHeight(!1) && u.loadMore() }) }, t.prototype.loadMore = function () { this.loading = !0; var t = n.extend({}, { page: 1 }, this.lastParams); t.page++; this.trigger("query:append", t) }, t.prototype.showLoadingMore = function (n, t) { return t.pagination && t.pagination.more }, t.prototype.createLoadingMore = function () { var t = n('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"><\/li>'), i = this.options.get("translations").get("loadingMore"); return t.html(i(this.lastParams)), t }, t }), t.define("select2/dropdown/attachBody", ["jquery", "../utils"], function (n, t) { function i(t, i, r) { this.$dropdownParent = r.get("dropdownParent") || n(document.body); t.call(this, i, r) } return i.prototype.bind = function (n, t, i) { var r = this, u = !1; n.call(this, t, i); t.on("open", function () { r._showDropdown(); r._attachPositioningHandler(t); u || (u = !0, t.on("results:all", function () { r._positionDropdown(); r._resizeDropdown() }), t.on("results:append", function () { r._positionDropdown(); r._resizeDropdown() })) }); t.on("close", function () { r._hideDropdown(); r._detachPositioningHandler(t) }); this.$dropdownContainer.on("mousedown", function (n) { n.stopPropagation() }) }, i.prototype.destroy = function (n) { n.call(this); this.$dropdownContainer.remove() }, i.prototype.position = function (n, t, i) { t.attr("class", i.attr("class")); t.removeClass("select2"); t.addClass("select2-container--open"); t.css({ position: "absolute", top: -999999 }); this.$container = i }, i.prototype.render = function (t) { var i = n("<span><\/span>"), r = t.call(this); return i.append(r), this.$dropdownContainer = i, i }, i.prototype._hideDropdown = function () { this.$dropdownContainer.detach() }, i.prototype._attachPositioningHandler = function (i, r) { var u = this, f = "scroll.select2." + r.id, o = "resize.select2." + r.id, s = "orientationchange.select2." + r.id, e = this.$container.parents().filter(t.hasScroll); e.each(function () { n(this).data("select2-scroll-position", { x: n(this).scrollLeft(), y: n(this).scrollTop() }) }); e.on(f, function () { var t = n(this).data("select2-scroll-position"); n(this).scrollTop(t.y) }); n(window).on(f + " " + o + " " + s, function () { u._positionDropdown(); u._resizeDropdown() }) }, i.prototype._detachPositioningHandler = function (i, r) { var u = "scroll.select2." + r.id, f = "resize.select2." + r.id, e = "orientationchange.select2." + r.id; this.$container.parents().filter(t.hasScroll).off(u); n(window).off(u + " " + f + " " + e) }, i.prototype._positionDropdown = function () { var s = n(window), u = this.$dropdown.hasClass("select2-dropdown--above"), v = this.$dropdown.hasClass("select2-dropdown--below"), t = null, i = this.$container.offset(), r, o; i.bottom = i.top + this.$container.outerHeight(!1); r = { height: this.$container.outerHeight(!1) }; r.top = i.top; r.bottom = i.top + r.height; var h = { height: this.$dropdown.outerHeight(!1) }, c = { top: s.scrollTop(), bottom: s.scrollTop() + s.height() }, l = c.top < i.top - h.height, a = c.bottom > i.bottom + h.height, f = { left: i.left, top: r.bottom }, e = this.$dropdownParent; "static" === e.css("position") && (e = e.offsetParent()); o = e.offset(); f.top -= o.top; f.left -= o.left; u || v || (t = "below"); a || !l || u ? !l && a && u && (t = "below") : t = "above"; ("above" == t || u && "below" !== t) && (f.top = r.top - o.top - h.height); null != t && (this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--" + t), this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--" + t)); this.$dropdownContainer.css(f) }, i.prototype._resizeDropdown = function () { var n = { width: this.$container.outerWidth(!1) + "px" }; this.options.get("dropdownAutoWidth") && (n.minWidth = n.width, n.position = "relative", n.width = "auto"); this.$dropdown.css(n) }, i.prototype._showDropdown = function () { this.$dropdownContainer.appendTo(this.$dropdownParent); this._positionDropdown(); this._resizeDropdown() }, i }), t.define("select2/dropdown/minimumResultsForSearch", [], function () { function n(t) { for (var u, i = 0, r = 0; r < t.length; r++)u = t[r], u.children ? i += n(u.children) : i++; return i } function t(n, t, i, r) { this.minimumResultsForSearch = i.get("minimumResultsForSearch"); this.minimumResultsForSearch < 0 && (this.minimumResultsForSearch = 1 / 0); n.call(this, t, i, r) } return t.prototype.showSearch = function (t, i) { return !(n(i.data.results) < this.minimumResultsForSearch) && t.call(this, i) }, t }), t.define("select2/dropdown/selectOnClose", [], function () { function n() { } return n.prototype.bind = function (n, t, i) { var r = this; n.call(this, t, i); t.on("close", function (n) { r._handleSelectOnClose(n) }) }, n.prototype._handleSelectOnClose = function (n, t) { var r, u, i; t && null != t.originalSelect2Event && (r = t.originalSelect2Event, "select" === r._type || "unselect" === r._type) || (u = this.getHighlightedResults(), u.length < 1 || (i = u.data("data"), null != i.element && i.element.selected || null == i.element && i.selected || this.trigger("select", { data: i }))) }, n }), t.define("select2/dropdown/closeOnSelect", [], function () { function n() { } return n.prototype.bind = function (n, t, i) { var r = this; n.call(this, t, i); t.on("select", function (n) { r._selectTriggered(n) }); t.on("unselect", function (n) { r._selectTriggered(n) }) }, n.prototype._selectTriggered = function (n, t) { var i = t.originalEvent; i && i.ctrlKey || this.trigger("close", { originalEvent: i, originalSelect2Event: t }) }, n }), t.define("select2/i18n/en", [], function () { return { errorLoading: function () { return "The results could not be loaded." }, inputTooLong: function (n) { var t = n.input.length - n.maximum, i = "Please delete " + t + " character"; return 1 != t && (i += "s"), i }, inputTooShort: function (n) { return "Please enter " + (n.minimum - n.input.length) + " or more characters" }, loadingMore: function () { return "Loading more results…" }, maximumSelected: function (n) { var t = "You can only select " + n.maximum + " item"; return 1 != n.maximum && (t += "s"), t }, noResults: function () { return "No results found" }, searching: function () { return "Searching…" } } }), t.define("select2/defaults", ["jquery", "require", "./results", "./selection/single", "./selection/multiple", "./selection/placeholder", "./selection/allowClear", "./selection/search", "./selection/eventRelay", "./utils", "./translation", "./diacritics", "./data/select", "./data/array", "./data/ajax", "./data/tags", "./data/tokenizer", "./data/minimumInputLength", "./data/maximumInputLength", "./data/maximumSelectionLength", "./dropdown", "./dropdown/search", "./dropdown/hidePlaceholder", "./dropdown/infiniteScroll", "./dropdown/attachBody", "./dropdown/minimumResultsForSearch", "./dropdown/selectOnClose", "./dropdown/closeOnSelect", "./i18n/en"], function (n, t, i, r, u, f, e, o, s, h, c, l, a, v, y, p, w, b, k, d, g, nt, tt, it, rt, ut, ft, et, ot) { function st() { this.reset() } return st.prototype.apply = function (l) { var vt, yt, pt, wt, bt, kt, dt, ct, lt, st, ot, ht, gt, at; if ((l = n.extend(!0, {}, this.defaults, l), null == l.dataAdapter) && ((l.dataAdapter = null != l.ajax ? y : null != l.data ? v : a, l.minimumInputLength > 0 && (l.dataAdapter = h.Decorate(l.dataAdapter, b)), l.maximumInputLength > 0 && (l.dataAdapter = h.Decorate(l.dataAdapter, k)), l.maximumSelectionLength > 0 && (l.dataAdapter = h.Decorate(l.dataAdapter, d)), l.tags && (l.dataAdapter = h.Decorate(l.dataAdapter, p)), null == l.tokenSeparators && null == l.tokenizer || (l.dataAdapter = h.Decorate(l.dataAdapter, w)), null != l.query) && (vt = t(l.amdBase + "compat/query"), l.dataAdapter = h.Decorate(l.dataAdapter, vt)), null != l.initSelection && (yt = t(l.amdBase + "compat/initSelection"), l.dataAdapter = h.Decorate(l.dataAdapter, yt))), (null == l.resultsAdapter && (l.resultsAdapter = i, null != l.ajax && (l.resultsAdapter = h.Decorate(l.resultsAdapter, it)), null != l.placeholder && (l.resultsAdapter = h.Decorate(l.resultsAdapter, tt)), l.selectOnClose && (l.resultsAdapter = h.Decorate(l.resultsAdapter, ft))), null == l.dropdownAdapter) && (l.multiple ? l.dropdownAdapter = g : (pt = h.Decorate(g, nt), l.dropdownAdapter = pt), (0 !== l.minimumResultsForSearch && (l.dropdownAdapter = h.Decorate(l.dropdownAdapter, ut)), l.closeOnSelect && (l.dropdownAdapter = h.Decorate(l.dropdownAdapter, et)), null != l.dropdownCssClass || null != l.dropdownCss || null != l.adaptDropdownCssClass) && (wt = t(l.amdBase + "compat/dropdownCss"), l.dropdownAdapter = h.Decorate(l.dropdownAdapter, wt)), l.dropdownAdapter = h.Decorate(l.dropdownAdapter, rt)), null == l.selectionAdapter && ((l.selectionAdapter = l.multiple ? u : r, null != l.placeholder && (l.selectionAdapter = h.Decorate(l.selectionAdapter, f)), l.allowClear && (l.selectionAdapter = h.Decorate(l.selectionAdapter, e)), l.multiple && (l.selectionAdapter = h.Decorate(l.selectionAdapter, o)), null != l.containerCssClass || null != l.containerCss || null != l.adaptContainerCssClass) && (bt = t(l.amdBase + "compat/containerCss"), l.selectionAdapter = h.Decorate(l.selectionAdapter, bt)), l.selectionAdapter = h.Decorate(l.selectionAdapter, s)), "string" == typeof l.language && (l.language.indexOf("-") > 0 ? (kt = l.language.split("-"), dt = kt[0], l.language = [l.language, dt]) : l.language = [l.language]), n.isArray(l.language)) { for (ct = new c, l.language.push("en"), lt = l.language, st = 0; st < lt.length; st++) { ot = lt[st]; ht = {}; try { ht = c.loadPath(ot) } catch (n) { try { ot = this.defaults.amdLanguageBase + ot; ht = c.loadPath(ot) } catch (n) { l.debug && window.console && console.warn && console.warn('Select2: The language file for "' + ot + '" could not be automatically loaded. A fallback will be used instead.'); continue } } ct.extend(ht) } l.translations = ct } else gt = c.loadPath(this.defaults.amdLanguageBase + "en"), at = new c(l.language), at.extend(gt), l.translations = at; return l }, st.prototype.reset = function () { function i(n) { function t(n) { return l[n] || n } return n.replace(/[^\u0000-\u007E]/g, t) } function t(r, u) { var f, e, o, s; if ("" === n.trim(r.term)) return u; if (u.children && u.children.length > 0) { for (f = n.extend(!0, {}, u), e = u.children.length - 1; e >= 0; e--)null == t(r, u.children[e]) && f.children.splice(e, 1); return f.children.length > 0 ? f : t(r, f) } return o = i(u.text).toUpperCase(), s = i(r.term).toUpperCase(), o.indexOf(s) > -1 ? u : null } this.defaults = { amdBase: "./", amdLanguageBase: "./i18n/", closeOnSelect: !0, debug: !1, dropdownAutoWidth: !1, escapeMarkup: h.escapeMarkup, language: ot, matcher: t, minimumInputLength: 0, maximumInputLength: 0, maximumSelectionLength: 0, minimumResultsForSearch: 0, selectOnClose: !1, sorter: function (n) { return n }, templateResult: function (n) { return n.text }, templateSelection: function (n) { return n.text }, theme: "default", width: "resolve" } }, st.prototype.set = function (t, i) { var f = n.camelCase(t), r = {}, u; r[f] = i; u = h._convertData(r); n.extend(this.defaults, u) }, new st }), t.define("select2/options", ["require", "jquery", "./defaults", "./utils"], function (n, t, i, r) { function u(t, u) { if (this.options = t, null != u && this.fromElement(u), this.options = i.apply(this.options), u && u.is("input")) { var f = n(this.get("amdBase") + "compat/inputData"); this.options.dataAdapter = r.Decorate(this.options.dataAdapter, f) } } return u.prototype.fromElement = function (n) { var e = ["select2"], f, u, i; null == this.options.multiple && (this.options.multiple = n.prop("multiple")); null == this.options.disabled && (this.options.disabled = n.prop("disabled")); null == this.options.language && (n.prop("lang") ? this.options.language = n.prop("lang").toLowerCase() : n.closest("[lang]").prop("lang") && (this.options.language = n.closest("[lang]").prop("lang"))); null == this.options.dir && (this.options.dir = n.prop("dir") ? n.prop("dir") : n.closest("[dir]").prop("dir") ? n.closest("[dir]").prop("dir") : "ltr"); n.prop("disabled", this.options.disabled); n.prop("multiple", this.options.multiple); n.data("select2Tags") && (this.options.debug && window.console && console.warn && console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'), n.data("data", n.data("select2Tags")), n.data("tags", !0)); n.data("ajaxUrl") && (this.options.debug && window.console && console.warn && console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."), n.attr("ajax--url", n.data("ajaxUrl")), n.data("ajax--url", n.data("ajaxUrl"))); f = {}; f = t.fn.jquery && "1." == t.fn.jquery.substr(0, 2) && n[0].dataset ? t.extend(!0, {}, n[0].dataset, n.data()) : n.data(); u = t.extend(!0, {}, f); u = r._convertData(u); for (i in u) t.inArray(i, e) > -1 || (t.isPlainObject(this.options[i]) ? t.extend(this.options[i], u[i]) : this.options[i] = u[i]); return this }, u.prototype.get = function (n) { return this.options[n] }, u.prototype.set = function (n, t) { this.options[n] = t }, u }), t.define("select2/core", ["jquery", "./options", "./utils", "./keys"], function (n, t, i, r) { var u = function (n, i) { var f, e, r, o, s, h, c; null != n.data("select2") && n.data("select2").destroy(); this.$element = n; this.id = this._generateId(n); i = i || {}; this.options = new t(i, n); u.__super__.constructor.call(this); f = n.attr("tabindex") || 0; n.data("old-tabindex", f); n.attr("tabindex", "-1"); e = this.options.get("dataAdapter"); this.dataAdapter = new e(n, this.options); r = this.render(); this._placeContainer(r); o = this.options.get("selectionAdapter"); this.selection = new o(n, this.options); this.$selection = this.selection.render(); this.selection.position(this.$selection, r); s = this.options.get("dropdownAdapter"); this.dropdown = new s(n, this.options); this.$dropdown = this.dropdown.render(); this.dropdown.position(this.$dropdown, r); h = this.options.get("resultsAdapter"); this.results = new h(n, this.options, this.dataAdapter); this.$results = this.results.render(); this.results.position(this.$results, this.$dropdown); c = this; this._bindAdapters(); this._registerDomEvents(); this._registerDataEvents(); this._registerSelectionEvents(); this._registerDropdownEvents(); this._registerResultsEvents(); this._registerEvents(); this.dataAdapter.current(function (n) { c.trigger("selection:update", { data: n }) }); n.addClass("select2-hidden-accessible"); n.attr("aria-hidden", "true"); this._syncAttributes(); n.data("select2", this) }; return i.Extend(u, i.Observable), u.prototype._generateId = function (n) { var t = ""; return t = null != n.attr("id") ? n.attr("id") : null != n.attr("name") ? n.attr("name") + "-" + i.generateChars(2) : i.generateChars(4), t = t.replace(/(:|\.|\[|\]|,)/g, ""), t = "select2-" + t }, u.prototype._placeContainer = function (n) { n.insertAfter(this.$element); var t = this._resolveWidth(this.$element, this.options.get("width")); null != t && n.css("width", t) }, u.prototype._resolveWidth = function (n, t) { var r, u, f, s, i; if ("resolve" == t) return r = this._resolveWidth(n, "style"), null != r ? r : this._resolveWidth(n, "element"); if ("element" == t) return u = n.outerWidth(!1), u <= 0 ? "auto" : u + "px"; if ("style" == t) { if (f = n.attr("style"), "string" != typeof f) return null; for (var o = f.split(";"), e = 0, h = o.length; e < h; e += 1)if (s = o[e].replace(/\s/g, ""), i = s.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i), null !== i && i.length >= 1) return i[1]; return null } return t }, u.prototype._bindAdapters = function () { this.dataAdapter.bind(this, this.$container); this.selection.bind(this, this.$container); this.dropdown.bind(this, this.$container); this.results.bind(this, this.$container) }, u.prototype._registerDomEvents = function () { var t = this, r; this.$element.on("change.select2", function () { t.dataAdapter.current(function (n) { t.trigger("selection:update", { data: n }) }) }); this.$element.on("focus.select2", function (n) { t.trigger("focus", n) }); this._syncA = i.bind(this._syncAttributes, this); this._syncS = i.bind(this._syncSubtree, this); this.$element[0].attachEvent && this.$element[0].attachEvent("onpropertychange", this._syncA); r = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver; null != r ? (this._observer = new r(function (i) { n.each(i, t._syncA); n.each(i, t._syncS) }), this._observer.observe(this.$element[0], { attributes: !0, childList: !0, subtree: !1 })) : this.$element[0].addEventListener && (this.$element[0].addEventListener("DOMAttrModified", t._syncA, !1), this.$element[0].addEventListener("DOMNodeInserted", t._syncS, !1), this.$element[0].addEventListener("DOMNodeRemoved", t._syncS, !1)) }, u.prototype._registerDataEvents = function () { var n = this; this.dataAdapter.on("*", function (t, i) { n.trigger(t, i) }) }, u.prototype._registerSelectionEvents = function () { var t = this, i = ["toggle", "focus"]; this.selection.on("toggle", function () { t.toggleDropdown() }); this.selection.on("focus", function (n) { t.focus(n) }); this.selection.on("*", function (r, u) { -1 === n.inArray(r, i) && t.trigger(r, u) }) }, u.prototype._registerDropdownEvents = function () { var n = this; this.dropdown.on("*", function (t, i) { n.trigger(t, i) }) }, u.prototype._registerResultsEvents = function () { var n = this; this.results.on("*", function (t, i) { n.trigger(t, i) }) }, u.prototype._registerEvents = function () { var n = this; this.on("open", function () { n.$container.addClass("select2-container--open") }); this.on("close", function () { n.$container.removeClass("select2-container--open") }); this.on("enable", function () { n.$container.removeClass("select2-container--disabled") }); this.on("disable", function () { n.$container.addClass("select2-container--disabled") }); this.on("blur", function () { n.$container.removeClass("select2-container--focus") }); this.on("query", function (t) { n.isOpen() || n.trigger("open", {}); this.dataAdapter.query(t, function (i) { n.trigger("results:all", { data: i, query: t }) }) }); this.on("query:append", function (t) { this.dataAdapter.query(t, function (i) { n.trigger("results:append", { data: i, query: t }) }) }); this.on("keypress", function (t) { var i = t.which; n.isOpen() ? i === r.ESC || i === r.TAB || i === r.UP && t.altKey ? (n.close(), t.preventDefault()) : i === r.ENTER ? (n.trigger("results:select", {}), t.preventDefault()) : i === r.SPACE && t.ctrlKey ? (n.trigger("results:toggle", {}), t.preventDefault()) : i === r.UP ? (n.trigger("results:previous", {}), t.preventDefault()) : i === r.DOWN && (n.trigger("results:next", {}), t.preventDefault()) : (i === r.ENTER || i === r.SPACE || i === r.DOWN && t.altKey) && (n.open(), t.preventDefault()) }) }, u.prototype._syncAttributes = function () { this.options.set("disabled", this.$element.prop("disabled")); this.options.get("disabled") ? (this.isOpen() && this.close(), this.trigger("disable", {})) : this.trigger("enable", {}) }, u.prototype._syncSubtree = function (n, t) { var i = !1, f = this, r, u; if (!n || !n.target || "OPTION" === n.target.nodeName || "OPTGROUP" === n.target.nodeName) { if (t) if (t.addedNodes && t.addedNodes.length > 0) for (r = 0; r < t.addedNodes.length; r++)u = t.addedNodes[r], u.selected && (i = !0); else t.removedNodes && t.removedNodes.length > 0 && (i = !0); else i = !0; i && this.dataAdapter.current(function (n) { f.trigger("selection:update", { data: n }) }) } }, u.prototype.trigger = function (n, t) { var r = u.__super__.trigger, f = { open: "opening", close: "closing", select: "selecting", unselect: "unselecting" }, e, i; if ((void 0 === t && (t = {}), n in f) && (e = f[n], i = { prevented: !1, name: n, args: t }, r.call(this, e, i), i.prevented)) return void (t.prevented = !0); r.call(this, n, t) }, u.prototype.toggleDropdown = function () { this.options.get("disabled") || (this.isOpen() ? this.close() : this.open()) }, u.prototype.open = function () { this.isOpen() || this.trigger("query", {}) }, u.prototype.close = function () { this.isOpen() && this.trigger("close", {}) }, u.prototype.isOpen = function () { return this.$container.hasClass("select2-container--open") }, u.prototype.hasFocus = function () { return this.$container.hasClass("select2-container--focus") }, u.prototype.focus = function () { this.hasFocus() || (this.$container.addClass("select2-container--focus"), this.trigger("focus", {})) }, u.prototype.enable = function (n) { this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'); null != n && 0 !== n.length || (n = [!0]); var t = !n[0]; this.$element.prop("disabled", t) }, u.prototype.data = function () { this.options.get("debug") && arguments.length > 0 && window.console && console.warn && console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.'); var n = []; return this.dataAdapter.current(function (t) { n = t }), n }, u.prototype.val = function (t) { if (this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'), null == t || 0 === t.length) return this.$element.val(); var i = t[0]; n.isArray(i) && (i = n.map(i, function (n) { return n.toString() })); this.$element.val(i).trigger("change") }, u.prototype.destroy = function () { this.$container.remove(); this.$element[0].detachEvent && this.$element[0].detachEvent("onpropertychange", this._syncA); null != this._observer ? (this._observer.disconnect(), this._observer = null) : this.$element[0].removeEventListener && (this.$element[0].removeEventListener("DOMAttrModified", this._syncA, !1), this.$element[0].removeEventListener("DOMNodeInserted", this._syncS, !1), this.$element[0].removeEventListener("DOMNodeRemoved", this._syncS, !1)); this._syncA = null; this._syncS = null; this.$element.off(".select2"); this.$element.attr("tabindex", this.$element.data("old-tabindex")); this.$element.removeClass("select2-hidden-accessible"); this.$element.attr("aria-hidden", "false"); this.$element.removeData("select2"); this.dataAdapter.destroy(); this.selection.destroy(); this.dropdown.destroy(); this.results.destroy(); this.dataAdapter = null; this.selection = null; this.dropdown = null; this.results = null }, u.prototype.render = function () { var t = n('<span class="select2 select2-container"><span class="selection"><\/span><span class="dropdown-wrapper" aria-hidden="true"><\/span><\/span>'); return t.attr("dir", this.options.get("dir")), this.$container = t, this.$container.addClass("select2-container--" + this.options.get("theme")), t.data("element", this.$element), t }, u }), t.define("jquery-mousewheel", ["jquery"], function (n) { return n }), t.define("jquery.select2", ["jquery", "jquery-mousewheel", "./select2/core", "./select2/defaults"], function (n, t, i, r) { if (null == n.fn.select2) { var u = ["open", "close", "destroy"]; n.fn.select2 = function (t) { if ("object" == typeof (t = t || {})) return this.each(function () { var r = n.extend(!0, {}, t); new i(n(this), r) }), this; if ("string" == typeof t) { var r, f = Array.prototype.slice.call(arguments, 1); return this.each(function () { var i = n(this).data("select2"); null == i && window.console && console.error && console.error("The select2('" + t + "') method was called on an element that is not using Select2."); r = i[t].apply(i, f) }), n.inArray(t, u) > -1 ? this : r } throw new Error("Invalid arguments for Select2: " + t); } } return null == n.fn.select2.defaults && (n.fn.select2.defaults = r), i }), { define: t.define, require: t.require } }(), i = t.require("jquery.select2"); return n.fn.select2.amd = t, i }); !function (n) { "function" == typeof define && define.amd ? define(["jquery"], n) : "object" == typeof module && module.exports ? module.exports = function (t, i) { return void 0 === i && (i = "undefined" != typeof window ? require("jquery") : require("jquery")(t)), n(i), i } : n(jQuery) }(function (n) { var t = function () { var t; return n && n.fn && n.fn.select2 && n.fn.select2.amd && (t = n.fn.select2.amd), function () { if (!t || !t.requirejs) { t ? i = t : t = {}; var n, i, r; !function (t) { function e(n, t) { return tt.call(n, t) } function c(n, t) { var e, o, s, u, h, y, c, p, i, l, w, b, r = t && t.split("/"), a = f.map, v = a && a["*"] || {}; if (n) { for (n = n.split("/"), h = n.length - 1, f.nodeIdCompat && k.test(n[h]) && (n[h] = n[h].replace(k, "")), "." === n[0].charAt(0) && r && (b = r.slice(0, r.length - 1), n = b.concat(n)), i = 0; i < n.length; i++)if ("." === (w = n[i])) n.splice(i, 1), i -= 1; else if (".." === w) { if (0 === i || 1 === i && ".." === n[2] || ".." === n[i - 1]) continue; i > 0 && (n.splice(i - 1, 2), i -= 2) } n = n.join("/") } if ((r || v) && a) { for (e = n.split("/"), i = e.length; i > 0; i -= 1) { if (o = e.slice(0, i).join("/"), r) for (l = r.length; l > 0; l -= 1)if ((s = a[r.slice(0, l).join("/")]) && (s = s[o])) { u = s; y = i; break } if (u) break; !c && v && v[o] && (c = v[o], p = i) } !u && c && (u = c, y = p); u && (e.splice(0, y, u), n = e.join("/")) } return n } function w(n, i) { return function () { var r = it.call(arguments, 0); return "string" != typeof r[0] && 1 === r.length && r.push(null), o.apply(t, r.concat([n, i])) } } function d(n) { return function (t) { return c(t, n) } } function g(n) { return function (t) { u[n] = t } } function l(n) { if (e(h, n)) { var i = h[n]; delete h[n]; p[n] = !0; a.apply(t, i) } if (!e(u, n) && !e(p, n)) throw new Error("No " + n); return u[n] } function v(n) { var i, t = n ? n.indexOf("!") : -1; return t > -1 && (i = n.substring(0, t), n = n.substring(t + 1, n.length)), [i, n] } function b(n) { return n ? v(n) : [] } function nt(n) { return function () { return f && f.config && f.config[n] || {} } } var a, o, y, s, u = {}, h = {}, f = {}, p = {}, tt = Object.prototype.hasOwnProperty, it = [].slice, k = /\.js$/; y = function (n, t) { var r, u = v(n), i = u[0], f = t[1]; return n = u[1], i && (i = c(i, f), r = l(i)), i ? n = r && r.normalize ? r.normalize(n, d(f)) : c(n, f) : (n = c(n, f), u = v(n), i = u[0], n = u[1], i && (r = l(i))), { f: i ? i + "!" + n : n, n: n, pr: i, p: r } }; s = { require: function (n) { return w(n) }, exports: function (n) { var t = u[n]; return void 0 !== t ? t : u[n] = {} }, module: function (n) { return { id: n, uri: "", exports: u[n], config: nt(n) } } }; a = function (n, i, r, f) { var v, o, d, k, c, nt, tt, a = [], it = typeof r; if (f = f || n, nt = b(f), "undefined" === it || "function" === it) { for (i = !i.length && r.length ? ["require", "exports", "module"] : i, c = 0; c < i.length; c += 1)if (k = y(i[c], nt), "require" === (o = k.f)) a[c] = s.require(n); else if ("exports" === o) a[c] = s.exports(n), tt = !0; else if ("module" === o) v = a[c] = s.module(n); else if (e(u, o) || e(h, o) || e(p, o)) a[c] = l(o); else { if (!k.p) throw new Error(n + " missing " + o); k.p.load(k.n, w(f, !0), g(o), {}); a[c] = u[o] } d = r ? r.apply(u[n], a) : void 0; n && (v && v.exports !== t && v.exports !== u[n] ? u[n] = v.exports : d === t && tt || (u[n] = d)) } else n && (u[n] = r) }; n = i = o = function (n, i, r, u, e) { if ("string" == typeof n) return s[n] ? s[n](i) : l(y(n, b(i)).f); if (!n.splice) { if (f = n, f.deps && o(f.deps, f.callback), !i) return; i.splice ? (n = i, i = r, r = null) : n = t } return i = i || function () { }, "function" == typeof r && (r = u, u = e), u ? a(t, n, i, r) : setTimeout(function () { a(t, n, i, r) }, 4), o }; o.config = function (n) { return o(n) }; n._defined = u; r = function (n, t, i) { if ("string" != typeof n) throw new Error("See almond README: incorrect module build, no module name"); t.splice || (i = t, t = []); e(u, n) || e(h, n) || (h[n] = [n, t, i]) }; r.amd = { jQuery: !0 } }(); t.requirejs = n; t.require = i; t.define = r } }(), t.define("almond", function () { }), t.define("jquery", [], function () { var t = n || $; return null == t && console && console.error && console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."), t }), t.define("select2/utils", ["jquery"], function (n) { function r(n) { var i = n.prototype, r = [], t; for (t in i) "function" == typeof i[t] && "constructor" !== t && r.push(t); return r } var t = {}, i; return t.Extend = function (n, t) { function r() { this.constructor = n } var u = {}.hasOwnProperty, i; for (i in t) u.call(t, i) && (n[i] = t[i]); return r.prototype = t.prototype, n.prototype = new r, n.__super__ = t.prototype, n }, t.Decorate = function (n, t) { function i() { var r = Array.prototype.unshift, u = t.prototype.constructor.length, i = n.prototype.constructor; u > 0 && (r.call(arguments, n.prototype.constructor), i = t.prototype.constructor); i.apply(this, arguments) } function l() { this.constructor = i } var s = r(t), h = r(n), u, e, c, f, o; for (t.displayName = n.displayName, i.prototype = new l, u = 0; u < h.length; u++)e = h[u], i.prototype[e] = n.prototype[e]; for (c = function (n) { var r = function () { }, u; return n in i.prototype && (r = i.prototype[n]), u = t.prototype[n], function () { return Array.prototype.unshift.call(arguments, r), u.apply(this, arguments) } }, f = 0; f < s.length; f++)o = s[f], i.prototype[o] = c(o); return i }, i = function () { this.listeners = {} }, i.prototype.on = function (n, t) { this.listeners = this.listeners || {}; n in this.listeners ? this.listeners[n].push(t) : this.listeners[n] = [t] }, i.prototype.trigger = function (n) { var i = Array.prototype.slice, t = i.call(arguments, 1); this.listeners = this.listeners || {}; null == t && (t = []); 0 === t.length && t.push({}); t[0]._type = n; n in this.listeners && this.invoke(this.listeners[n], i.call(arguments, 1)); "*" in this.listeners && this.invoke(this.listeners["*"], arguments) }, i.prototype.invoke = function (n, t) { for (var i = 0, r = n.length; i < r; i++)n[i].apply(this, t) }, t.Observable = i, t.generateChars = function (n) { for (var t = "", i = 0; i < n; i++)t += Math.floor(36 * Math.random()).toString(36); return t }, t.bind = function (n, t) { return function () { n.apply(t, arguments) } }, t._convertData = function (n) { var f, r, i, u, t; for (f in n) if (r = f.split("-"), i = n, 1 !== r.length) { for (u = 0; u < r.length; u++)t = r[u], t = t.substring(0, 1).toLowerCase() + t.substring(1), t in i || (i[t] = {}), u == r.length - 1 && (i[t] = n[f]), i = i[t]; delete n[f] } return n }, t.hasScroll = function (t, i) { var u = n(i), f = i.style.overflowX, r = i.style.overflowY; return (f !== r || "hidden" !== r && "visible" !== r) && ("scroll" === f || "scroll" === r || u.innerHeight() < i.scrollHeight || u.innerWidth() < i.scrollWidth) }, t.escapeMarkup = function (n) { var t = { "\\": "&#92;", "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;", "/": "&#47;" }; return "string" != typeof n ? n : String(n).replace(/[&<>"'\/\\]/g, function (n) { return t[n] }) }, t.appendMany = function (t, i) { if ("1.7" === n.fn.jquery.substr(0, 3)) { var r = n(); n.map(i, function (n) { r = r.add(n) }); i = r } t.append(i) }, t }), t.define("select2/results", ["jquery", "./utils"], function (n, t) { function i(n, t, r) { this.$element = n; this.data = r; this.options = t; i.__super__.constructor.call(this) } return t.Extend(i, t.Observable), i.prototype.render = function () { var t = n('<ul class="select2-results__options" role="tree"><\/ul>'); return this.options.get("multiple") && t.attr("aria-multiselectable", "true"), this.$results = t, t }, i.prototype.clear = function () { this.$results.empty() }, i.prototype.displayMessage = function (t) { var u = this.options.get("escapeMarkup"), i, r; this.clear(); this.hideLoading(); i = n('<li role="treeitem" aria-live="assertive" class="select2-results__option"><\/li>'); r = this.options.get("translations").get(t.message); i.append(u(r(t.args))); i[0].className += " select2-results__message"; this.$results.append(i) }, i.prototype.hideMessages = function () { this.$results.find(".select2-results__message").remove() }, i.prototype.append = function (n) { var i, t, r, u; if (this.hideLoading(), i = [], null == n.results || 0 === n.results.length) return void (0 === this.$results.children().length && this.trigger("results:message", { message: "noResults" })); for (n.results = this.sort(n.results), t = 0; t < n.results.length; t++)r = n.results[t], u = this.option(r), i.push(u); this.$results.append(i) }, i.prototype.position = function (n, t) { t.find(".select2-results").append(n) }, i.prototype.sort = function (n) { return this.options.get("sorter")(n) }, i.prototype.highlightFirstItem = function () { var n = this.$results.find(".select2-results__option[aria-selected]"), t = n.filter("[aria-selected=true]"); t.length > 0 ? t.first().trigger("mouseenter") : n.first().trigger("mouseenter"); this.ensureHighlightVisible() }, i.prototype.setClasses = function () { var t = this; this.data.current(function (i) { var r = n.map(i, function (n) { return n.id.toString() }); t.$results.find(".select2-results__option[aria-selected]").each(function () { var i = n(this), t = n.data(this, "data"), u = "" + t.id; null != t.element && t.element.selected || null == t.element && n.inArray(u, r) > -1 ? i.attr("aria-selected", "true") : i.attr("aria-selected", "false") }) }) }, i.prototype.showLoading = function (n) { this.hideLoading(); var i = this.options.get("translations").get("searching"), r = { disabled: !0, loading: !0, text: i(n) }, t = this.option(r); t.className += " loading-results"; this.$results.prepend(t) }, i.prototype.hideLoading = function () { this.$results.find(".loading-results").remove() }, i.prototype.option = function (t) { var r = document.createElement("li"), i, e, c, o, u, s, f, l, a, h; r.className = "select2-results__option"; i = { role: "treeitem", "aria-selected": "false" }; t.disabled && (delete i["aria-selected"], i["aria-disabled"] = "true"); null == t.id && delete i["aria-selected"]; null != t._resultId && (r.id = t._resultId); t.title && (r.title = t.title); t.children && (i.role = "group", i["aria-label"] = t.text, delete i["aria-selected"]); for (e in i) c = i[e], r.setAttribute(e, c); if (t.children) { for (o = n(r), u = document.createElement("strong"), u.className = "select2-results__group", n(u), this.template(t, u), s = [], f = 0; f < t.children.length; f++)l = t.children[f], a = this.option(l), s.push(a); h = n("<ul><\/ul>", { "class": "select2-results__options select2-results__options--nested" }); h.append(s); o.append(u); o.append(h) } else this.template(t, r); return n.data(r, "data", t), r }, i.prototype.bind = function (t) { var i = this, r = t.id + "-results"; this.$results.attr("id", r); t.on("results:all", function (n) { i.clear(); i.append(n.data); t.isOpen() && (i.setClasses(), i.highlightFirstItem()) }); t.on("results:append", function (n) { i.append(n.data); t.isOpen() && i.setClasses() }); t.on("query", function (n) { i.hideMessages(); i.showLoading(n) }); t.on("select", function () { t.isOpen() && (i.setClasses(), i.highlightFirstItem()) }); t.on("unselect", function () { t.isOpen() && (i.setClasses(), i.highlightFirstItem()) }); t.on("open", function () { i.$results.attr("aria-expanded", "true"); i.$results.attr("aria-hidden", "false"); i.setClasses(); i.ensureHighlightVisible() }); t.on("close", function () { i.$results.attr("aria-expanded", "false"); i.$results.attr("aria-hidden", "true"); i.$results.removeAttr("aria-activedescendant") }); t.on("results:toggle", function () { var n = i.getHighlightedResults(); 0 !== n.length && n.trigger("mouseup") }); t.on("results:select", function () { var n = i.getHighlightedResults(), t; 0 !== n.length && (t = n.data("data"), "true" == n.attr("aria-selected") ? i.trigger("close", {}) : i.trigger("select", { data: t })) }); t.on("results:previous", function () { var r = i.getHighlightedResults(), u = i.$results.find("[aria-selected]"), f = u.index(r), n, t; if (0 !== f) { n = f - 1; 0 === r.length && (n = 0); t = u.eq(n); t.trigger("mouseenter"); var e = i.$results.offset().top, o = t.offset().top, s = i.$results.scrollTop() + (o - e); 0 === n ? i.$results.scrollTop(0) : o - e < 0 && i.$results.scrollTop(s) } }); t.on("results:next", function () { var e = i.getHighlightedResults(), t = i.$results.find("[aria-selected]"), o = t.index(e), r = o + 1, n; if (!(r >= t.length)) { n = t.eq(r); n.trigger("mouseenter"); var u = i.$results.offset().top + i.$results.outerHeight(!1), f = n.offset().top + n.outerHeight(!1), s = i.$results.scrollTop() + f - u; 0 === r ? i.$results.scrollTop(0) : f > u && i.$results.scrollTop(s) } }); t.on("results:focus", function (n) { n.element.addClass("select2-results__option--highlighted") }); t.on("results:message", function (n) { i.displayMessage(n) }); n.fn.mousewheel && this.$results.on("mousewheel", function (n) { var t = i.$results.scrollTop(), r = i.$results.get(0).scrollHeight - t + n.deltaY, u = n.deltaY > 0 && t - n.deltaY <= 0, f = n.deltaY < 0 && r <= i.$results.height(); u ? (i.$results.scrollTop(0), n.preventDefault(), n.stopPropagation()) : f && (i.$results.scrollTop(i.$results.get(0).scrollHeight - i.$results.height()), n.preventDefault(), n.stopPropagation()) }); this.$results.on("mouseup", ".select2-results__option[aria-selected]", function (t) { var r = n(this), u = r.data("data"); if ("true" === r.attr("aria-selected")) return void (i.options.get("multiple") ? i.trigger("unselect", { originalEvent: t, data: u }) : i.trigger("close", {})); i.trigger("select", { originalEvent: t, data: u }) }); this.$results.on("mouseenter", ".select2-results__option[aria-selected]", function () { var t = n(this).data("data"); i.getHighlightedResults().removeClass("select2-results__option--highlighted"); i.trigger("results:focus", { data: t, element: n(this) }) }) }, i.prototype.getHighlightedResults = function () { return this.$results.find(".select2-results__option--highlighted") }, i.prototype.destroy = function () { this.$results.remove() }, i.prototype.ensureHighlightVisible = function () { var n = this.getHighlightedResults(); if (0 !== n.length) { var f = this.$results.find("[aria-selected]"), e = f.index(n), t = this.$results.offset().top, i = n.offset().top, r = this.$results.scrollTop() + (i - t), u = i - t; r -= 2 * n.outerHeight(!1); e <= 2 ? this.$results.scrollTop(0) : (u > this.$results.outerHeight() || u < 0) && this.$results.scrollTop(r) } }, i.prototype.template = function (t, i) { var u = this.options.get("templateResult"), f = this.options.get("escapeMarkup"), r = u(t, i); null == r ? i.style.display = "none" : "string" == typeof r ? i.innerHTML = f(r) : n(i).append(r) }, i }), t.define("select2/keys", [], function () { return { BACKSPACE: 8, TAB: 9, ENTER: 13, SHIFT: 16, CTRL: 17, ALT: 18, ESC: 27, SPACE: 32, PAGE_UP: 33, PAGE_DOWN: 34, END: 35, HOME: 36, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, DELETE: 46 } }), t.define("select2/selection/base", ["jquery", "../utils", "../keys"], function (n, t, i) { function r(n, t) { this.$element = n; this.options = t; r.__super__.constructor.call(this) } return t.Extend(r, t.Observable), r.prototype.render = function () { var t = n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"><\/span>'); return this._tabindex = 0, null != this.$element.data("old-tabindex") ? this._tabindex = this.$element.data("old-tabindex") : null != this.$element.attr("tabindex") && (this._tabindex = this.$element.attr("tabindex")), t.attr("title", this.$element.attr("title")), t.attr("tabindex", this._tabindex), this.$selection = t, t }, r.prototype.bind = function (n) { var t = this, r = (n.id, n.id + "-results"); this.container = n; this.$selection.on("focus", function (n) { t.trigger("focus", n) }); this.$selection.on("blur", function (n) { t._handleBlur(n) }); this.$selection.on("keydown", function (n) { t.trigger("keypress", n); n.which === i.SPACE && n.preventDefault() }); n.on("results:focus", function (n) { t.$selection.attr("aria-activedescendant", n.data._resultId) }); n.on("selection:update", function (n) { t.update(n.data) }); n.on("open", function () { t.$selection.attr("aria-expanded", "true"); t.$selection.attr("aria-owns", r); t._attachCloseHandler(n) }); n.on("close", function () { t.$selection.attr("aria-expanded", "false"); t.$selection.removeAttr("aria-activedescendant"); t.$selection.removeAttr("aria-owns"); t.$selection.focus(); t._detachCloseHandler(n) }); n.on("enable", function () { t.$selection.attr("tabindex", t._tabindex) }); n.on("disable", function () { t.$selection.attr("tabindex", "-1") }) }, r.prototype._handleBlur = function (t) { var i = this; window.setTimeout(function () { document.activeElement == i.$selection[0] || n.contains(i.$selection[0], document.activeElement) || i.trigger("blur", t) }, 1) }, r.prototype._attachCloseHandler = function (t) { n(document.body).on("mousedown.select2." + t.id, function (t) { var i = n(t.target), r = i.closest(".select2"); n(".select2.select2-container--open").each(function () { var t = n(this); this != r[0] && t.data("element").select2("close") }) }) }, r.prototype._detachCloseHandler = function (t) { n(document.body).off("mousedown.select2." + t.id) }, r.prototype.position = function (n, t) { t.find(".selection").append(n) }, r.prototype.destroy = function () { this._detachCloseHandler(this.container) }, r.prototype.update = function () { throw new Error("The `update` method must be defined in child classes."); }, r }), t.define("select2/selection/single", ["jquery", "./base", "../utils", "../keys"], function (n, t, i) { function r() { r.__super__.constructor.apply(this, arguments) } return i.Extend(r, t), r.prototype.render = function () { var n = r.__super__.render.call(this); return n.addClass("select2-selection--single"), n.html('<span class="select2-selection__rendered"><\/span><span class="select2-selection__arrow" role="presentation"><b role="presentation"><\/b><\/span>'), n }, r.prototype.bind = function (n) { var t = this, i; r.__super__.bind.apply(this, arguments); i = n.id + "-container"; this.$selection.find(".select2-selection__rendered").attr("id", i); this.$selection.attr("aria-labelledby", i); this.$selection.on("mousedown", function (n) { 1 === n.which && t.trigger("toggle", { originalEvent: n }) }); this.$selection.on("focus", function () { }); this.$selection.on("blur", function () { }); n.on("focus", function () { n.isOpen() || t.$selection.focus() }); n.on("selection:update", function (n) { t.update(n.data) }) }, r.prototype.clear = function () { this.$selection.find(".select2-selection__rendered").empty() }, r.prototype.display = function (n, t) { var i = this.options.get("templateSelection"); return this.options.get("escapeMarkup")(i(n, t)) }, r.prototype.selectionContainer = function () { return n("<span><\/span>") }, r.prototype.update = function (n) { if (0 === n.length) return void this.clear(); var t = n[0], i = this.$selection.find(".select2-selection__rendered"), r = this.display(t, i); i.empty().append(r); i.prop("title", t.title || t.text) }, r }), t.define("select2/selection/multiple", ["jquery", "./base", "../utils"], function (n, t, i) { function r() { r.__super__.constructor.apply(this, arguments) } return i.Extend(r, t), r.prototype.render = function () { var n = r.__super__.render.call(this); return n.addClass("select2-selection--multiple"), n.html('<ul class="select2-selection__rendered"><\/ul>'), n }, r.prototype.bind = function () { var t = this; r.__super__.bind.apply(this, arguments); this.$selection.on("click", function (n) { t.trigger("toggle", { originalEvent: n }) }); this.$selection.on("click", ".select2-selection__choice__remove", function (i) { if (!t.options.get("disabled")) { var r = n(this), u = r.parent(), f = u.data("data"); t.trigger("unselect", { originalEvent: i, data: f }) } }) }, r.prototype.clear = function () { this.$selection.find(".select2-selection__rendered").empty() }, r.prototype.display = function (n, t) { var i = this.options.get("templateSelection"); return this.options.get("escapeMarkup")(i(n, t)) }, r.prototype.selectionContainer = function () { return n('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;<\/span><\/li>') }, r.prototype.update = function (n) { var f, r, e; if (this.clear(), 0 !== n.length) { for (f = [], r = 0; r < n.length; r++) { var u = n[r], t = this.selectionContainer(), o = this.display(u, t); t.append(o); t.prop("title", u.title || u.text); t.data("data", u); f.push(t) } e = this.$selection.find(".select2-selection__rendered"); i.appendMany(e, f) } }, r }), t.define("select2/selection/placeholder", ["../utils"], function () { function n(n, t, i) { this.placeholder = this.normalizePlaceholder(i.get("placeholder")); n.call(this, t, i) } return n.prototype.normalizePlaceholder = function (n, t) { return "string" == typeof t && (t = { id: "", text: t }), t }, n.prototype.createPlaceholder = function (n, t) { var i = this.selectionContainer(); return i.html(this.display(t)), i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"), i }, n.prototype.update = function (n, t) { var r = 1 == t.length && t[0].id != this.placeholder.id, i; if (t.length > 1 || r) return n.call(this, t); this.clear(); i = this.createPlaceholder(this.placeholder); this.$selection.find(".select2-selection__rendered").append(i) }, n }), t.define("select2/selection/allowClear", ["jquery", "../keys"], function (n, t) { function i() { } return i.prototype.bind = function (n, t, i) { var r = this; n.call(this, t, i); null == this.placeholder && this.options.get("debug") && window.console && console.error && console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."); this.$selection.on("mousedown", ".select2-selection__clear", function (n) { r._handleClear(n) }); t.on("keypress", function (n) { r._handleKeyboardClear(n, t) }) }, i.prototype._handleClear = function (n, t) { var r, u, i, f; if (!this.options.get("disabled") && (r = this.$selection.find(".select2-selection__clear"), 0 !== r.length)) { for (t.stopPropagation(), u = r.data("data"), i = 0; i < u.length; i++)if (f = { data: u[i] }, this.trigger("unselect", f), f.prevented) return; this.$element.val(this.placeholder.id).trigger("change"); this.trigger("toggle", {}) } }, i.prototype._handleKeyboardClear = function (n, i, r) { r.isOpen() || i.which != t.DELETE && i.which != t.BACKSPACE || this._handleClear(i) }, i.prototype.update = function (t, i) { if (t.call(this, i), !(this.$selection.find(".select2-selection__placeholder").length > 0 || 0 === i.length)) { var r = n('<span class="select2-selection__clear">&times;<\/span>'); r.data("data", i); this.$selection.find(".select2-selection__rendered").prepend(r) } }, i }), t.define("select2/selection/search", ["jquery", "../utils", "../keys"], function (n, t, i) { function r(n, t, i) { n.call(this, t, i) } return r.prototype.render = function (t) { var i = n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /><\/li>'), r; return this.$searchContainer = i, this.$search = i.find("input"), r = t.call(this), this._transferTabIndex(), r }, r.prototype.bind = function (n, t, r) { var u = this, f, e; n.call(this, t, r); t.on("open", function () { u.$search.trigger("focus") }); t.on("close", function () { u.$search.val(""); u.$search.removeAttr("aria-activedescendant"); u.$search.trigger("focus") }); t.on("enable", function () { u.$search.prop("disabled", !1); u._transferTabIndex() }); t.on("disable", function () { u.$search.prop("disabled", !0) }); t.on("focus", function () { u.$search.trigger("focus") }); t.on("results:focus", function (n) { u.$search.attr("aria-activedescendant", n.id) }); this.$selection.on("focusin", ".select2-search--inline", function (n) { u.trigger("focus", n) }); this.$selection.on("focusout", ".select2-search--inline", function (n) { u._handleBlur(n) }); this.$selection.on("keydown", ".select2-search--inline", function (n) { var t, r; (n.stopPropagation(), u.trigger("keypress", n), u._keyUpPrevented = n.isDefaultPrevented(), n.which === i.BACKSPACE && "" === u.$search.val()) && (t = u.$searchContainer.prev(".select2-selection__choice"), t.length > 0 && (r = t.data("data"), u.searchRemoveChoice(r), n.preventDefault())) }); f = document.documentMode; e = f && f <= 11; this.$selection.on("input.searchcheck", ".select2-search--inline", function () { if (e) return void u.$selection.off("input.search input.searchcheck"); u.$selection.off("keyup.search") }); this.$selection.on("keyup.search input.search", ".select2-search--inline", function (n) { if (e && "input" === n.type) return void u.$selection.off("input.search input.searchcheck"); var t = n.which; t != i.SHIFT && t != i.CTRL && t != i.ALT && t != i.TAB && u.handleSearch(n) }) }, r.prototype._transferTabIndex = function () { this.$search.attr("tabindex", this.$selection.attr("tabindex")); this.$selection.attr("tabindex", "-1") }, r.prototype.createPlaceholder = function (n, t) { this.$search.attr("placeholder", t.text) }, r.prototype.update = function (n, t) { var i = this.$search[0] == document.activeElement; this.$search.attr("placeholder", ""); n.call(this, t); this.$selection.find(".select2-selection__rendered").append(this.$searchContainer); this.resizeSearch(); i && this.$search.focus() }, r.prototype.handleSearch = function () { if (this.resizeSearch(), !this._keyUpPrevented) { var n = this.$search.val(); this.trigger("query", { term: n }) } this._keyUpPrevented = !1 }, r.prototype.searchRemoveChoice = function (n, t) { this.trigger("unselect", { data: t }); this.$search.val(t.text); this.handleSearch() }, r.prototype.resizeSearch = function () { this.$search.css("width", "25px"); var n = ""; n = "" !== this.$search.attr("placeholder") ? this.$selection.find(".select2-selection__rendered").innerWidth() : .75 * (this.$search.val().length + 1) + "em"; this.$search.css("width", n) }, r }), t.define("select2/selection/eventRelay", ["jquery"], function (n) { function t() { } return t.prototype.bind = function (t, i, r) { var u = this, f = ["open", "opening", "close", "closing", "select", "selecting", "unselect", "unselecting"], e = ["opening", "closing", "selecting", "unselecting"]; t.call(this, i, r); i.on("*", function (t, i) { if (-1 !== n.inArray(t, f)) { i = i || {}; var r = n.Event("select2:" + t, { params: i }); u.$element.trigger(r); -1 !== n.inArray(t, e) && (i.prevented = r.isDefaultPrevented()) } }) }, t }), t.define("select2/translation", ["jquery", "require"], function (n, t) { function i(n) { this.dict = n || {} } return i.prototype.all = function () { return this.dict }, i.prototype.get = function (n) { return this.dict[n] }, i.prototype.extend = function (t) { this.dict = n.extend({}, t.all(), this.dict) }, i._cache = {}, i.loadPath = function (n) { if (!(n in i._cache)) { var r = t(n); i._cache[n] = r } return new i(i._cache[n]) }, i }), t.define("select2/diacritics", [], function () { return { "Ⓐ": "A", "Ａ": "A", "À": "A", "Á": "A", "Â": "A", "Ầ": "A", "Ấ": "A", "Ẫ": "A", "Ẩ": "A", "Ã": "A", "Ā": "A", "Ă": "A", "Ằ": "A", "Ắ": "A", "Ẵ": "A", "Ẳ": "A", "Ȧ": "A", "Ǡ": "A", "Ä": "A", "Ǟ": "A", "Ả": "A", "Å": "A", "Ǻ": "A", "Ǎ": "A", "Ȁ": "A", "Ȃ": "A", "Ạ": "A", "Ậ": "A", "Ặ": "A", "Ḁ": "A", "Ą": "A", "Ⱥ": "A", "Ɐ": "A", "Ꜳ": "AA", "Æ": "AE", "Ǽ": "AE", "Ǣ": "AE", "Ꜵ": "AO", "Ꜷ": "AU", "Ꜹ": "AV", "Ꜻ": "AV", "Ꜽ": "AY", "Ⓑ": "B", "Ｂ": "B", "Ḃ": "B", "Ḅ": "B", "Ḇ": "B", "Ƀ": "B", "Ƃ": "B", "Ɓ": "B", "Ⓒ": "C", "Ｃ": "C", "Ć": "C", "Ĉ": "C", "Ċ": "C", "Č": "C", "Ç": "C", "Ḉ": "C", "Ƈ": "C", "Ȼ": "C", "Ꜿ": "C", "Ⓓ": "D", "Ｄ": "D", "Ḋ": "D", "Ď": "D", "Ḍ": "D", "Ḑ": "D", "Ḓ": "D", "Ḏ": "D", "Đ": "D", "Ƌ": "D", "Ɗ": "D", "Ɖ": "D", "Ꝺ": "D", "Ǳ": "DZ", "Ǆ": "DZ", "ǲ": "Dz", "ǅ": "Dz", "Ⓔ": "E", "Ｅ": "E", "È": "E", "É": "E", "Ê": "E", "Ề": "E", "Ế": "E", "Ễ": "E", "Ể": "E", "Ẽ": "E", "Ē": "E", "Ḕ": "E", "Ḗ": "E", "Ĕ": "E", "Ė": "E", "Ë": "E", "Ẻ": "E", "Ě": "E", "Ȅ": "E", "Ȇ": "E", "Ẹ": "E", "Ệ": "E", "Ȩ": "E", "Ḝ": "E", "Ę": "E", "Ḙ": "E", "Ḛ": "E", "Ɛ": "E", "Ǝ": "E", "Ⓕ": "F", "Ｆ": "F", "Ḟ": "F", "Ƒ": "F", "Ꝼ": "F", "Ⓖ": "G", "Ｇ": "G", "Ǵ": "G", "Ĝ": "G", "Ḡ": "G", "Ğ": "G", "Ġ": "G", "Ǧ": "G", "Ģ": "G", "Ǥ": "G", "Ɠ": "G", "Ꞡ": "G", "Ᵹ": "G", "Ꝿ": "G", "Ⓗ": "H", "Ｈ": "H", "Ĥ": "H", "Ḣ": "H", "Ḧ": "H", "Ȟ": "H", "Ḥ": "H", "Ḩ": "H", "Ḫ": "H", "Ħ": "H", "Ⱨ": "H", "Ⱶ": "H", "Ɥ": "H", "Ⓘ": "I", "Ｉ": "I", "Ì": "I", "Í": "I", "Î": "I", "Ĩ": "I", "Ī": "I", "Ĭ": "I", "İ": "I", "Ï": "I", "Ḯ": "I", "Ỉ": "I", "Ǐ": "I", "Ȉ": "I", "Ȋ": "I", "Ị": "I", "Į": "I", "Ḭ": "I", "Ɨ": "I", "Ⓙ": "J", "Ｊ": "J", "Ĵ": "J", "Ɉ": "J", "Ⓚ": "K", "Ｋ": "K", "Ḱ": "K", "Ǩ": "K", "Ḳ": "K", "Ķ": "K", "Ḵ": "K", "Ƙ": "K", "Ⱪ": "K", "Ꝁ": "K", "Ꝃ": "K", "Ꝅ": "K", "Ꞣ": "K", "Ⓛ": "L", "Ｌ": "L", "Ŀ": "L", "Ĺ": "L", "Ľ": "L", "Ḷ": "L", "Ḹ": "L", "Ļ": "L", "Ḽ": "L", "Ḻ": "L", "Ł": "L", "Ƚ": "L", "Ɫ": "L", "Ⱡ": "L", "Ꝉ": "L", "Ꝇ": "L", "Ꞁ": "L", "Ǉ": "LJ", "ǈ": "Lj", "Ⓜ": "M", "Ｍ": "M", "Ḿ": "M", "Ṁ": "M", "Ṃ": "M", "Ɱ": "M", "Ɯ": "M", "Ⓝ": "N", "Ｎ": "N", "Ǹ": "N", "Ń": "N", "Ñ": "N", "Ṅ": "N", "Ň": "N", "Ṇ": "N", "Ņ": "N", "Ṋ": "N", "Ṉ": "N", "Ƞ": "N", "Ɲ": "N", "Ꞑ": "N", "Ꞥ": "N", "Ǌ": "NJ", "ǋ": "Nj", "Ⓞ": "O", "Ｏ": "O", "Ò": "O", "Ó": "O", "Ô": "O", "Ồ": "O", "Ố": "O", "Ỗ": "O", "Ổ": "O", "Õ": "O", "Ṍ": "O", "Ȭ": "O", "Ṏ": "O", "Ō": "O", "Ṑ": "O", "Ṓ": "O", "Ŏ": "O", "Ȯ": "O", "Ȱ": "O", "Ö": "O", "Ȫ": "O", "Ỏ": "O", "Ő": "O", "Ǒ": "O", "Ȍ": "O", "Ȏ": "O", "Ơ": "O", "Ờ": "O", "Ớ": "O", "Ỡ": "O", "Ở": "O", "Ợ": "O", "Ọ": "O", "Ộ": "O", "Ǫ": "O", "Ǭ": "O", "Ø": "O", "Ǿ": "O", "Ɔ": "O", "Ɵ": "O", "Ꝋ": "O", "Ꝍ": "O", "Ƣ": "OI", "Ꝏ": "OO", "Ȣ": "OU", "Ⓟ": "P", "Ｐ": "P", "Ṕ": "P", "Ṗ": "P", "Ƥ": "P", "Ᵽ": "P", "Ꝑ": "P", "Ꝓ": "P", "Ꝕ": "P", "Ⓠ": "Q", "Ｑ": "Q", "Ꝗ": "Q", "Ꝙ": "Q", "Ɋ": "Q", "Ⓡ": "R", "Ｒ": "R", "Ŕ": "R", "Ṙ": "R", "Ř": "R", "Ȑ": "R", "Ȓ": "R", "Ṛ": "R", "Ṝ": "R", "Ŗ": "R", "Ṟ": "R", "Ɍ": "R", "Ɽ": "R", "Ꝛ": "R", "Ꞧ": "R", "Ꞃ": "R", "Ⓢ": "S", "Ｓ": "S", "ẞ": "S", "Ś": "S", "Ṥ": "S", "Ŝ": "S", "Ṡ": "S", "Š": "S", "Ṧ": "S", "Ṣ": "S", "Ṩ": "S", "Ș": "S", "Ş": "S", "Ȿ": "S", "Ꞩ": "S", "Ꞅ": "S", "Ⓣ": "T", "Ｔ": "T", "Ṫ": "T", "Ť": "T", "Ṭ": "T", "Ț": "T", "Ţ": "T", "Ṱ": "T", "Ṯ": "T", "Ŧ": "T", "Ƭ": "T", "Ʈ": "T", "Ⱦ": "T", "Ꞇ": "T", "Ꜩ": "TZ", "Ⓤ": "U", "Ｕ": "U", "Ù": "U", "Ú": "U", "Û": "U", "Ũ": "U", "Ṹ": "U", "Ū": "U", "Ṻ": "U", "Ŭ": "U", "Ü": "U", "Ǜ": "U", "Ǘ": "U", "Ǖ": "U", "Ǚ": "U", "Ủ": "U", "Ů": "U", "Ű": "U", "Ǔ": "U", "Ȕ": "U", "Ȗ": "U", "Ư": "U", "Ừ": "U", "Ứ": "U", "Ữ": "U", "Ử": "U", "Ự": "U", "Ụ": "U", "Ṳ": "U", "Ų": "U", "Ṷ": "U", "Ṵ": "U", "Ʉ": "U", "Ⓥ": "V", "Ｖ": "V", "Ṽ": "V", "Ṿ": "V", "Ʋ": "V", "Ꝟ": "V", "Ʌ": "V", "Ꝡ": "VY", "Ⓦ": "W", "Ｗ": "W", "Ẁ": "W", "Ẃ": "W", "Ŵ": "W", "Ẇ": "W", "Ẅ": "W", "Ẉ": "W", "Ⱳ": "W", "Ⓧ": "X", "Ｘ": "X", "Ẋ": "X", "Ẍ": "X", "Ⓨ": "Y", "Ｙ": "Y", "Ỳ": "Y", "Ý": "Y", "Ŷ": "Y", "Ỹ": "Y", "Ȳ": "Y", "Ẏ": "Y", "Ÿ": "Y", "Ỷ": "Y", "Ỵ": "Y", "Ƴ": "Y", "Ɏ": "Y", "Ỿ": "Y", "Ⓩ": "Z", "Ｚ": "Z", "Ź": "Z", "Ẑ": "Z", "Ż": "Z", "Ž": "Z", "Ẓ": "Z", "Ẕ": "Z", "Ƶ": "Z", "Ȥ": "Z", "Ɀ": "Z", "Ⱬ": "Z", "Ꝣ": "Z", "ⓐ": "a", "ａ": "a", "ẚ": "a", "à": "a", "á": "a", "â": "a", "ầ": "a", "ấ": "a", "ẫ": "a", "ẩ": "a", "ã": "a", "ā": "a", "ă": "a", "ằ": "a", "ắ": "a", "ẵ": "a", "ẳ": "a", "ȧ": "a", "ǡ": "a", "ä": "a", "ǟ": "a", "ả": "a", "å": "a", "ǻ": "a", "ǎ": "a", "ȁ": "a", "ȃ": "a", "ạ": "a", "ậ": "a", "ặ": "a", "ḁ": "a", "ą": "a", "ⱥ": "a", "ɐ": "a", "ꜳ": "aa", "æ": "ae", "ǽ": "ae", "ǣ": "ae", "ꜵ": "ao", "ꜷ": "au", "ꜹ": "av", "ꜻ": "av", "ꜽ": "ay", "ⓑ": "b", "ｂ": "b", "ḃ": "b", "ḅ": "b", "ḇ": "b", "ƀ": "b", "ƃ": "b", "ɓ": "b", "ⓒ": "c", "ｃ": "c", "ć": "c", "ĉ": "c", "ċ": "c", "č": "c", "ç": "c", "ḉ": "c", "ƈ": "c", "ȼ": "c", "ꜿ": "c", "ↄ": "c", "ⓓ": "d", "ｄ": "d", "ḋ": "d", "ď": "d", "ḍ": "d", "ḑ": "d", "ḓ": "d", "ḏ": "d", "đ": "d", "ƌ": "d", "ɖ": "d", "ɗ": "d", "ꝺ": "d", "ǳ": "dz", "ǆ": "dz", "ⓔ": "e", "ｅ": "e", "è": "e", "é": "e", "ê": "e", "ề": "e", "ế": "e", "ễ": "e", "ể": "e", "ẽ": "e", "ē": "e", "ḕ": "e", "ḗ": "e", "ĕ": "e", "ė": "e", "ë": "e", "ẻ": "e", "ě": "e", "ȅ": "e", "ȇ": "e", "ẹ": "e", "ệ": "e", "ȩ": "e", "ḝ": "e", "ę": "e", "ḙ": "e", "ḛ": "e", "ɇ": "e", "ɛ": "e", "ǝ": "e", "ⓕ": "f", "ｆ": "f", "ḟ": "f", "ƒ": "f", "ꝼ": "f", "ⓖ": "g", "ｇ": "g", "ǵ": "g", "ĝ": "g", "ḡ": "g", "ğ": "g", "ġ": "g", "ǧ": "g", "ģ": "g", "ǥ": "g", "ɠ": "g", "ꞡ": "g", "ᵹ": "g", "ꝿ": "g", "ⓗ": "h", "ｈ": "h", "ĥ": "h", "ḣ": "h", "ḧ": "h", "ȟ": "h", "ḥ": "h", "ḩ": "h", "ḫ": "h", "ẖ": "h", "ħ": "h", "ⱨ": "h", "ⱶ": "h", "ɥ": "h", "ƕ": "hv", "ⓘ": "i", "ｉ": "i", "ì": "i", "í": "i", "î": "i", "ĩ": "i", "ī": "i", "ĭ": "i", "ï": "i", "ḯ": "i", "ỉ": "i", "ǐ": "i", "ȉ": "i", "ȋ": "i", "ị": "i", "į": "i", "ḭ": "i", "ɨ": "i", "ı": "i", "ⓙ": "j", "ｊ": "j", "ĵ": "j", "ǰ": "j", "ɉ": "j", "ⓚ": "k", "ｋ": "k", "ḱ": "k", "ǩ": "k", "ḳ": "k", "ķ": "k", "ḵ": "k", "ƙ": "k", "ⱪ": "k", "ꝁ": "k", "ꝃ": "k", "ꝅ": "k", "ꞣ": "k", "ⓛ": "l", "ｌ": "l", "ŀ": "l", "ĺ": "l", "ľ": "l", "ḷ": "l", "ḹ": "l", "ļ": "l", "ḽ": "l", "ḻ": "l", "ſ": "l", "ł": "l", "ƚ": "l", "ɫ": "l", "ⱡ": "l", "ꝉ": "l", "ꞁ": "l", "ꝇ": "l", "ǉ": "lj", "ⓜ": "m", "ｍ": "m", "ḿ": "m", "ṁ": "m", "ṃ": "m", "ɱ": "m", "ɯ": "m", "ⓝ": "n", "ｎ": "n", "ǹ": "n", "ń": "n", "ñ": "n", "ṅ": "n", "ň": "n", "ṇ": "n", "ņ": "n", "ṋ": "n", "ṉ": "n", "ƞ": "n", "ɲ": "n", "ŉ": "n", "ꞑ": "n", "ꞥ": "n", "ǌ": "nj", "ⓞ": "o", "ｏ": "o", "ò": "o", "ó": "o", "ô": "o", "ồ": "o", "ố": "o", "ỗ": "o", "ổ": "o", "õ": "o", "ṍ": "o", "ȭ": "o", "ṏ": "o", "ō": "o", "ṑ": "o", "ṓ": "o", "ŏ": "o", "ȯ": "o", "ȱ": "o", "ö": "o", "ȫ": "o", "ỏ": "o", "ő": "o", "ǒ": "o", "ȍ": "o", "ȏ": "o", "ơ": "o", "ờ": "o", "ớ": "o", "ỡ": "o", "ở": "o", "ợ": "o", "ọ": "o", "ộ": "o", "ǫ": "o", "ǭ": "o", "ø": "o", "ǿ": "o", "ɔ": "o", "ꝋ": "o", "ꝍ": "o", "ɵ": "o", "ƣ": "oi", "ȣ": "ou", "ꝏ": "oo", "ⓟ": "p", "ｐ": "p", "ṕ": "p", "ṗ": "p", "ƥ": "p", "ᵽ": "p", "ꝑ": "p", "ꝓ": "p", "ꝕ": "p", "ⓠ": "q", "ｑ": "q", "ɋ": "q", "ꝗ": "q", "ꝙ": "q", "ⓡ": "r", "ｒ": "r", "ŕ": "r", "ṙ": "r", "ř": "r", "ȑ": "r", "ȓ": "r", "ṛ": "r", "ṝ": "r", "ŗ": "r", "ṟ": "r", "ɍ": "r", "ɽ": "r", "ꝛ": "r", "ꞧ": "r", "ꞃ": "r", "ⓢ": "s", "ｓ": "s", "ß": "s", "ś": "s", "ṥ": "s", "ŝ": "s", "ṡ": "s", "š": "s", "ṧ": "s", "ṣ": "s", "ṩ": "s", "ș": "s", "ş": "s", "ȿ": "s", "ꞩ": "s", "ꞅ": "s", "ẛ": "s", "ⓣ": "t", "ｔ": "t", "ṫ": "t", "ẗ": "t", "ť": "t", "ṭ": "t", "ț": "t", "ţ": "t", "ṱ": "t", "ṯ": "t", "ŧ": "t", "ƭ": "t", "ʈ": "t", "ⱦ": "t", "ꞇ": "t", "ꜩ": "tz", "ⓤ": "u", "ｕ": "u", "ù": "u", "ú": "u", "û": "u", "ũ": "u", "ṹ": "u", "ū": "u", "ṻ": "u", "ŭ": "u", "ü": "u", "ǜ": "u", "ǘ": "u", "ǖ": "u", "ǚ": "u", "ủ": "u", "ů": "u", "ű": "u", "ǔ": "u", "ȕ": "u", "ȗ": "u", "ư": "u", "ừ": "u", "ứ": "u", "ữ": "u", "ử": "u", "ự": "u", "ụ": "u", "ṳ": "u", "ų": "u", "ṷ": "u", "ṵ": "u", "ʉ": "u", "ⓥ": "v", "ｖ": "v", "ṽ": "v", "ṿ": "v", "ʋ": "v", "ꝟ": "v", "ʌ": "v", "ꝡ": "vy", "ⓦ": "w", "ｗ": "w", "ẁ": "w", "ẃ": "w", "ŵ": "w", "ẇ": "w", "ẅ": "w", "ẘ": "w", "ẉ": "w", "ⱳ": "w", "ⓧ": "x", "ｘ": "x", "ẋ": "x", "ẍ": "x", "ⓨ": "y", "ｙ": "y", "ỳ": "y", "ý": "y", "ŷ": "y", "ỹ": "y", "ȳ": "y", "ẏ": "y", "ÿ": "y", "ỷ": "y", "ẙ": "y", "ỵ": "y", "ƴ": "y", "ɏ": "y", "ỿ": "y", "ⓩ": "z", "ｚ": "z", "ź": "z", "ẑ": "z", "ż": "z", "ž": "z", "ẓ": "z", "ẕ": "z", "ƶ": "z", "ȥ": "z", "ɀ": "z", "ⱬ": "z", "ꝣ": "z", "Ά": "Α", "Έ": "Ε", "Ή": "Η", "Ί": "Ι", "Ϊ": "Ι", "Ό": "Ο", "Ύ": "Υ", "Ϋ": "Υ", "Ώ": "Ω", "ά": "α", "έ": "ε", "ή": "η", "ί": "ι", "ϊ": "ι", "ΐ": "ι", "ό": "ο", "ύ": "υ", "ϋ": "υ", "ΰ": "υ", "ω": "ω", "ς": "σ" } }), t.define("select2/data/base", ["../utils"], function (n) { function t() { t.__super__.constructor.call(this) } return n.Extend(t, n.Observable), t.prototype.current = function () { throw new Error("The `current` method must be defined in child classes."); }, t.prototype.query = function () { throw new Error("The `query` method must be defined in child classes."); }, t.prototype.bind = function () { }, t.prototype.destroy = function () { }, t.prototype.generateResultId = function (t, i) { var r = t.id + "-result-"; return r += n.generateChars(4), r += null != i.id ? "-" + i.id.toString() : "-" + n.generateChars(4), r }, t }), t.define("select2/data/select", ["./base", "../utils", "jquery"], function (n, t, i) { function r(n, t) { this.$element = n; this.options = t; r.__super__.constructor.call(this) } return t.Extend(r, n), r.prototype.current = function (n) { var t = [], r = this; this.$element.find(":selected").each(function () { var n = i(this), u = r.item(n); t.push(u) }); n(t) }, r.prototype.select = function (n) { var t = this, r; if (n.selected = !0, i(n.element).is("option")) return n.element.selected = !0, void this.$element.trigger("change"); this.$element.prop("multiple") ? this.current(function (r) { var f = [], u, e; for (n = [n], n.push.apply(n, r), u = 0; u < n.length; u++)e = n[u].id, -1 === i.inArray(e, f) && f.push(e); t.$element.val(f); t.$element.trigger("change") }) : (r = n.id, this.$element.val(r), this.$element.trigger("change")) }, r.prototype.unselect = function (n) { var t = this; if (this.$element.prop("multiple")) { if (n.selected = !1, i(n.element).is("option")) return n.element.selected = !1, void this.$element.trigger("change"); this.current(function (r) { for (var e, u = [], f = 0; f < r.length; f++)e = r[f].id, e !== n.id && -1 === i.inArray(e, u) && u.push(e); t.$element.val(u); t.$element.trigger("change") }) } }, r.prototype.bind = function (n) { var t = this; this.container = n; n.on("select", function (n) { t.select(n.data) }); n.on("unselect", function (n) { t.unselect(n.data) }) }, r.prototype.destroy = function () { this.$element.find("*").each(function () { i.removeData(this, "data") }) }, r.prototype.query = function (n, t) { var r = [], u = this; this.$element.children().each(function () { var t = i(this), e, f; (t.is("option") || t.is("optgroup")) && (e = u.item(t), f = u.matches(n, e), null !== f && r.push(f)) }); t({ results: r }) }, r.prototype.addOptions = function (n) { t.appendMany(this.$element, n) }, r.prototype.option = function (n) { var t, u, r; return n.children ? (t = document.createElement("optgroup"), t.label = n.text) : (t = document.createElement("option"), void 0 !== t.textContent ? t.textContent = n.text : t.innerText = n.text), void 0 !== n.id && (t.value = n.id), n.disabled && (t.disabled = !0), n.selected && (t.selected = !0), n.title && (t.title = n.title), u = i(t), r = this._normalizeItem(n), r.element = t, i.data(t, "data", r), u }, r.prototype.item = function (n) { var t = {}, e, o; if (null != (t = i.data(n[0], "data"))) return t; if (n.is("option")) t = { id: n.val(), text: n.text(), disabled: n.prop("disabled"), selected: n.prop("selected"), title: n.prop("title") }; else if (n.is("optgroup")) { t = { text: n.prop("label"), children: [], title: n.prop("title") }; for (var u = n.children("option"), f = [], r = 0; r < u.length; r++)e = i(u[r]), o = this.item(e), f.push(o); t.children = f } return t = this._normalizeItem(t), t.element = n[0], i.data(n[0], "data", t), t }, r.prototype._normalizeItem = function (n) { i.isPlainObject(n) || (n = { id: n, text: n }); n = i.extend({}, { text: "" }, n); return null != n.id && (n.id = n.id.toString()), null != n.text && (n.text = n.text.toString()), null == n._resultId && n.id && null != this.container && (n._resultId = this.generateResultId(this.container, n)), i.extend({}, { selected: !1, disabled: !1 }, n) }, r.prototype.matches = function (n, t) { return this.options.get("matcher")(n, t) }, r }), t.define("select2/data/array", ["./select", "../utils", "jquery"], function (n, t, i) { function r(n, t) { var i = t.get("data") || []; r.__super__.constructor.call(this, n, t); this.addOptions(this.convertToOptions(i)) } return t.Extend(r, n), r.prototype.select = function (n) { var t = this.$element.find("option").filter(function (t, i) { return i.value == n.id.toString() }); 0 === t.length && (t = this.option(n), this.addOptions(t)); r.__super__.select.call(this, n) }, r.prototype.convertToOptions = function (n) { function c(n) { return function () { return i(this).val() == n.id } } for (var r, f, h, l = this, e = this.$element.find("option"), a = e.map(function () { return l.item(i(this)).id }).get(), o = [], u = 0; u < n.length; u++)if (r = this._normalizeItem(n[u]), i.inArray(r.id, a) >= 0) { var s = e.filter(c(r)), v = this.item(s), y = i.extend(!0, {}, r, v), p = this.option(y); s.replaceWith(p) } else f = this.option(r), r.children && (h = this.convertToOptions(r.children), t.appendMany(f, h)), o.push(f); return o }, r }), t.define("select2/data/ajax", ["./array", "../utils", "jquery"], function (n, t, i) { function r(n, t) { this.ajaxOptions = this._applyDefaults(t.get("ajax")); null != this.ajaxOptions.processResults && (this.processResults = this.ajaxOptions.processResults); r.__super__.constructor.call(this, n, t) } return t.Extend(r, n), r.prototype._applyDefaults = function (n) { var t = { data: function (n) { return i.extend({}, n, { q: n.term }) }, transport: function (n, t, r) { var u = i.ajax(n); return u.then(t), u.fail(r), u } }; return i.extend({}, t, n, !0) }, r.prototype.processResults = function (n) { return n }, r.prototype.query = function (n, t) { function f() { var f = r.transport(r, function (r) { var f = u.processResults(r, n); u.options.get("debug") && window.console && console.error && (f && f.results && i.isArray(f.results) || console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")); t(f) }, function () { f.status && "0" === f.status || u.trigger("results:message", { message: "errorLoading" }) }); u._request = f } var u = this, r; null != this._request && (i.isFunction(this._request.abort) && this._request.abort(), this._request = null); r = i.extend({ type: "GET" }, this.ajaxOptions); "function" == typeof r.url && (r.url = r.url.call(this.$element, n)); "function" == typeof r.data && (r.data = r.data.call(this.$element, n)); this.ajaxOptions.delay && null != n.term ? (this._queryTimeout && window.clearTimeout(this._queryTimeout), this._queryTimeout = window.setTimeout(f, this.ajaxOptions.delay)) : f() }, r }), t.define("select2/data/tags", ["jquery"], function (n) { function t(t, i, r) { var f = r.get("tags"), o = r.get("createTag"), e, u; if (void 0 !== o && (this.createTag = o), e = r.get("insertTag"), void 0 !== e && (this.insertTag = e), t.call(this, i, r), n.isArray(f)) for (u = 0; u < f.length; u++) { var s = f[u], h = this._normalizeItem(s), c = this.option(h); this.$element.append(c) } } return t.prototype.query = function (n, t, i) { function u(n, f) { for (var s, l, h, c, e = n.results, o = 0; o < e.length; o++)if (s = e[o], l = null != s.children && !u({ results: s.children }, !0), (s.text || "").toUpperCase() === (t.term || "").toUpperCase() || l) return !f && (n.data = e, void i(n)); if (f) return !0; h = r.createTag(t); null != h && (c = r.option(h), c.attr("data-select2-tag", !0), r.addOptions([c]), r.insertTag(e, h)); n.results = e; i(n) } var r = this; if (this._removeOldTags(), null == t.term || null != t.page) return void n.call(this, t, i); n.call(this, t, u) }, t.prototype.createTag = function (t, i) { var r = n.trim(i.term); return "" === r ? null : { id: r, text: r } }, t.prototype.insertTag = function (n, t, i) { t.unshift(i) }, t.prototype._removeOldTags = function () { this._lastTag; this.$element.find("option[data-select2-tag]").each(function () { this.selected || n(this).remove() }) }, t }), t.define("select2/data/tokenizer", ["jquery"], function (n) { function t(n, t, i) { var r = i.get("tokenizer"); void 0 !== r && (this.tokenizer = r); n.call(this, t, i) } return t.prototype.bind = function (n, t, i) { n.call(this, t, i); this.$search = t.dropdown.$search || t.selection.$search || i.find(".select2-search__field") }, t.prototype.query = function (t, i, r) { function e(t) { var i = u._normalizeItem(t), r; u.$element.find("option").filter(function () { return n(this).val() === i.id }).length || (r = u.option(i), r.attr("data-select2-tag", !0), u._removeOldTags(), u.addOptions([r])); o(i) } function o(n) { u.trigger("select", { data: n }) } var u = this, f; i.term = i.term || ""; f = this.tokenizer(i, this.options, e); f.term !== i.term && (this.$search.length && (this.$search.val(f.term), this.$search.focus()), i.term = f.term); t.call(this, i, r) }, t.prototype.tokenizer = function (t, i, r, u) { for (var o, h = r.get("tokenSeparators") || [], e = i.term, f = 0, c = this.createTag || function (n) { return { id: n.term, text: n.term } }; f < e.length;)if (o = e[f], -1 !== n.inArray(o, h)) { var l = e.substr(0, f), a = n.extend({}, i, { term: l }), s = c(a); null != s ? (u(s), e = e.substr(f + 1) || "", f = 0) : f++ } else f++; return { term: e } }, t }), t.define("select2/data/minimumInputLength", [], function () { function n(n, t, i) { this.minimumInputLength = i.get("minimumInputLength"); n.call(this, t, i) } return n.prototype.query = function (n, t, i) { if (t.term = t.term || "", t.term.length < this.minimumInputLength) return void this.trigger("results:message", { message: "inputTooShort", args: { minimum: this.minimumInputLength, input: t.term, params: t } }); n.call(this, t, i) }, n }), t.define("select2/data/maximumInputLength", [], function () { function n(n, t, i) { this.maximumInputLength = i.get("maximumInputLength"); n.call(this, t, i) } return n.prototype.query = function (n, t, i) { if (t.term = t.term || "", this.maximumInputLength > 0 && t.term.length > this.maximumInputLength) return void this.trigger("results:message", { message: "inputTooLong", args: { maximum: this.maximumInputLength, input: t.term, params: t } }); n.call(this, t, i) }, n }), t.define("select2/data/maximumSelectionLength", [], function () { function n(n, t, i) { this.maximumSelectionLength = i.get("maximumSelectionLength"); n.call(this, t, i) } return n.prototype.query = function (n, t, i) { var r = this; this.current(function (u) { var f = null != u ? u.length : 0; if (r.maximumSelectionLength > 0 && f >= r.maximumSelectionLength) return void r.trigger("results:message", { message: "maximumSelected", args: { maximum: r.maximumSelectionLength } }); n.call(r, t, i) }) }, n }), t.define("select2/dropdown", ["jquery", "./utils"], function (n, t) { function i(n, t) { this.$element = n; this.options = t; i.__super__.constructor.call(this) } return t.Extend(i, t.Observable), i.prototype.render = function () { var t = n('<span class="select2-dropdown"><span class="select2-results"><\/span><\/span>'); return t.attr("dir", this.options.get("dir")), this.$dropdown = t, t }, i.prototype.bind = function () { }, i.prototype.position = function () { }, i.prototype.destroy = function () { this.$dropdown.remove() }, i }), t.define("select2/dropdown/search", ["jquery", "../utils"], function (n) { function t() { } return t.prototype.render = function (t) { var r = t.call(this), i = n('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /><\/span>'); return this.$searchContainer = i, this.$search = i.find("input"), r.prepend(i), r }, t.prototype.bind = function (t, i, r) { var u = this; t.call(this, i, r); this.$search.on("keydown", function (n) { u.trigger("keypress", n); u._keyUpPrevented = n.isDefaultPrevented() }); this.$search.on("input", function () { n(this).off("keyup") }); this.$search.on("keyup input", function (n) { u.handleSearch(n) }); i.on("open", function () { u.$search.attr("tabindex", 0); u.$search.focus(); window.setTimeout(function () { u.$search.focus() }, 0) }); i.on("close", function () { u.$search.attr("tabindex", -1); u.$search.val("") }); i.on("focus", function () { i.isOpen() || u.$search.focus() }); i.on("results:all", function (n) { (null == n.query.term || "" === n.query.term) && (u.showSearch(n) ? u.$searchContainer.removeClass("select2-search--hide") : u.$searchContainer.addClass("select2-search--hide")) }) }, t.prototype.handleSearch = function () { if (!this._keyUpPrevented) { var n = this.$search.val(); this.trigger("query", { term: n }) } this._keyUpPrevented = !1 }, t.prototype.showSearch = function () { return !0 }, t }), t.define("select2/dropdown/hidePlaceholder", [], function () { function n(n, t, i, r) { this.placeholder = this.normalizePlaceholder(i.get("placeholder")); n.call(this, t, i, r) } return n.prototype.append = function (n, t) { t.results = this.removePlaceholder(t.results); n.call(this, t) }, n.prototype.normalizePlaceholder = function (n, t) { return "string" == typeof t && (t = { id: "", text: t }), t }, n.prototype.removePlaceholder = function (n, t) { for (var u, r = t.slice(0), i = t.length - 1; i >= 0; i--)u = t[i], this.placeholder.id === u.id && r.splice(i, 1); return r }, n }), t.define("select2/dropdown/infiniteScroll", ["jquery"], function (n) { function t(n, t, i, r) { this.lastParams = {}; n.call(this, t, i, r); this.$loadingMore = this.createLoadingMore(); this.loading = !1 } return t.prototype.append = function (n, t) { this.$loadingMore.remove(); this.loading = !1; n.call(this, t); this.showLoadingMore(t) && this.$results.append(this.$loadingMore) }, t.prototype.bind = function (t, i, r) { var u = this; t.call(this, i, r); i.on("query", function (n) { u.lastParams = n; u.loading = !0 }); i.on("query:append", function (n) { u.lastParams = n; u.loading = !0 }); this.$results.on("scroll", function () { var t = n.contains(document.documentElement, u.$loadingMore[0]); !u.loading && t && u.$results.offset().top + u.$results.outerHeight(!1) + 50 >= u.$loadingMore.offset().top + u.$loadingMore.outerHeight(!1) && u.loadMore() }) }, t.prototype.loadMore = function () { this.loading = !0; var t = n.extend({}, { page: 1 }, this.lastParams); t.page++; this.trigger("query:append", t) }, t.prototype.showLoadingMore = function (n, t) { return t.pagination && t.pagination.more }, t.prototype.createLoadingMore = function () { var t = n('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"><\/li>'), i = this.options.get("translations").get("loadingMore"); return t.html(i(this.lastParams)), t }, t }), t.define("select2/dropdown/attachBody", ["jquery", "../utils"], function (n, t) { function i(t, i, r) { this.$dropdownParent = r.get("dropdownParent") || n(document.body); t.call(this, i, r) } return i.prototype.bind = function (n, t, i) { var r = this, u = !1; n.call(this, t, i); t.on("open", function () { r._showDropdown(); r._attachPositioningHandler(t); u || (u = !0, t.on("results:all", function () { r._positionDropdown(); r._resizeDropdown() }), t.on("results:append", function () { r._positionDropdown(); r._resizeDropdown() })) }); t.on("close", function () { r._hideDropdown(); r._detachPositioningHandler(t) }); this.$dropdownContainer.on("mousedown", function (n) { n.stopPropagation() }) }, i.prototype.destroy = function (n) { n.call(this); this.$dropdownContainer.remove() }, i.prototype.position = function (n, t, i) { t.attr("class", i.attr("class")); t.removeClass("select2"); t.addClass("select2-container--open"); t.css({ position: "absolute", top: -999999 }); this.$container = i }, i.prototype.render = function (t) { var i = n("<span><\/span>"), r = t.call(this); return i.append(r), this.$dropdownContainer = i, i }, i.prototype._hideDropdown = function () { this.$dropdownContainer.detach() }, i.prototype._attachPositioningHandler = function (i, r) { var u = this, f = "scroll.select2." + r.id, o = "resize.select2." + r.id, s = "orientationchange.select2." + r.id, e = this.$container.parents().filter(t.hasScroll); e.each(function () { n(this).data("select2-scroll-position", { x: n(this).scrollLeft(), y: n(this).scrollTop() }) }); e.on(f, function () { var t = n(this).data("select2-scroll-position"); n(this).scrollTop(t.y) }); n(window).on(f + " " + o + " " + s, function () { u._positionDropdown(); u._resizeDropdown() }) }, i.prototype._detachPositioningHandler = function (i, r) { var u = "scroll.select2." + r.id, f = "resize.select2." + r.id, e = "orientationchange.select2." + r.id; this.$container.parents().filter(t.hasScroll).off(u); n(window).off(u + " " + f + " " + e) }, i.prototype._positionDropdown = function () { var s = n(window), u = this.$dropdown.hasClass("select2-dropdown--above"), v = this.$dropdown.hasClass("select2-dropdown--below"), t = null, i = this.$container.offset(), r, o; i.bottom = i.top + this.$container.outerHeight(!1); r = { height: this.$container.outerHeight(!1) }; r.top = i.top; r.bottom = i.top + r.height; var h = { height: this.$dropdown.outerHeight(!1) }, c = { top: s.scrollTop(), bottom: s.scrollTop() + s.height() }, l = c.top < i.top - h.height, a = c.bottom > i.bottom + h.height, f = { left: i.left, top: r.bottom }, e = this.$dropdownParent; "static" === e.css("position") && (e = e.offsetParent()); o = e.offset(); f.top -= o.top; f.left -= o.left; u || v || (t = "below"); a || !l || u ? !l && a && u && (t = "below") : t = "above"; ("above" == t || u && "below" !== t) && (f.top = r.top - o.top - h.height); null != t && (this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--" + t), this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--" + t)); this.$dropdownContainer.css(f) }, i.prototype._resizeDropdown = function () { var n = { width: this.$container.outerWidth(!1) + "px" }; this.options.get("dropdownAutoWidth") && (n.minWidth = n.width, n.position = "relative", n.width = "auto"); this.$dropdown.css(n) }, i.prototype._showDropdown = function () { this.$dropdownContainer.appendTo(this.$dropdownParent); this._positionDropdown(); this._resizeDropdown() }, i }), t.define("select2/dropdown/minimumResultsForSearch", [], function () { function n(t) { for (var u, i = 0, r = 0; r < t.length; r++)u = t[r], u.children ? i += n(u.children) : i++; return i } function t(n, t, i, r) { this.minimumResultsForSearch = i.get("minimumResultsForSearch"); this.minimumResultsForSearch < 0 && (this.minimumResultsForSearch = 1 / 0); n.call(this, t, i, r) } return t.prototype.showSearch = function (t, i) { return !(n(i.data.results) < this.minimumResultsForSearch) && t.call(this, i) }, t }), t.define("select2/dropdown/selectOnClose", [], function () { function n() { } return n.prototype.bind = function (n, t, i) { var r = this; n.call(this, t, i); t.on("close", function (n) { r._handleSelectOnClose(n) }) }, n.prototype._handleSelectOnClose = function (n, t) { var r, u, i; t && null != t.originalSelect2Event && (r = t.originalSelect2Event, "select" === r._type || "unselect" === r._type) || (u = this.getHighlightedResults(), u.length < 1 || (i = u.data("data"), null != i.element && i.element.selected || null == i.element && i.selected || this.trigger("select", { data: i }))) }, n }), t.define("select2/dropdown/closeOnSelect", [], function () { function n() { } return n.prototype.bind = function (n, t, i) { var r = this; n.call(this, t, i); t.on("select", function (n) { r._selectTriggered(n) }); t.on("unselect", function (n) { r._selectTriggered(n) }) }, n.prototype._selectTriggered = function (n, t) { var i = t.originalEvent; i && i.ctrlKey || this.trigger("close", { originalEvent: i, originalSelect2Event: t }) }, n }), t.define("select2/i18n/en", [], function () { return { errorLoading: function () { return "The results could not be loaded." }, inputTooLong: function (n) { var t = n.input.length - n.maximum, i = "Please delete " + t + " character"; return 1 != t && (i += "s"), i }, inputTooShort: function (n) { return "Please enter " + (n.minimum - n.input.length) + " or more characters" }, loadingMore: function () { return "Loading more results…" }, maximumSelected: function (n) { var t = "You can only select " + n.maximum + " item"; return 1 != n.maximum && (t += "s"), t }, noResults: function () { return "No results found" }, searching: function () { return "Searching…" } } }), t.define("select2/defaults", ["jquery", "require", "./results", "./selection/single", "./selection/multiple", "./selection/placeholder", "./selection/allowClear", "./selection/search", "./selection/eventRelay", "./utils", "./translation", "./diacritics", "./data/select", "./data/array", "./data/ajax", "./data/tags", "./data/tokenizer", "./data/minimumInputLength", "./data/maximumInputLength", "./data/maximumSelectionLength", "./dropdown", "./dropdown/search", "./dropdown/hidePlaceholder", "./dropdown/infiniteScroll", "./dropdown/attachBody", "./dropdown/minimumResultsForSearch", "./dropdown/selectOnClose", "./dropdown/closeOnSelect", "./i18n/en"], function (n, t, i, r, u, f, e, o, s, h, c, l, a, v, y, p, w, b, k, d, g, nt, tt, it, rt, ut, ft, et, ot) { function st() { this.reset() } return st.prototype.apply = function (l) { var vt, yt, pt, wt, bt, kt, dt, ct, lt, st, ot, ht, gt, at; if ((l = n.extend(!0, {}, this.defaults, l), null == l.dataAdapter) && ((l.dataAdapter = null != l.ajax ? y : null != l.data ? v : a, l.minimumInputLength > 0 && (l.dataAdapter = h.Decorate(l.dataAdapter, b)), l.maximumInputLength > 0 && (l.dataAdapter = h.Decorate(l.dataAdapter, k)), l.maximumSelectionLength > 0 && (l.dataAdapter = h.Decorate(l.dataAdapter, d)), l.tags && (l.dataAdapter = h.Decorate(l.dataAdapter, p)), null == l.tokenSeparators && null == l.tokenizer || (l.dataAdapter = h.Decorate(l.dataAdapter, w)), null != l.query) && (vt = t(l.amdBase + "compat/query"), l.dataAdapter = h.Decorate(l.dataAdapter, vt)), null != l.initSelection && (yt = t(l.amdBase + "compat/initSelection"), l.dataAdapter = h.Decorate(l.dataAdapter, yt))), (null == l.resultsAdapter && (l.resultsAdapter = i, null != l.ajax && (l.resultsAdapter = h.Decorate(l.resultsAdapter, it)), null != l.placeholder && (l.resultsAdapter = h.Decorate(l.resultsAdapter, tt)), l.selectOnClose && (l.resultsAdapter = h.Decorate(l.resultsAdapter, ft))), null == l.dropdownAdapter) && (l.multiple ? l.dropdownAdapter = g : (pt = h.Decorate(g, nt), l.dropdownAdapter = pt), (0 !== l.minimumResultsForSearch && (l.dropdownAdapter = h.Decorate(l.dropdownAdapter, ut)), l.closeOnSelect && (l.dropdownAdapter = h.Decorate(l.dropdownAdapter, et)), null != l.dropdownCssClass || null != l.dropdownCss || null != l.adaptDropdownCssClass) && (wt = t(l.amdBase + "compat/dropdownCss"), l.dropdownAdapter = h.Decorate(l.dropdownAdapter, wt)), l.dropdownAdapter = h.Decorate(l.dropdownAdapter, rt)), null == l.selectionAdapter && ((l.selectionAdapter = l.multiple ? u : r, null != l.placeholder && (l.selectionAdapter = h.Decorate(l.selectionAdapter, f)), l.allowClear && (l.selectionAdapter = h.Decorate(l.selectionAdapter, e)), l.multiple && (l.selectionAdapter = h.Decorate(l.selectionAdapter, o)), null != l.containerCssClass || null != l.containerCss || null != l.adaptContainerCssClass) && (bt = t(l.amdBase + "compat/containerCss"), l.selectionAdapter = h.Decorate(l.selectionAdapter, bt)), l.selectionAdapter = h.Decorate(l.selectionAdapter, s)), "string" == typeof l.language && (l.language.indexOf("-") > 0 ? (kt = l.language.split("-"), dt = kt[0], l.language = [l.language, dt]) : l.language = [l.language]), n.isArray(l.language)) { for (ct = new c, l.language.push("en"), lt = l.language, st = 0; st < lt.length; st++) { ot = lt[st]; ht = {}; try { ht = c.loadPath(ot) } catch (n) { try { ot = this.defaults.amdLanguageBase + ot; ht = c.loadPath(ot) } catch (n) { l.debug && window.console && console.warn && console.warn('Select2: The language file for "' + ot + '" could not be automatically loaded. A fallback will be used instead.'); continue } } ct.extend(ht) } l.translations = ct } else gt = c.loadPath(this.defaults.amdLanguageBase + "en"), at = new c(l.language), at.extend(gt), l.translations = at; return l }, st.prototype.reset = function () { function i(n) { function t(n) { return l[n] || n } return n.replace(/[^\u0000-\u007E]/g, t) } function t(r, u) { var f, e, o, s; if ("" === n.trim(r.term)) return u; if (u.children && u.children.length > 0) { for (f = n.extend(!0, {}, u), e = u.children.length - 1; e >= 0; e--)null == t(r, u.children[e]) && f.children.splice(e, 1); return f.children.length > 0 ? f : t(r, f) } return o = i(u.text).toUpperCase(), s = i(r.term).toUpperCase(), o.indexOf(s) > -1 ? u : null } this.defaults = { amdBase: "./", amdLanguageBase: "./i18n/", closeOnSelect: !0, debug: !1, dropdownAutoWidth: !1, escapeMarkup: h.escapeMarkup, language: ot, matcher: t, minimumInputLength: 0, maximumInputLength: 0, maximumSelectionLength: 0, minimumResultsForSearch: 0, selectOnClose: !1, sorter: function (n) { return n }, templateResult: function (n) { return n.text }, templateSelection: function (n) { return n.text }, theme: "default", width: "resolve" } }, st.prototype.set = function (t, i) { var f = n.camelCase(t), r = {}, u; r[f] = i; u = h._convertData(r); n.extend(this.defaults, u) }, new st }), t.define("select2/options", ["require", "jquery", "./defaults", "./utils"], function (n, t, i, r) { function u(t, u) { if (this.options = t, null != u && this.fromElement(u), this.options = i.apply(this.options), u && u.is("input")) { var f = n(this.get("amdBase") + "compat/inputData"); this.options.dataAdapter = r.Decorate(this.options.dataAdapter, f) } } return u.prototype.fromElement = function (n) { var e = ["select2"], f, u, i; null == this.options.multiple && (this.options.multiple = n.prop("multiple")); null == this.options.disabled && (this.options.disabled = n.prop("disabled")); null == this.options.language && (n.prop("lang") ? this.options.language = n.prop("lang").toLowerCase() : n.closest("[lang]").prop("lang") && (this.options.language = n.closest("[lang]").prop("lang"))); null == this.options.dir && (this.options.dir = n.prop("dir") ? n.prop("dir") : n.closest("[dir]").prop("dir") ? n.closest("[dir]").prop("dir") : "ltr"); n.prop("disabled", this.options.disabled); n.prop("multiple", this.options.multiple); n.data("select2Tags") && (this.options.debug && window.console && console.warn && console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'), n.data("data", n.data("select2Tags")), n.data("tags", !0)); n.data("ajaxUrl") && (this.options.debug && window.console && console.warn && console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."), n.attr("ajax--url", n.data("ajaxUrl")), n.data("ajax--url", n.data("ajaxUrl"))); f = {}; f = t.fn.jquery && "1." == t.fn.jquery.substr(0, 2) && n[0].dataset ? t.extend(!0, {}, n[0].dataset, n.data()) : n.data(); u = t.extend(!0, {}, f); u = r._convertData(u); for (i in u) t.inArray(i, e) > -1 || (t.isPlainObject(this.options[i]) ? t.extend(this.options[i], u[i]) : this.options[i] = u[i]); return this }, u.prototype.get = function (n) { return this.options[n] }, u.prototype.set = function (n, t) { this.options[n] = t }, u }), t.define("select2/core", ["jquery", "./options", "./utils", "./keys"], function (n, t, i, r) { var u = function (n, i) { var f, e, r, o, s, h, c; null != n.data("select2") && n.data("select2").destroy(); this.$element = n; this.id = this._generateId(n); i = i || {}; this.options = new t(i, n); u.__super__.constructor.call(this); f = n.attr("tabindex") || 0; n.data("old-tabindex", f); n.attr("tabindex", "-1"); e = this.options.get("dataAdapter"); this.dataAdapter = new e(n, this.options); r = this.render(); this._placeContainer(r); o = this.options.get("selectionAdapter"); this.selection = new o(n, this.options); this.$selection = this.selection.render(); this.selection.position(this.$selection, r); s = this.options.get("dropdownAdapter"); this.dropdown = new s(n, this.options); this.$dropdown = this.dropdown.render(); this.dropdown.position(this.$dropdown, r); h = this.options.get("resultsAdapter"); this.results = new h(n, this.options, this.dataAdapter); this.$results = this.results.render(); this.results.position(this.$results, this.$dropdown); c = this; this._bindAdapters(); this._registerDomEvents(); this._registerDataEvents(); this._registerSelectionEvents(); this._registerDropdownEvents(); this._registerResultsEvents(); this._registerEvents(); this.dataAdapter.current(function (n) { c.trigger("selection:update", { data: n }) }); n.addClass("select2-hidden-accessible"); n.attr("aria-hidden", "true"); this._syncAttributes(); n.data("select2", this) }; return i.Extend(u, i.Observable), u.prototype._generateId = function (n) { var t = ""; return t = null != n.attr("id") ? n.attr("id") : null != n.attr("name") ? n.attr("name") + "-" + i.generateChars(2) : i.generateChars(4), t = t.replace(/(:|\.|\[|\]|,)/g, ""), t = "select2-" + t }, u.prototype._placeContainer = function (n) { n.insertAfter(this.$element); var t = this._resolveWidth(this.$element, this.options.get("width")); null != t && n.css("width", t) }, u.prototype._resolveWidth = function (n, t) { var r, u, f, s, i; if ("resolve" == t) return r = this._resolveWidth(n, "style"), null != r ? r : this._resolveWidth(n, "element"); if ("element" == t) return u = n.outerWidth(!1), u <= 0 ? "auto" : u + "px"; if ("style" == t) { if (f = n.attr("style"), "string" != typeof f) return null; for (var o = f.split(";"), e = 0, h = o.length; e < h; e += 1)if (s = o[e].replace(/\s/g, ""), i = s.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i), null !== i && i.length >= 1) return i[1]; return null } return t }, u.prototype._bindAdapters = function () { this.dataAdapter.bind(this, this.$container); this.selection.bind(this, this.$container); this.dropdown.bind(this, this.$container); this.results.bind(this, this.$container) }, u.prototype._registerDomEvents = function () { var t = this, r; this.$element.on("change.select2", function () { t.dataAdapter.current(function (n) { t.trigger("selection:update", { data: n }) }) }); this.$element.on("focus.select2", function (n) { t.trigger("focus", n) }); this._syncA = i.bind(this._syncAttributes, this); this._syncS = i.bind(this._syncSubtree, this); this.$element[0].attachEvent && this.$element[0].attachEvent("onpropertychange", this._syncA); r = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver; null != r ? (this._observer = new r(function (i) { n.each(i, t._syncA); n.each(i, t._syncS) }), this._observer.observe(this.$element[0], { attributes: !0, childList: !0, subtree: !1 })) : this.$element[0].addEventListener && (this.$element[0].addEventListener("DOMAttrModified", t._syncA, !1), this.$element[0].addEventListener("DOMNodeInserted", t._syncS, !1), this.$element[0].addEventListener("DOMNodeRemoved", t._syncS, !1)) }, u.prototype._registerDataEvents = function () { var n = this; this.dataAdapter.on("*", function (t, i) { n.trigger(t, i) }) }, u.prototype._registerSelectionEvents = function () { var t = this, i = ["toggle", "focus"]; this.selection.on("toggle", function () { t.toggleDropdown() }); this.selection.on("focus", function (n) { t.focus(n) }); this.selection.on("*", function (r, u) { -1 === n.inArray(r, i) && t.trigger(r, u) }) }, u.prototype._registerDropdownEvents = function () { var n = this; this.dropdown.on("*", function (t, i) { n.trigger(t, i) }) }, u.prototype._registerResultsEvents = function () { var n = this; this.results.on("*", function (t, i) { n.trigger(t, i) }) }, u.prototype._registerEvents = function () { var n = this; this.on("open", function () { n.$container.addClass("select2-container--open") }); this.on("close", function () { n.$container.removeClass("select2-container--open") }); this.on("enable", function () { n.$container.removeClass("select2-container--disabled") }); this.on("disable", function () { n.$container.addClass("select2-container--disabled") }); this.on("blur", function () { n.$container.removeClass("select2-container--focus") }); this.on("query", function (t) { n.isOpen() || n.trigger("open", {}); this.dataAdapter.query(t, function (i) { n.trigger("results:all", { data: i, query: t }) }) }); this.on("query:append", function (t) { this.dataAdapter.query(t, function (i) { n.trigger("results:append", { data: i, query: t }) }) }); this.on("keypress", function (t) { var i = t.which; n.isOpen() ? i === r.ESC || i === r.TAB || i === r.UP && t.altKey ? (n.close(), t.preventDefault()) : i === r.ENTER ? (n.trigger("results:select", {}), t.preventDefault()) : i === r.SPACE && t.ctrlKey ? (n.trigger("results:toggle", {}), t.preventDefault()) : i === r.UP ? (n.trigger("results:previous", {}), t.preventDefault()) : i === r.DOWN && (n.trigger("results:next", {}), t.preventDefault()) : (i === r.ENTER || i === r.SPACE || i === r.DOWN && t.altKey) && (n.open(), t.preventDefault()) }) }, u.prototype._syncAttributes = function () { this.options.set("disabled", this.$element.prop("disabled")); this.options.get("disabled") ? (this.isOpen() && this.close(), this.trigger("disable", {})) : this.trigger("enable", {}) }, u.prototype._syncSubtree = function (n, t) { var i = !1, f = this, r, u; if (!n || !n.target || "OPTION" === n.target.nodeName || "OPTGROUP" === n.target.nodeName) { if (t) if (t.addedNodes && t.addedNodes.length > 0) for (r = 0; r < t.addedNodes.length; r++)u = t.addedNodes[r], u.selected && (i = !0); else t.removedNodes && t.removedNodes.length > 0 && (i = !0); else i = !0; i && this.dataAdapter.current(function (n) { f.trigger("selection:update", { data: n }) }) } }, u.prototype.trigger = function (n, t) { var r = u.__super__.trigger, f = { open: "opening", close: "closing", select: "selecting", unselect: "unselecting" }, e, i; if ((void 0 === t && (t = {}), n in f) && (e = f[n], i = { prevented: !1, name: n, args: t }, r.call(this, e, i), i.prevented)) return void (t.prevented = !0); r.call(this, n, t) }, u.prototype.toggleDropdown = function () { this.options.get("disabled") || (this.isOpen() ? this.close() : this.open()) }, u.prototype.open = function () { this.isOpen() || this.trigger("query", {}) }, u.prototype.close = function () { this.isOpen() && this.trigger("close", {}) }, u.prototype.isOpen = function () { return this.$container.hasClass("select2-container--open") }, u.prototype.hasFocus = function () { return this.$container.hasClass("select2-container--focus") }, u.prototype.focus = function () { this.hasFocus() || (this.$container.addClass("select2-container--focus"), this.trigger("focus", {})) }, u.prototype.enable = function (n) { this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'); null != n && 0 !== n.length || (n = [!0]); var t = !n[0]; this.$element.prop("disabled", t) }, u.prototype.data = function () { this.options.get("debug") && arguments.length > 0 && window.console && console.warn && console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.'); var n = []; return this.dataAdapter.current(function (t) { n = t }), n }, u.prototype.val = function (t) { if (this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'), null == t || 0 === t.length) return this.$element.val(); var i = t[0]; n.isArray(i) && (i = n.map(i, function (n) { return n.toString() })); this.$element.val(i).trigger("change") }, u.prototype.destroy = function () { this.$container.remove(); this.$element[0].detachEvent && this.$element[0].detachEvent("onpropertychange", this._syncA); null != this._observer ? (this._observer.disconnect(), this._observer = null) : this.$element[0].removeEventListener && (this.$element[0].removeEventListener("DOMAttrModified", this._syncA, !1), this.$element[0].removeEventListener("DOMNodeInserted", this._syncS, !1), this.$element[0].removeEventListener("DOMNodeRemoved", this._syncS, !1)); this._syncA = null; this._syncS = null; this.$element.off(".select2"); this.$element.attr("tabindex", this.$element.data("old-tabindex")); this.$element.removeClass("select2-hidden-accessible"); this.$element.attr("aria-hidden", "false"); this.$element.removeData("select2"); this.dataAdapter.destroy(); this.selection.destroy(); this.dropdown.destroy(); this.results.destroy(); this.dataAdapter = null; this.selection = null; this.dropdown = null; this.results = null }, u.prototype.render = function () { var t = n('<span class="select2 select2-container"><span class="selection"><\/span><span class="dropdown-wrapper" aria-hidden="true"><\/span><\/span>'); return t.attr("dir", this.options.get("dir")), this.$container = t, this.$container.addClass("select2-container--" + this.options.get("theme")), t.data("element", this.$element), t }, u }), t.define("select2/compat/utils", ["jquery"], function (n) { function t(t, i, r) { var u, e, f = []; u = n.trim(t.attr("class")); u && (u = "" + u, n(u.split(/\s+/)).each(function () { 0 === this.indexOf("select2-") && f.push(this) })); u = n.trim(i.attr("class")); u && (u = "" + u, n(u.split(/\s+/)).each(function () { 0 !== this.indexOf("select2-") && null != (e = r(this)) && f.push(e) })); t.attr("class", f.join(" ")) } return { syncCssClasses: t } }), t.define("select2/compat/containerCss", ["jquery", "./utils"], function (n, t) { function r() { return null } function i() { } return i.prototype.render = function (i) { var o = i.call(this), u = this.options.get("containerCssClass") || "", f, s, e; return n.isFunction(u) && (u = u(this.$element)), f = this.options.get("adaptContainerCssClass"), (f = f || r, -1 !== u.indexOf(":all:")) && (u = u.replace(":all:", ""), s = f, f = function (n) { var t = s(n); return null != t ? t + " " + n : n }), e = this.options.get("containerCss") || {}, n.isFunction(e) && (e = e(this.$element)), t.syncCssClasses(o, this.$element, f), o.css(e), o.addClass(u), o }, i }), t.define("select2/compat/dropdownCss", ["jquery", "./utils"], function (n, t) { function r() { return null } function i() { } return i.prototype.render = function (i) { var o = i.call(this), u = this.options.get("dropdownCssClass") || "", f, s, e; return n.isFunction(u) && (u = u(this.$element)), f = this.options.get("adaptDropdownCssClass"), (f = f || r, -1 !== u.indexOf(":all:")) && (u = u.replace(":all:", ""), s = f, f = function (n) { var t = s(n); return null != t ? t + " " + n : n }), e = this.options.get("dropdownCss") || {}, n.isFunction(e) && (e = e(this.$element)), t.syncCssClasses(o, this.$element, f), o.css(e), o.addClass(u), o }, i }), t.define("select2/compat/initSelection", ["jquery"], function (n) { function t(n, t, i) { i.get("debug") && window.console && console.warn && console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"); this.initSelection = i.get("initSelection"); this._isInitialized = !1; n.call(this, t, i) } return t.prototype.current = function (t, i) { var r = this; if (this._isInitialized) return void t.call(this, i); this.initSelection.call(null, this.$element, function (t) { r._isInitialized = !0; n.isArray(t) || (t = [t]); i(t) }) }, t }), t.define("select2/compat/inputData", ["jquery"], function (n) { function t(n, t, i) { this._currentData = []; this._valueSeparator = i.get("valueSeparator") || ","; "hidden" === t.prop("type") && i.get("debug") && console && console.warn && console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."); n.call(this, t, i) } return t.prototype.current = function (t, i) { function f(t, i) { var r = []; return t.selected || -1 !== n.inArray(t.id, i) ? (t.selected = !0, r.push(t)) : t.selected = !1, t.children && r.push.apply(r, f(t.children, i)), r } for (var e, r = [], u = 0; u < this._currentData.length; u++)e = this._currentData[u], r.push.apply(r, f(e, this.$element.val().split(this._valueSeparator))); i(r) }, t.prototype.select = function (t, i) { if (this.options.get("multiple")) { var r = this.$element.val(); r += this._valueSeparator + i.id; this.$element.val(r); this.$element.trigger("change") } else this.current(function (t) { n.map(t, function (n) { n.selected = !1 }) }), this.$element.val(i.id), this.$element.trigger("change") }, t.prototype.unselect = function (n, t) { var i = this; t.selected = !1; this.current(function (n) { for (var f, u = [], r = 0; r < n.length; r++)f = n[r], t.id != f.id && u.push(f.id); i.$element.val(u.join(i._valueSeparator)); i.$element.trigger("change") }) }, t.prototype.query = function (n, t, i) { for (var e, f, u = [], r = 0; r < this._currentData.length; r++)e = this._currentData[r], f = this.matches(t, e), null !== f && u.push(f); i({ results: u }) }, t.prototype.addOptions = function (t, i) { var r = n.map(i, function (t) { return n.data(t[0], "data") }); this._currentData.push.apply(this._currentData, r) }, t }), t.define("select2/compat/matcher", ["jquery"], function (n) { function t(t) { function i(i, r) { var u = n.extend(!0, {}, r), f, e; if (null == i.term || "" === n.trim(i.term)) return u; if (r.children) { for (f = r.children.length - 1; f >= 0; f--)e = r.children[f], t(i.term, e.text, e) || u.children.splice(f, 1); if (u.children.length > 0) return u } return t(i.term, r.text, r) ? u : null } return i } return t }), t.define("select2/compat/query", [], function () { function n(n, t, i) { i.get("debug") && window.console && console.warn && console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."); n.call(this, t, i) } return n.prototype.query = function (n, t, i) { t.callback = i; this.options.get("query").call(null, t) }, n }), t.define("select2/dropdown/attachContainer", [], function () { function n(n, t, i) { n.call(this, t, i) } return n.prototype.position = function (n, t, i) { i.find(".dropdown-wrapper").append(t); t.addClass("select2-dropdown--below"); i.addClass("select2-container--below") }, n }), t.define("select2/dropdown/stopPropagation", [], function () { function n() { } return n.prototype.bind = function (n, t, i) { n.call(this, t, i); this.$dropdown.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart", function (n) { n.stopPropagation() }) }, n }), t.define("select2/selection/stopPropagation", [], function () { function n() { } return n.prototype.bind = function (n, t, i) { n.call(this, t, i); this.$selection.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart", function (n) { n.stopPropagation() }) }, n }), function (i) { "function" == typeof t.define && t.define.amd ? t.define("jquery-mousewheel", ["jquery"], i) : "object" == typeof exports ? module.exports = i : i(n) }(function (n) { function u(r) { var u = r || window.event, w = c.call(arguments, 1), l = 0, s = 0, e = 0, a = 0, b = 0, k = 0, v, y, p; if (r = n.event.fix(u), r.type = "mousewheel", "detail" in u && (e = -1 * u.detail), "wheelDelta" in u && (e = u.wheelDelta), "wheelDeltaY" in u && (e = u.wheelDeltaY), "wheelDeltaX" in u && (s = -1 * u.wheelDeltaX), "axis" in u && u.axis === u.HORIZONTAL_AXIS && (s = -1 * e, e = 0), l = 0 === e ? s : e, "deltaY" in u && (e = -1 * u.deltaY, l = e), "deltaX" in u && (s = u.deltaX, 0 === e && (l = -1 * s)), 0 !== e || 0 !== s) return 1 === u.deltaMode ? (v = n.data(this, "mousewheel-line-height"), l *= v, e *= v, s *= v) : 2 === u.deltaMode && (y = n.data(this, "mousewheel-page-height"), l *= y, e *= y, s *= y), (a = Math.max(Math.abs(e), Math.abs(s)), (!t || a < t) && (t = a, o(u, a) && (t /= 40)), o(u, a) && (l /= 40, s /= 40, e /= 40), l = Math[l >= 1 ? "floor" : "ceil"](l / t), s = Math[s >= 1 ? "floor" : "ceil"](s / t), e = Math[e >= 1 ? "floor" : "ceil"](e / t), i.settings.normalizeOffset && this.getBoundingClientRect) && (p = this.getBoundingClientRect(), b = r.clientX - p.left, k = r.clientY - p.top), r.deltaX = s, r.deltaY = e, r.deltaFactor = t, r.offsetX = b, r.offsetY = k, r.deltaMode = 0, w.unshift(r, l, s, e), f && clearTimeout(f), f = setTimeout(h, 200), (n.event.dispatch || n.event.handle).apply(this, w) } function h() { t = null } function o(n, t) { return i.settings.adjustOldDeltas && "mousewheel" === n.type && t % 120 == 0 } var f, t, s = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"], r = "onwheel" in document || document.documentMode >= 9 ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"], c = Array.prototype.slice, e, i; if (n.event.fixHooks) for (e = s.length; e;)n.event.fixHooks[s[--e]] = n.event.mouseHooks; i = n.event.special.mousewheel = { version: "3.1.12", setup: function () { if (this.addEventListener) for (var t = r.length; t;)this.addEventListener(r[--t], u, !1); else this.onmousewheel = u; n.data(this, "mousewheel-line-height", i.getLineHeight(this)); n.data(this, "mousewheel-page-height", i.getPageHeight(this)) }, teardown: function () { if (this.removeEventListener) for (var t = r.length; t;)this.removeEventListener(r[--t], u, !1); else this.onmousewheel = null; n.removeData(this, "mousewheel-line-height"); n.removeData(this, "mousewheel-page-height") }, getLineHeight: function (t) { var r = n(t), i = r["offsetParent" in n.fn ? "offsetParent" : "parent"](); return i.length || (i = n("body")), parseInt(i.css("fontSize"), 10) || parseInt(r.css("fontSize"), 10) || 16 }, getPageHeight: function (t) { return n(t).height() }, settings: { adjustOldDeltas: !0, normalizeOffset: !0 } }; n.fn.extend({ mousewheel: function (n) { return n ? this.bind("mousewheel", n) : this.trigger("mousewheel") }, unmousewheel: function (n) { return this.unbind("mousewheel", n) } }) }), t.define("jquery.select2", ["jquery", "jquery-mousewheel", "./select2/core", "./select2/defaults"], function (n, t, i, r) { if (null == n.fn.select2) { var u = ["open", "close", "destroy"]; n.fn.select2 = function (t) { if ("object" == typeof (t = t || {})) return this.each(function () { var r = n.extend(!0, {}, t); new i(n(this), r) }), this; if ("string" == typeof t) { var r, f = Array.prototype.slice.call(arguments, 1); return this.each(function () { var i = n(this).data("select2"); null == i && window.console && console.error && console.error("The select2('" + t + "') method was called on an element that is not using Select2."); r = i[t].apply(i, f) }), n.inArray(t, u) > -1 ? this : r } throw new Error("Invalid arguments for Select2: " + t); } } return null == n.fn.select2.defaults && (n.fn.select2.defaults = r), i }), { define: t.define, require: t.require } }(), i = t.require("jquery.select2"); return n.fn.select2.amd = t, i }), function (n, t) { typeof exports == "object" && typeof module != "undefined" ? module.exports = t() : typeof define == "function" && define.amd ? define(t) : n.moment = t() }(this, function () { "use strict"; function t() { return bf.apply(null, arguments) } function oh(n) { bf = n } function ft(n) { return n instanceof Array || Object.prototype.toString.call(n) === "[object Array]" } function vi(n) { return n != null && Object.prototype.toString.call(n) === "[object Object]" } function sh(n) { if (Object.getOwnPropertyNames) return Object.getOwnPropertyNames(n).length === 0; var t; for (t in n) if (n.hasOwnProperty(t)) return !1; return !0 } function b(n) { return n === void 0 } function dt(n) { return typeof n == "number" || Object.prototype.toString.call(n) === "[object Number]" } function tr(n) { return n instanceof Date || Object.prototype.toString.call(n) === "[object Date]" } function kf(n, t) { for (var r = [], i = 0; i < n.length; ++i)r.push(t(n[i], i)); return r } function l(n, t) { return Object.prototype.hasOwnProperty.call(n, t) } function wt(n, t) { for (var i in t) l(t, i) && (n[i] = t[i]); return l(t, "toString") && (n.toString = t.toString), l(t, "valueOf") && (n.valueOf = t.valueOf), n } function et(n, t, i, r) { return go(n, t, i, r, !0).utc() } function hh() { return { empty: !1, unusedTokens: [], unusedInput: [], overflow: -2, charsLeftOver: 0, nullInput: !1, invalidMonth: null, invalidFormat: !1, userInvalidated: !1, iso: !1, parsedDateParts: [], meridiem: null, rfc2822: !1, weekdayMismatch: !1 } } function u(n) { return n._pf == null && (n._pf = hh()), n._pf } function fu(n) { if (n._isValid == null) { var t = u(n), r = df.call(t.parsedDateParts, function (n) { return n != null }), i = !isNaN(n._d.getTime()) && t.overflow < 0 && !t.empty && !t.invalidMonth && !t.invalidWeekday && !t.weekdayMismatch && !t.nullInput && !t.invalidFormat && !t.userInvalidated && (!t.meridiem || t.meridiem && r); if (n._strict && (i = i && t.charsLeftOver === 0 && t.unusedTokens.length === 0 && t.bigHour === undefined), Object.isFrozen != null && Object.isFrozen(n)) return i; n._isValid = i } return n._isValid } function ir(n) { var t = et(NaN); return n != null ? wt(u(t), n) : u(t).userInvalidated = !0, t } function eu(n, t) { var i, r, f; if (b(t._isAMomentObject) || (n._isAMomentObject = t._isAMomentObject), b(t._i) || (n._i = t._i), b(t._f) || (n._f = t._f), b(t._l) || (n._l = t._l), b(t._strict) || (n._strict = t._strict), b(t._tzm) || (n._tzm = t._tzm), b(t._isUTC) || (n._isUTC = t._isUTC), b(t._offset) || (n._offset = t._offset), b(t._pf) || (n._pf = u(t)), b(t._locale) || (n._locale = t._locale), rr.length > 0) for (i = 0; i < rr.length; i++)r = rr[i], f = t[r], b(f) || (n[r] = f); return n } function yi(n) { eu(this, n); this._d = new Date(n._d != null ? n._d.getTime() : NaN); this.isValid() || (this._d = new Date(NaN)); ur === !1 && (ur = !0, t.updateOffset(this), ur = !1) } function ot(n) { return n instanceof yi || n != null && n._isAMomentObject != null } function d(n) { return n < 0 ? Math.ceil(n) || 0 : Math.floor(n) } function f(n) { var t = +n, i = 0; return t !== 0 && isFinite(t) && (i = d(t)), i } function gf(n, t, i) { for (var e = Math.min(n.length, t.length), o = Math.abs(n.length - t.length), u = 0, r = 0; r < e; r++)(i && n[r] !== t[r] || !i && f(n[r]) !== f(t[r])) && u++; return u + o } function ne(n) { t.suppressDeprecationWarnings === !1 && typeof console != "undefined" && console.warn && console.warn("Deprecation warning: " + n) } function g(n, i) { var r = !0; return wt(function () { var e, u, f, o; if (t.deprecationHandler != null && t.deprecationHandler(null, n), r) { for (e = [], f = 0; f < arguments.length; f++) { if (u = "", typeof arguments[f] == "object") { u += "\n[" + f + "] "; for (o in arguments[0]) u += o + ": " + arguments[0][o] + ", "; u = u.slice(0, -2) } else u = arguments[f]; e.push(u) } ne(n + "\nArguments: " + Array.prototype.slice.call(e).join("") + "\n" + (new Error).stack); r = !1 } return i.apply(this, arguments) }, i) } function te(n, i) { t.deprecationHandler != null && t.deprecationHandler(n, i); ou[n] || (ne(i), ou[n] = !0) } function st(n) { return n instanceof Function || Object.prototype.toString.call(n) === "[object Function]" } function ch(n) { var t, i; for (i in n) t = n[i], st(t) ? this[i] = t : this["_" + i] = t; this._config = n; this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source) } function ie(n, t) { var r = wt({}, n), i; for (i in t) l(t, i) && (vi(n[i]) && vi(t[i]) ? (r[i] = {}, wt(r[i], n[i]), wt(r[i], t[i])) : t[i] != null ? r[i] = t[i] : delete r[i]); for (i in n) l(n, i) && !l(t, i) && vi(n[i]) && (r[i] = wt({}, r[i])); return r } function su(n) { n != null && this.set(n) } function lh(n, t, i) { var r = this._calendar[n] || this._calendar.sameElse; return st(r) ? r.call(t, i) : r } function ah(n) { var t = this._longDateFormat[n], i = this._longDateFormat[n.toUpperCase()]; return t || !i ? t : (this._longDateFormat[n] = i.replace(/MMMM|MM|DD|dddd/g, function (n) { return n.slice(1) }), this._longDateFormat[n]) } function vh() { return this._invalidDate } function yh(n) { return this._ordinal.replace("%d", n) } function ph(n, t, i, r) { var u = this._relativeTime[i]; return st(u) ? u(n, t, i, r) : u.replace(/%d/i, n) } function wh(n, t) { var i = this._relativeTime[n > 0 ? "future" : "past"]; return st(i) ? i(t) : i.replace(/%s/i, t) } function p(n, t) { var i = n.toLowerCase(); ui[i] = ui[i + "s"] = ui[t] = n } function nt(n) { return typeof n == "string" ? ui[n] || ui[n.toLowerCase()] : undefined } function hu(n) { var r = {}, i, t; for (t in n) l(n, t) && (i = nt(t), i && (r[i] = n[t])); return r } function w(n, t) { cu[n] = t } function bh(n) { var t = [], i; for (i in n) t.push({ unit: i, priority: cu[i] }); return t.sort(function (n, t) { return n.priority - t.priority }), t } function lt(n, t, i) { var r = "" + Math.abs(n), u = t - r.length, f = n >= 0; return (f ? i ? "+" : "" : "-") + Math.pow(10, Math.max(0, u)).toString().substr(1) + r } function r(n, t, i, r) { var u = r; typeof r == "string" && (u = function () { return this[r]() }); n && (fi[n] = u); t && (fi[t[0]] = function () { return lt(u.apply(this, arguments), t[1], t[2]) }); i && (fi[i] = function () { return this.localeData().ordinal(u.apply(this, arguments), n) }) } function kh(n) { return n.match(/\[[\s\S]/) ? n.replace(/^\[|\]$/g, "") : n.replace(/\\/g, "") } function dh(n) { for (var t = n.match(ce), i = 0, r = t.length; i < r; i++)t[i] = fi[t[i]] ? fi[t[i]] : kh(t[i]); return function (i) { for (var f = "", u = 0; u < r; u++)f += st(t[u]) ? t[u].call(i, n) : t[u]; return f } } function er(n, t) { return n.isValid() ? (t = le(t, n.localeData()), lu[t] = lu[t] || dh(t), lu[t](n)) : n.localeData().invalidDate() } function le(n, t) { function r(n) { return t.longDateFormat(n) || n } var i = 5; for (fr.lastIndex = 0; i >= 0 && fr.test(n);)n = n.replace(fr, r), fr.lastIndex = 0, i -= 1; return n } function i(n, t, i) { yu[n] = st(t) ? t : function (n) { return n && i ? i : t } } function nc(n, t) { return l(yu, n) ? yu[n](t._strict, t._locale) : new RegExp(tc(n)) } function tc(n) { return gt(n.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (n, t, i, r, u) { return t || i || r || u })) } function gt(n) { return n.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&") } function h(n, t) { var i, r = t; for (typeof n == "string" && (n = [n]), dt(t) && (r = function (n, i) { i[t] = f(n) }), i = 0; i < n.length; i++)ar[n[i]] = r } function wi(n, t) { h(n, function (n, i, r, u) { r._w = r._w || {}; t(n, r._w, r, u) }) } function ic(n, t, i) { t != null && l(ar, n) && ar[n](t, i._a, i, n) } function bi(n) { return vr(n) ? 366 : 365 } function vr(n) { return n % 4 == 0 && n % 100 != 0 || n % 400 == 0 } function fc() { return vr(this.year()) } function ei(n, i) { return function (r) { return r != null ? (we(this, n, r), t.updateOffset(this, i), this) : yr(this, n) } } function yr(n, t) { return n.isValid() ? n._d["get" + (n._isUTC ? "UTC" : "") + t]() : NaN } function we(n, t, i) { n.isValid() && !isNaN(i) && (t === "FullYear" && vr(n.year()) && n.month() === 1 && n.date() === 29 ? n._d["set" + (n._isUTC ? "UTC" : "") + t](i, n.month(), pr(i, n.month())) : n._d["set" + (n._isUTC ? "UTC" : "") + t](i)) } function ec(n) { return (n = nt(n), st(this[n])) ? this[n]() : this } function oc(n, t) { var r, i; if (typeof n == "object") for (n = hu(n), r = bh(n), i = 0; i < r.length; i++)this[r[i].unit](n[r[i].unit]); else if (n = nt(n), st(this[n])) return this[n](t); return this } function sc(n, t) { return (n % t + t) % t } function pr(n, t) { if (isNaN(n) || isNaN(t)) return NaN; var i = sc(t, 12); return n += (t - i) / 12, i === 1 ? vr(n) ? 29 : 28 : 31 - i % 7 % 2 } function hc(n, t) { return n ? ft(this._months) ? this._months[n.month()] : this._months[(this._months.isFormat || wu).test(t) ? "format" : "standalone"][n.month()] : ft(this._months) ? this._months : this._months.standalone } function cc(n, t) { return n ? ft(this._monthsShort) ? this._monthsShort[n.month()] : this._monthsShort[wu.test(t) ? "format" : "standalone"][n.month()] : ft(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone } function lc(n, t, i) { var u, r, e, f = n.toLocaleLowerCase(); if (!this._monthsParse) for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], u = 0; u < 12; ++u)e = et([2e3, u]), this._shortMonthsParse[u] = this.monthsShort(e, "").toLocaleLowerCase(), this._longMonthsParse[u] = this.months(e, "").toLocaleLowerCase(); return i ? t === "MMM" ? (r = a.call(this._shortMonthsParse, f), r !== -1 ? r : null) : (r = a.call(this._longMonthsParse, f), r !== -1 ? r : null) : t === "MMM" ? (r = a.call(this._shortMonthsParse, f), r !== -1) ? r : (r = a.call(this._longMonthsParse, f), r !== -1 ? r : null) : (r = a.call(this._longMonthsParse, f), r !== -1) ? r : (r = a.call(this._shortMonthsParse, f), r !== -1 ? r : null) } function ac(n, t, i) { var r, u, f; if (this._monthsParseExact) return lc.call(this, n, t, i); for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), r = 0; r < 12; r++)if ((u = et([2e3, r]), i && !this._longMonthsParse[r] && (this._longMonthsParse[r] = new RegExp("^" + this.months(u, "").replace(".", "") + "$", "i"), this._shortMonthsParse[r] = new RegExp("^" + this.monthsShort(u, "").replace(".", "") + "$", "i")), i || this._monthsParse[r] || (f = "^" + this.months(u, "") + "|^" + this.monthsShort(u, ""), this._monthsParse[r] = new RegExp(f.replace(".", ""), "i")), i && t === "MMMM" && this._longMonthsParse[r].test(n)) || i && t === "MMM" && this._shortMonthsParse[r].test(n) || !i && this._monthsParse[r].test(n)) return r } function ke(n, t) { var i; if (!n.isValid()) return n; if (typeof t == "string") if (/^\d+$/.test(t)) t = f(t); else if (t = n.localeData().monthsParse(t), !dt(t)) return n; return i = Math.min(n.date(), pr(n.year(), t)), n._d["set" + (n._isUTC ? "UTC" : "") + "Month"](t, i), n } function de(n) { return n != null ? (ke(this, n), t.updateOffset(this, !0), this) : yr(this, "Month") } function vc() { return pr(this.year(), this.month()) } function yc(n) { return this._monthsParseExact ? (l(this, "_monthsRegex") || to.call(this), n ? this._monthsShortStrictRegex : this._monthsShortRegex) : (l(this, "_monthsShortRegex") || (this._monthsShortRegex = ge), this._monthsShortStrictRegex && n ? this._monthsShortStrictRegex : this._monthsShortRegex) } function pc(n) { return this._monthsParseExact ? (l(this, "_monthsRegex") || to.call(this), n ? this._monthsStrictRegex : this._monthsRegex) : (l(this, "_monthsRegex") || (this._monthsRegex = no), this._monthsStrictRegex && n ? this._monthsStrictRegex : this._monthsRegex) } function to() { function f(n, t) { return t.length - n.length } for (var i = [], r = [], t = [], u, n = 0; n < 12; n++)u = et([2e3, n]), i.push(this.monthsShort(u, "")), r.push(this.months(u, "")), t.push(this.months(u, "")), t.push(this.monthsShort(u, "")); for (i.sort(f), r.sort(f), t.sort(f), n = 0; n < 12; n++)i[n] = gt(i[n]), r[n] = gt(r[n]); for (n = 0; n < 24; n++)t[n] = gt(t[n]); this._monthsRegex = new RegExp("^(" + t.join("|") + ")", "i"); this._monthsShortRegex = this._monthsRegex; this._monthsStrictRegex = new RegExp("^(" + r.join("|") + ")", "i"); this._monthsShortStrictRegex = new RegExp("^(" + i.join("|") + ")", "i") } function wc(n, t, i, r, u, f, e) { var o; return n < 100 && n >= 0 ? (o = new Date(n + 400, t, i, r, u, f, e), isFinite(o.getFullYear()) && o.setFullYear(n)) : o = new Date(n, t, i, r, u, f, e), o } function ki(n) { var t, i; return n < 100 && n >= 0 ? (i = Array.prototype.slice.call(arguments), i[0] = n + 400, t = new Date(Date.UTC.apply(null, i)), isFinite(t.getUTCFullYear()) && t.setUTCFullYear(n)) : t = new Date(Date.UTC.apply(null, arguments)), t } function wr(n, t, i) { var r = 7 + t - i, u = (7 + ki(n, 0, r).getUTCDay() - t) % 7; return -u + r - 1 } function io(n, t, i, r, u) { var s = (7 + i - r) % 7, h = wr(n, r, u), f = 1 + 7 * (t - 1) + s + h, e, o; return f <= 0 ? (e = n - 1, o = bi(e) + f) : f > bi(n) ? (e = n + 1, o = f - bi(n)) : (e = n, o = f), { year: e, dayOfYear: o } } function di(n, t, i) { var e = wr(n.year(), t, i), r = Math.floor((n.dayOfYear() - e - 1) / 7) + 1, f, u; return r < 1 ? (u = n.year() - 1, f = r + ti(u, t, i)) : r > ti(n.year(), t, i) ? (f = r - ti(n.year(), t, i), u = n.year() + 1) : (u = n.year(), f = r), { week: f, year: u } } function ti(n, t, i) { var r = wr(n, t, i), u = wr(n + 1, t, i); return (bi(n) - r + u) / 7 } function bc(n) { return di(n, this._week.dow, this._week.doy).week } function kc() { return this._week.dow } function dc() { return this._week.doy } function gc(n) { var t = this.localeData().week(this); return n == null ? t : this.add((n - t) * 7, "d") } function nl(n) { var t = di(this, 1, 4).week; return n == null ? t : this.add((n - t) * 7, "d") } function tl(n, t) { return typeof n != "string" ? n : isNaN(n) ? (n = t.weekdaysParse(n), typeof n == "number") ? n : null : parseInt(n, 10) } function il(n, t) { return typeof n == "string" ? t.weekdaysParse(n) % 7 || 7 : isNaN(n) ? null : n } function ku(n, t) { return n.slice(t, 7).concat(n.slice(0, t)) } function rl(n, t) { var i = ft(this._weekdays) ? this._weekdays : this._weekdays[n && n !== !0 && this._weekdays.isFormat.test(t) ? "format" : "standalone"]; return n === !0 ? ku(i, this._week.dow) : n ? i[n.day()] : i } function ul(n) { return n === !0 ? ku(this._weekdaysShort, this._week.dow) : n ? this._weekdaysShort[n.day()] : this._weekdaysShort } function fl(n) { return n === !0 ? ku(this._weekdaysMin, this._week.dow) : n ? this._weekdaysMin[n.day()] : this._weekdaysMin } function el(n, t, i) { var f, r, e, u = n.toLocaleLowerCase(); if (!this._weekdaysParse) for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], f = 0; f < 7; ++f)e = et([2e3, 1]).day(f), this._minWeekdaysParse[f] = this.weekdaysMin(e, "").toLocaleLowerCase(), this._shortWeekdaysParse[f] = this.weekdaysShort(e, "").toLocaleLowerCase(), this._weekdaysParse[f] = this.weekdays(e, "").toLocaleLowerCase(); return i ? t === "dddd" ? (r = a.call(this._weekdaysParse, u), r !== -1 ? r : null) : t === "ddd" ? (r = a.call(this._shortWeekdaysParse, u), r !== -1 ? r : null) : (r = a.call(this._minWeekdaysParse, u), r !== -1 ? r : null) : t === "dddd" ? (r = a.call(this._weekdaysParse, u), r !== -1) ? r : (r = a.call(this._shortWeekdaysParse, u), r !== -1) ? r : (r = a.call(this._minWeekdaysParse, u), r !== -1 ? r : null) : t === "ddd" ? (r = a.call(this._shortWeekdaysParse, u), r !== -1) ? r : (r = a.call(this._weekdaysParse, u), r !== -1) ? r : (r = a.call(this._minWeekdaysParse, u), r !== -1 ? r : null) : (r = a.call(this._minWeekdaysParse, u), r !== -1) ? r : (r = a.call(this._weekdaysParse, u), r !== -1) ? r : (r = a.call(this._shortWeekdaysParse, u), r !== -1 ? r : null) } function ol(n, t, i) { var r, u, f; if (this._weekdaysParseExact) return el.call(this, n, t, i); for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), r = 0; r < 7; r++)if ((u = et([2e3, 1]).day(r), i && !this._fullWeekdaysParse[r] && (this._fullWeekdaysParse[r] = new RegExp("^" + this.weekdays(u, "").replace(".", "\\.?") + "$", "i"), this._shortWeekdaysParse[r] = new RegExp("^" + this.weekdaysShort(u, "").replace(".", "\\.?") + "$", "i"), this._minWeekdaysParse[r] = new RegExp("^" + this.weekdaysMin(u, "").replace(".", "\\.?") + "$", "i")), this._weekdaysParse[r] || (f = "^" + this.weekdays(u, "") + "|^" + this.weekdaysShort(u, "") + "|^" + this.weekdaysMin(u, ""), this._weekdaysParse[r] = new RegExp(f.replace(".", ""), "i")), i && t === "dddd" && this._fullWeekdaysParse[r].test(n)) || i && t === "ddd" && this._shortWeekdaysParse[r].test(n) || i && t === "dd" && this._minWeekdaysParse[r].test(n) || !i && this._weekdaysParse[r].test(n)) return r } function sl(n) { if (!this.isValid()) return n != null ? this : NaN; var t = this._isUTC ? this._d.getUTCDay() : this._d.getDay(); return n != null ? (n = tl(n, this.localeData()), this.add(n - t, "d")) : t } function hl(n) { if (!this.isValid()) return n != null ? this : NaN; var t = (this.day() + 7 - this.localeData()._week.dow) % 7; return n == null ? t : this.add(n - t, "d") } function cl(n) { if (!this.isValid()) return n != null ? this : NaN; if (n != null) { var t = il(n, this.localeData()); return this.day(this.day() % 7 ? t : t - 7) } return this.day() || 7 } function ll(n) { return this._weekdaysParseExact ? (l(this, "_weekdaysRegex") || gu.call(this), n ? this._weekdaysStrictRegex : this._weekdaysRegex) : (l(this, "_weekdaysRegex") || (this._weekdaysRegex = eo), this._weekdaysStrictRegex && n ? this._weekdaysStrictRegex : this._weekdaysRegex) } function al(n) { return this._weekdaysParseExact ? (l(this, "_weekdaysRegex") || gu.call(this), n ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (l(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = oo), this._weekdaysShortStrictRegex && n ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) } function vl(n) { return this._weekdaysParseExact ? (l(this, "_weekdaysRegex") || gu.call(this), n ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (l(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = so), this._weekdaysMinStrictRegex && n ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) } function gu() { function u(n, t) { return t.length - n.length } for (var e = [], i = [], r = [], t = [], f, o, s, h, n = 0; n < 7; n++)f = et([2e3, 1]).day(n), o = this.weekdaysMin(f, ""), s = this.weekdaysShort(f, ""), h = this.weekdays(f, ""), e.push(o), i.push(s), r.push(h), t.push(o), t.push(s), t.push(h); for (e.sort(u), i.sort(u), r.sort(u), t.sort(u), n = 0; n < 7; n++)i[n] = gt(i[n]), r[n] = gt(r[n]), t[n] = gt(t[n]); this._weekdaysRegex = new RegExp("^(" + t.join("|") + ")", "i"); this._weekdaysShortRegex = this._weekdaysRegex; this._weekdaysMinRegex = this._weekdaysRegex; this._weekdaysStrictRegex = new RegExp("^(" + r.join("|") + ")", "i"); this._weekdaysShortStrictRegex = new RegExp("^(" + i.join("|") + ")", "i"); this._weekdaysMinStrictRegex = new RegExp("^(" + e.join("|") + ")", "i") } function nf() { return this.hours() % 12 || 12 } function yl() { return this.hours() || 24 } function ho(n, t) { r(n, 0, 0, function () { return this.localeData().meridiem(this.hours(), this.minutes(), t) }) } function co(n, t) { return t._meridiemParse } function pl(n) { return (n + "").toLowerCase().charAt(0) === "p" } function wl(n, t, i) { return n > 11 ? i ? "pm" : "PM" : i ? "am" : "AM" } function vo(n) { return n ? n.toLowerCase().replace("_", "-") : n } function kl(n) { for (var r = 0, i, t, f, u; r < n.length;) { for (u = vo(n[r]).split("-"), i = u.length, t = vo(n[r + 1]), t = t ? t.split("-") : null; i > 0;) { if (f = br(u.slice(0, i).join("-")), f) return f; if (t && t.length >= i && gf(u, t, !0) >= i - 1) break; i-- } r++ } return nr } function br(n) { var t = null, i; if (!y[n] && typeof module != "undefined" && module && module.exports) try { t = nr._abbr; i = require; i("./locale/" + n); oi(t) } catch (r) { } return y[n] } function oi(n, t) { var i; return n && (i = b(t) ? bt(n) : tf(n, t), i ? nr = i : typeof console != "undefined" && console.warn && console.warn("Locale " + n + " not found. Did you forget to load it?")), nr._abbr } function tf(n, t) { if (t !== null) { var r, i = ao; if (t.abbr = n, y[n] != null) te("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), i = y[n]._config; else if (t.parentLocale != null) if (y[t.parentLocale] != null) i = y[t.parentLocale]._config; else if (r = br(t.parentLocale), r != null) i = r._config; else return gi[t.parentLocale] || (gi[t.parentLocale] = []), gi[t.parentLocale].push({ name: n, config: t }), null; return y[n] = new su(ie(i, t)), gi[n] && gi[n].forEach(function (n) { tf(n.name, n.config) }), oi(n), y[n] } return delete y[n], null } function dl(n, t) { if (t != null) { var i, r, u = ao; r = br(n); r != null && (u = r._config); t = ie(u, t); i = new su(t); i.parentLocale = y[n]; y[n] = i; oi(n) } else y[n] != null && (y[n].parentLocale != null ? y[n] = y[n].parentLocale : y[n] != null && delete y[n]); return y[n] } function bt(n) { var t; if (n && n._locale && n._locale._abbr && (n = n._locale._abbr), !n) return nr; if (!ft(n)) { if (t = br(n), t) return t; n = [n] } return kl(n) } function gl() { return re(y) } function rf(n) { var i, t = n._a; return t && u(n).overflow === -2 && (i = t[at] < 0 || t[at] > 11 ? at : t[ht] < 1 || t[ht] > pr(t[tt], t[at]) ? ht : t[v] < 0 || t[v] > 24 || t[v] === 24 && (t[it] !== 0 || t[vt] !== 0 || t[ni] !== 0) ? v : t[it] < 0 || t[it] > 59 ? it : t[vt] < 0 || t[vt] > 59 ? vt : t[ni] < 0 || t[ni] > 999 ? ni : -1, u(n)._overflowDayOfYear && (i < tt || i > ht) && (i = ht), u(n)._overflowWeeks && i === -1 && (i = rc), u(n)._overflowWeekday && i === -1 && (i = uc), u(n).overflow = i), n } function si(n, t, i) { return n != null ? n : t != null ? t : i } function na(n) { var i = new Date(t.now()); return n._useUTC ? [i.getUTCFullYear(), i.getUTCMonth(), i.getUTCDate()] : [i.getFullYear(), i.getMonth(), i.getDate()] } function uf(n) { var t, i, r = [], f, o, e; if (!n._d) { for (f = na(n), n._w && n._a[ht] == null && n._a[at] == null && ta(n), n._dayOfYear != null && (e = si(n._a[tt], f[tt]), (n._dayOfYear > bi(e) || n._dayOfYear === 0) && (u(n)._overflowDayOfYear = !0), i = ki(e, 0, n._dayOfYear), n._a[at] = i.getUTCMonth(), n._a[ht] = i.getUTCDate()), t = 0; t < 3 && n._a[t] == null; ++t)n._a[t] = r[t] = f[t]; for (; t < 7; t++)n._a[t] = r[t] = n._a[t] == null ? t === 2 ? 1 : 0 : n._a[t]; n._a[v] === 24 && n._a[it] === 0 && n._a[vt] === 0 && n._a[ni] === 0 && (n._nextDay = !0, n._a[v] = 0); n._d = (n._useUTC ? ki : wc).apply(null, r); o = n._useUTC ? n._d.getUTCDay() : n._d.getDay(); n._tzm != null && n._d.setUTCMinutes(n._d.getUTCMinutes() - n._tzm); n._nextDay && (n._a[v] = 24); n._w && typeof n._w.d != "undefined" && n._w.d !== o && (u(n).weekdayMismatch = !0) } } function ta(n) { var t, o, f, i, r, e, h, s, l; t = n._w; t.GG != null || t.W != null || t.E != null ? (r = 1, e = 4, o = si(t.GG, n._a[tt], di(c(), 1, 4).year), f = si(t.W, 1), i = si(t.E, 1), (i < 1 || i > 7) && (s = !0)) : (r = n._locale._week.dow, e = n._locale._week.doy, l = di(c(), r, e), o = si(t.gg, n._a[tt], l.year), f = si(t.w, l.week), t.d != null ? (i = t.d, (i < 0 || i > 6) && (s = !0)) : t.e != null ? (i = t.e + r, (t.e < 0 || t.e > 6) && (s = !0)) : i = r); f < 1 || f > ti(o, r, e) ? u(n)._overflowWeeks = !0 : s != null ? u(n)._overflowWeekday = !0 : (h = io(o, f, i, r, e), n._a[tt] = h.year, n._dayOfYear = h.dayOfYear) } function yo(n) { var t, r, o = n._i, i = ia.exec(o) || ra.exec(o), s, e, f, h; if (i) { for (u(n).iso = !0, t = 0, r = kr.length; t < r; t++)if (kr[t][1].exec(i[1])) { e = kr[t][0]; s = kr[t][2] !== !1; break } if (e == null) { n._isValid = !1; return } if (i[3]) { for (t = 0, r = ff.length; t < r; t++)if (ff[t][1].exec(i[3])) { f = (i[2] || " ") + ff[t][0]; break } if (f == null) { n._isValid = !1; return } } if (!s && f != null) { n._isValid = !1; return } if (i[4]) if (ua.exec(i[4])) h = "Z"; else { n._isValid = !1; return } n._f = e + (f || "") + (h || ""); ef(n) } else n._isValid = !1 } function ea(n, t, i, r, u, f) { var e = [oa(n), bu.indexOf(t), parseInt(i, 10), parseInt(r, 10), parseInt(u, 10)]; return f && e.push(parseInt(f, 10)), e } function oa(n) { var t = parseInt(n, 10); return t <= 49 ? 2e3 + t : t <= 999 ? 1900 + t : t } function sa(n) { return n.replace(/\([^)]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "") } function ha(n, t, i) { if (n) { var r = du.indexOf(n), f = new Date(t[0], t[1], t[2]).getDay(); if (r !== f) return u(i).weekdayMismatch = !0, i._isValid = !1, !1 } return !0 } function ca(n, t, i) { if (n) return wo[n]; if (t) return 0; var r = parseInt(i, 10), u = r % 100, f = (r - u) / 100; return f * 60 + u } function bo(n) { var t = po.exec(sa(n._i)), i; if (t) { if (i = ea(t[4], t[3], t[2], t[5], t[6], t[7]), !ha(t[1], i, n)) return; n._a = i; n._tzm = ca(t[8], t[9], t[10]); n._d = ki.apply(null, n._a); n._d.setUTCMinutes(n._d.getUTCMinutes() - n._tzm); u(n).rfc2822 = !0 } else n._isValid = !1 } function la(n) { var i = fa.exec(n._i); if (i !== null) { n._d = new Date(+i[1]); return } if (yo(n), n._isValid === !1) delete n._isValid; else return; if (bo(n), n._isValid === !1) delete n._isValid; else return; t.createFromInputFallback(n) } function ef(n) { if (n._f === t.ISO_8601) { yo(n); return } if (n._f === t.RFC_2822) { bo(n); return } n._a = []; u(n).empty = !0; for (var i = "" + n._i, r, f, s, c = i.length, h = 0, o = le(n._f, n._locale).match(ce) || [], e = 0; e < o.length; e++)f = o[e], r = (i.match(nc(f, n)) || [])[0], r && (s = i.substr(0, i.indexOf(r)), s.length > 0 && u(n).unusedInput.push(s), i = i.slice(i.indexOf(r) + r.length), h += r.length), fi[f] ? (r ? u(n).empty = !1 : u(n).unusedTokens.push(f), ic(f, r, n)) : n._strict && !r && u(n).unusedTokens.push(f); u(n).charsLeftOver = c - h; i.length > 0 && u(n).unusedInput.push(i); n._a[v] <= 12 && u(n).bigHour === !0 && n._a[v] > 0 && (u(n).bigHour = undefined); u(n).parsedDateParts = n._a.slice(0); u(n).meridiem = n._meridiem; n._a[v] = aa(n._locale, n._a[v], n._meridiem); uf(n); rf(n) } function aa(n, t, i) { var r; return i == null ? t : n.meridiemHour != null ? n.meridiemHour(t, i) : n.isPM != null ? (r = n.isPM(i), r && t < 12 && (t += 12), r || t !== 12 || (t = 0), t) : t } function va(n) { var t, e, f, r, i; if (n._f.length === 0) { u(n).invalidFormat = !0; n._d = new Date(NaN); return } for (r = 0; r < n._f.length; r++)(i = 0, t = eu({}, n), n._useUTC != null && (t._useUTC = n._useUTC), t._f = n._f[r], ef(t), fu(t)) && (i += u(t).charsLeftOver, i += u(t).unusedTokens.length * 10, u(t).score = i, (f == null || i < f) && (f = i, e = t)); wt(n, e || t) } function ya(n) { if (!n._d) { var t = hu(n._i); n._a = kf([t.year, t.month, t.day || t.date, t.hour, t.minute, t.second, t.millisecond], function (n) { return n && parseInt(n, 10) }); uf(n) } } function pa(n) { var t = new yi(rf(ko(n))); return t._nextDay && (t.add(1, "d"), t._nextDay = undefined), t } function ko(n) { var t = n._i, i = n._f; return (n._locale = n._locale || bt(n._l), t === null || i === undefined && t === "") ? ir({ nullInput: !0 }) : (typeof t == "string" && (n._i = t = n._locale.preparse(t)), ot(t)) ? new yi(rf(t)) : (tr(t) ? n._d = t : ft(i) ? va(n) : i ? ef(n) : wa(n), fu(n) || (n._d = null), n) } function wa(n) { var i = n._i; b(i) ? n._d = new Date(t.now()) : tr(i) ? n._d = new Date(i.valueOf()) : typeof i == "string" ? la(n) : ft(i) ? (n._a = kf(i.slice(0), function (n) { return parseInt(n, 10) }), uf(n)) : vi(i) ? ya(n) : dt(i) ? n._d = new Date(i) : t.createFromInputFallback(n) } function go(n, t, i, r, u) { var f = {}; return (i === !0 || i === !1) && (r = i, i = undefined), (vi(n) && sh(n) || ft(n) && n.length === 0) && (n = undefined), f._isAMomentObject = !0, f._useUTC = f._isUTC = u, f._l = i, f._i = n, f._f = t, f._strict = r, pa(f) } function c(n, t, i, r) { return go(n, t, i, r, !1) } function is(n, t) { var r, i; if (t.length === 1 && ft(t[0]) && (t = t[0]), !t.length) return c(); for (r = t[0], i = 1; i < t.length; ++i)(!t[i].isValid() || t[i][n](r)) && (r = t[i]); return r } function ba() { var n = [].slice.call(arguments, 0); return is("isBefore", n) } function ka() { var n = [].slice.call(arguments, 0); return is("isAfter", n) } function da(n) { var i, r, t; for (i in n) if (!(a.call(hi, i) !== -1 && (n[i] == null || !isNaN(n[i])))) return !1; for (r = !1, t = 0; t < hi.length; ++t)if (n[hi[t]]) { if (r) return !1; parseFloat(n[hi[t]]) !== f(n[hi[t]]) && (r = !0) } return !0 } function ga() { return this._isValid } function nv() { return rt(NaN) } function dr(n) { var t = hu(n), i = t.year || 0, r = t.quarter || 0, u = t.month || 0, f = t.week || t.isoWeek || 0, e = t.day || 0, o = t.hour || 0, s = t.minute || 0, h = t.second || 0, c = t.millisecond || 0; this._isValid = da(t); this._milliseconds = +c + h * 1e3 + s * 6e4 + o * 36e5; this._days = +e + f * 7; this._months = +u + r * 3 + i * 12; this._data = {}; this._locale = bt(); this._bubble() } function of(n) { return n instanceof dr } function sf(n) { return n < 0 ? Math.round(-1 * n) * -1 : Math.round(n) } function us(n, t) { r(n, 0, 0, function () { var n = this.utcOffset(), i = "+"; return n < 0 && (n = -n, i = "-"), i + lt(~~(n / 60), 2) + t + lt(~~n % 60, 2) }) } function hf(n, t) { var i = (t || "").match(n); if (i === null) return null; var e = i[i.length - 1] || [], r = (e + "").match(fs) || ["-", 0, 0], u = +(r[1] * 60) + f(r[2]); return u === 0 ? 0 : r[0] === "+" ? u : -u } function cf(n, i) { var r, u; return i._isUTC ? (r = i.clone(), u = (ot(n) || tr(n) ? n.valueOf() : c(n).valueOf()) - r.valueOf(), r._d.setTime(r._d.valueOf() + u), t.updateOffset(r, !1), r) : c(n).local() } function lf(n) { return -Math.round(n._d.getTimezoneOffset() / 15) * 15 } function tv(n, i, r) { var u = this._offset || 0, f; if (!this.isValid()) return n != null ? this : NaN; if (n != null) { if (typeof n == "string") { if (n = hf(lr, n), n === null) return this } else Math.abs(n) < 16 && !r && (n = n * 60); return !this._isUTC && i && (f = lf(this)), this._offset = n, this._isUTC = !0, f != null && this.add(f, "m"), u !== n && (!i || this._changeInProgress ? ls(this, rt(n - u, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, t.updateOffset(this, !0), this._changeInProgress = null)), this } return this._isUTC ? u : lf(this) } function iv(n, t) { return n != null ? (typeof n != "string" && (n = -n), this.utcOffset(n, t), this) : -this.utcOffset() } function rv(n) { return this.utcOffset(0, n) } function uv(n) { return this._isUTC && (this.utcOffset(0, n), this._isUTC = !1, n && this.subtract(lf(this), "m")), this } function fv() { if (this._tzm != null) this.utcOffset(this._tzm, !1, !0); else if (typeof this._i == "string") { var n = hf(gh, this._i); n != null ? this.utcOffset(n) : this.utcOffset(0, !0) } return this } function ev(n) { return this.isValid() ? (n = n ? c(n).utcOffset() : 0, (this.utcOffset() - n) % 60 == 0) : !1 } function ov() { return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset() } function sv() { var n, t; return b(this._isDSTShifted) ? (n = {}, eu(n, this), n = ko(n), n._a ? (t = n._isUTC ? et(n._a) : c(n._a), this._isDSTShifted = this.isValid() && gf(n._a, t.toArray()) > 0) : this._isDSTShifted = !1, this._isDSTShifted) : this._isDSTShifted } function hv() { return this.isValid() ? !this._isUTC : !1 } function cv() { return this.isValid() ? this._isUTC : !1 } function es() { return this.isValid() ? this._isUTC && this._offset === 0 : !1 } function rt(n, t) { var i = n, r = null, u, e, o; return of(n) ? i = { ms: n._milliseconds, d: n._days, M: n._months } : dt(n) ? (i = {}, t ? i[t] = n : i.milliseconds = n) : (r = os.exec(n)) ? (u = r[1] === "-" ? -1 : 1, i = { y: 0, d: f(r[ht]) * u, h: f(r[v]) * u, m: f(r[it]) * u, s: f(r[vt]) * u, ms: f(sf(r[ni] * 1e3)) * u }) : (r = ss.exec(n)) ? (u = r[1] === "-" ? -1 : 1, i = { y: ii(r[2], u), M: ii(r[3], u), w: ii(r[4], u), d: ii(r[5], u), h: ii(r[6], u), m: ii(r[7], u), s: ii(r[8], u) }) : i == null ? i = {} : typeof i == "object" && ("from" in i || "to" in i) && (o = lv(c(i.from), c(i.to)), i = {}, i.ms = o.milliseconds, i.M = o.months), e = new dr(i), of(n) && l(n, "_locale") && (e._locale = n._locale), e } function ii(n, t) { var i = n && parseFloat(n.replace(",", ".")); return (isNaN(i) ? 0 : i) * t } function hs(n, t) { var i = {}; return i.months = t.month() - n.month() + (t.year() - n.year()) * 12, n.clone().add(i.months, "M").isAfter(t) && --i.months, i.milliseconds = +t - +n.clone().add(i.months, "M"), i } function lv(n, t) { var i; return (n.isValid() && t.isValid()) ? (t = cf(t, n), n.isBefore(t) ? i = hs(n, t) : (i = hs(t, n), i.milliseconds = -i.milliseconds, i.months = -i.months), i) : { milliseconds: 0, months: 0 } } function cs(n, t) { return function (i, r) { var u, f; return r === null || isNaN(+r) || (te(t, "moment()." + t + "(period, number) is deprecated. Please use moment()." + t + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), f = i, i = r, r = f), i = typeof i == "string" ? +i : i, u = rt(i, r), ls(this, u, n), this } } function ls(n, i, r, u) { var o = i._milliseconds, f = sf(i._days), e = sf(i._months); n.isValid() && (u = u == null ? !0 : u, e && ke(n, yr(n, "Month") + e * r), f && we(n, "Date", yr(n, "Date") + f * r), o && n._d.setTime(n._d.valueOf() + o * r), u && t.updateOffset(n, f || e)) } function av(n, t) { var i = n.diff(t, "days", !0); return i < -6 ? "sameElse" : i < -1 ? "lastWeek" : i < 0 ? "lastDay" : i < 1 ? "sameDay" : i < 2 ? "nextDay" : i < 7 ? "nextWeek" : "sameElse" } function vv(n, i) { var u = n || c(), f = cf(u, this).startOf("day"), r = t.calendarFormat(this, f) || "sameElse", e = i && (st(i[r]) ? i[r].call(this, u) : i[r]); return this.format(e || this.localeData().calendar(r, this, c(u))) } function yv() { return new yi(this) } function pv(n, t) { var i = ot(n) ? n : c(n); return (this.isValid() && i.isValid()) ? (t = nt(t) || "millisecond", t === "millisecond" ? this.valueOf() > i.valueOf() : i.valueOf() < this.clone().startOf(t).valueOf()) : !1 } function wv(n, t) { var i = ot(n) ? n : c(n); return (this.isValid() && i.isValid()) ? (t = nt(t) || "millisecond", t === "millisecond" ? this.valueOf() < i.valueOf() : this.clone().endOf(t).valueOf() < i.valueOf()) : !1 } function bv(n, t, i, r) { var u = ot(n) ? n : c(n), f = ot(t) ? t : c(t); return (this.isValid() && u.isValid() && f.isValid()) ? (r = r || "()", (r[0] === "(" ? this.isAfter(u, i) : !this.isBefore(u, i)) && (r[1] === ")" ? this.isBefore(f, i) : !this.isAfter(f, i))) : !1 } function kv(n, t) { var i = ot(n) ? n : c(n), r; return (this.isValid() && i.isValid()) ? (t = nt(t) || "millisecond", t === "millisecond" ? this.valueOf() === i.valueOf() : (r = i.valueOf(), this.clone().startOf(t).valueOf() <= r && r <= this.clone().endOf(t).valueOf())) : !1 } function dv(n, t) { return this.isSame(n, t) || this.isAfter(n, t) } function gv(n, t) { return this.isSame(n, t) || this.isBefore(n, t) } function ny(n, t, i) { var r, f, u; if (!this.isValid()) return NaN; if (r = cf(n, this), !r.isValid()) return NaN; f = (r.utcOffset() - this.utcOffset()) * 6e4; t = nt(t); switch (t) { case "year": u = af(this, r) / 12; break; case "month": u = af(this, r); break; case "quarter": u = af(this, r) / 3; break; case "second": u = (this - r) / 1e3; break; case "minute": u = (this - r) / 6e4; break; case "hour": u = (this - r) / 36e5; break; case "day": u = (this - r - f) / 864e5; break; case "week": u = (this - r - f) / 6048e5; break; default: u = this - r }return i ? u : d(u) } function af(n, t) { var r = (t.year() - n.year()) * 12 + (t.month() - n.month()), i = n.clone().add(r, "months"), u, f; return t - i < 0 ? (u = n.clone().add(r - 1, "months"), f = (t - i) / (i - u)) : (u = n.clone().add(r + 1, "months"), f = (t - i) / (u - i)), -(r + f) || 0 } function ty() { return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ") } function iy(n) { if (!this.isValid()) return null; var i = n !== !0, t = i ? this.clone().utc() : this; return t.year() < 0 || t.year() > 9999 ? er(t, i ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ") : st(Date.prototype.toISOString) ? i ? this.toDate().toISOString() : new Date(this.valueOf() + this.utcOffset() * 6e4).toISOString().replace("Z", er(t, "Z")) : er(t, i ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ") } function ry() { var n, t; if (!this.isValid()) return "moment.invalid(/* " + this._i + " */)"; n = "moment"; t = ""; this.isLocal() || (n = this.utcOffset() === 0 ? "moment.utc" : "moment.parseZone", t = "Z"); var i = "[" + n + '("]', r = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY", u = t + '[")]'; return this.format(i + r + "-MM-DD[T]HH:mm:ss.SSS" + u) } function uy(n) { n || (n = this.isUtc() ? t.defaultFormatUtc : t.defaultFormat); var i = er(this, n); return this.localeData().postformat(i) } function fy(n, t) { return this.isValid() && (ot(n) && n.isValid() || c(n).isValid()) ? rt({ to: this, from: n }).locale(this.locale()).humanize(!t) : this.localeData().invalidDate() } function ey(n) { return this.from(c(), n) } function oy(n, t) { return this.isValid() && (ot(n) && n.isValid() || c(n).isValid()) ? rt({ from: this, to: n }).locale(this.locale()).humanize(!t) : this.localeData().invalidDate() } function sy(n) { return this.to(c(), n) } function ys(n) { var t; return n === undefined ? this._locale._abbr : (t = bt(n), t != null && (this._locale = t), this) } function ps() { return this._locale } function li(n, t) { return (n % t + t) % t } function bs(n, t, i) { return n < 100 && n >= 0 ? new Date(n + 400, t, i) - ws : new Date(n, t, i).valueOf() } function ks(n, t, i) { return n < 100 && n >= 0 ? Date.UTC(n + 400, t, i) - ws : Date.UTC(n, t, i) } function hy(n) { var i, r; if (n = nt(n), n === undefined || n === "millisecond" || !this.isValid()) return this; r = this._isUTC ? ks : bs; switch (n) { case "year": i = r(this.year(), 0, 1); break; case "quarter": i = r(this.year(), this.month() - this.month() % 3, 1); break; case "month": i = r(this.year(), this.month(), 1); break; case "week": i = r(this.year(), this.month(), this.date() - this.weekday()); break; case "isoWeek": i = r(this.year(), this.month(), this.date() - (this.isoWeekday() - 1)); break; case "day": case "date": i = r(this.year(), this.month(), this.date()); break; case "hour": i = this._d.valueOf() - li(i + (this._isUTC ? 0 : this.utcOffset() * ci), nu); break; case "minute": i = this._d.valueOf() - li(i, ci); break; case "second": i = this._d.valueOf() - li(i, gr) }return this._d.setTime(i), t.updateOffset(this, !0), this } function cy(n) { var i, r; if (n = nt(n), n === undefined || n === "millisecond" || !this.isValid()) return this; r = this._isUTC ? ks : bs; switch (n) { case "year": i = r(this.year() + 1, 0, 1) - 1; break; case "quarter": i = r(this.year(), this.month() - this.month() % 3 + 3, 1) - 1; break; case "month": i = r(this.year(), this.month() + 1, 1) - 1; break; case "week": i = r(this.year(), this.month(), this.date() - this.weekday() + 7) - 1; break; case "isoWeek": i = r(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1; break; case "day": case "date": i = r(this.year(), this.month(), this.date() + 1) - 1; break; case "hour": i = this._d.valueOf() + (nu - li(i + (this._isUTC ? 0 : this.utcOffset() * ci), nu) - 1); break; case "minute": i = this._d.valueOf() + (ci - li(i, ci) - 1); break; case "second": i = this._d.valueOf() + (gr - li(i, gr) - 1) }return this._d.setTime(i), t.updateOffset(this, !0), this } function ly() { return this._d.valueOf() - (this._offset || 0) * 6e4 } function ay() { return Math.floor(this.valueOf() / 1e3) } function vy() { return new Date(this.valueOf()) } function yy() { var n = this; return [n.year(), n.month(), n.date(), n.hour(), n.minute(), n.second(), n.millisecond()] } function py() { var n = this; return { years: n.year(), months: n.month(), date: n.date(), hours: n.hours(), minutes: n.minutes(), seconds: n.seconds(), milliseconds: n.milliseconds() } } function wy() { return this.isValid() ? this.toISOString() : null } function by() { return fu(this) } function ky() { return wt({}, u(this)) } function dy() { return u(this).overflow } function gy() { return { input: this._i, format: this._f, locale: this._locale, isUTC: this._isUTC, strict: this._strict } } function tu(n, t) { r(0, [n, n.length], 0, t) } function np(n) { return ds.call(this, n, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy) } function tp(n) { return ds.call(this, n, this.isoWeek(), this.isoWeekday(), 1, 4) } function ip() { return ti(this.year(), 1, 4) } function rp() { var n = this.localeData()._week; return ti(this.year(), n.dow, n.doy) } function ds(n, t, i, r, u) { var f; return n == null ? di(this, r, u).year : (f = ti(n, r, u), t > f && (t = f), up.call(this, n, t, i, r, u)) } function up(n, t, i, r, u) { var e = io(n, t, i, r, u), f = ki(e.year, 0, e.dayOfYear); return this.year(f.getUTCFullYear()), this.month(f.getUTCMonth()), this.date(f.getUTCDate()), this } function fp(n) { return n == null ? Math.ceil((this.month() + 1) / 3) : this.month((n - 1) * 3 + this.month() % 3) } function ep(n) { var t = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1; return n == null ? t : this.add(n - t, "d") } function op(n, t) { t[ni] = f(("0." + n) * 1e3) } function sp() { return this._isUTC ? "UTC" : "" } function hp() { return this._isUTC ? "Coordinated Universal Time" : "" } function cp(n) { return c(n * 1e3) } function lp() { return c.apply(null, arguments).parseZone() } function ih(n) { return n } function iu(n, t, i, r) { var u = bt(), f = et().set(r, t); return u[i](f, n) } function rh(n, t, i) { if (dt(n) && (t = n, n = undefined), n = n || "", t != null) return iu(n, t, i, "month"); for (var u = [], r = 0; r < 12; r++)u[r] = iu(n, r, i, "month"); return u } function pf(n, t, i, r) { var o, f, u, e; if (typeof n == "boolean" ? (dt(t) && (i = t, t = undefined), t = t || "") : (t = n, i = t, n = !1, dt(t) && (i = t, t = undefined), t = t || ""), o = bt(), f = n ? o._week.dow : 0, i != null) return iu(t, (i + f) % 7, r, "day"); for (e = [], u = 0; u < 7; u++)e[u] = iu(t, (u + f) % 7, r, "day"); return e } function ap(n, t) { return rh(n, t, "months") } function vp(n, t) { return rh(n, t, "monthsShort") } function yp(n, t, i) { return pf(n, t, i, "weekdays") } function pp(n, t, i) { return pf(n, t, i, "weekdaysShort") } function wp(n, t, i) { return pf(n, t, i, "weekdaysMin") } function bp() { var n = this._data; return this._milliseconds = ct(this._milliseconds), this._days = ct(this._days), this._months = ct(this._months), n.milliseconds = ct(n.milliseconds), n.seconds = ct(n.seconds), n.minutes = ct(n.minutes), n.hours = ct(n.hours), n.months = ct(n.months), n.years = ct(n.years), this } function uh(n, t, i, r) { var u = rt(t, i); return n._milliseconds += r * u._milliseconds, n._days += r * u._days, n._months += r * u._months, n._bubble() } function kp(n, t) { return uh(this, n, t, 1) } function dp(n, t) { return uh(this, n, t, -1) } function fh(n) { return n < 0 ? Math.floor(n) : Math.ceil(n) } function gp() { var r = this._milliseconds, n = this._days, t = this._months, i = this._data, u, f, e, s, o; return r >= 0 && n >= 0 && t >= 0 || r <= 0 && n <= 0 && t <= 0 || (r += fh(wf(t) + n) * 864e5, n = 0, t = 0), i.milliseconds = r % 1e3, u = d(r / 1e3), i.seconds = u % 60, f = d(u / 60), i.minutes = f % 60, e = d(f / 60), i.hours = e % 24, n += d(e / 24), o = d(eh(n)), t += o, n -= fh(wf(o)), s = d(t / 12), t %= 12, i.days = n, i.months = t, i.years = s, this } function eh(n) { return n * 4800 / 146097 } function wf(n) { return n * 146097 / 4800 } function nw(n) { if (!this.isValid()) return NaN; var t, r, i = this._milliseconds; if (n = nt(n), n === "month" || n === "quarter" || n === "year") { t = this._days + i / 864e5; r = this._months + eh(t); switch (n) { case "month": return r; case "quarter": return r / 3; case "year": return r / 12 } } else { t = this._days + Math.round(wf(this._months)); switch (n) { case "week": return t / 7 + i / 6048e5; case "day": return t + i / 864e5; case "hour": return t * 24 + i / 36e5; case "minute": return t * 1440 + i / 6e4; case "second": return t * 86400 + i / 1e3; case "millisecond": return Math.floor(t * 864e5) + i; default: throw new Error("Unknown unit " + n); } } } function tw() { return this.isValid() ? this._milliseconds + this._days * 864e5 + this._months % 12 * 2592e6 + f(this._months / 12) * 31536e6 : NaN } function yt(n) { return function () { return this.as(n) } } function lw() { return rt(this) } function aw(n) { return n = nt(n), this.isValid() ? this[n + "s"]() : NaN } function ri(n) { return function () { return this.isValid() ? this._data[n] : NaN } } function gw() { return d(this.days() / 7) } function nb(n, t, i, r, u) { return u.relativeTime(t || 1, !!i, n, r) } function tb(n, t, i) { var r = rt(n).abs(), u = pt(r.as("s")), e = pt(r.as("m")), o = pt(r.as("h")), s = pt(r.as("d")), h = pt(r.as("M")), c = pt(r.as("y")), f = u <= ut.ss && ["s", u] || u < ut.s && ["ss", u] || e <= 1 && ["m"] || e < ut.m && ["mm", e] || o <= 1 && ["h"] || o < ut.h && ["hh", o] || s <= 1 && ["d"] || s < ut.d && ["dd", s] || h <= 1 && ["M"] || h < ut.M && ["MM", h] || c <= 1 && ["y"] || ["yy", c]; return f[2] = t, f[3] = +n > 0, f[4] = i, nb.apply(null, f) } function ib(n) { return n === undefined ? pt : typeof n == "function" ? (pt = n, !0) : !1 } function rb(n, t) { return ut[n] === undefined ? !1 : t === undefined ? ut[n] : (ut[n] = t, n === "s" && (ut.ss = t - 1), !0) } function ub(n) { if (!this.isValid()) return this.localeData().invalidDate(); var t = this.localeData(), i = tb(this, !n, t); return n && (i = t.pastFuture(+this, i)), t.postformat(i) } function ai(n) { return (n > 0) - (n < 0) || +n } function uu() { if (!this.isValid()) return this.localeData().invalidDate(); var t = ru(this._milliseconds) / 1e3, y = ru(this._days), r = ru(this._months), i, s, h; i = d(t / 60); s = d(i / 60); t %= 60; i %= 60; h = d(r / 12); r %= 12; var c = h, l = r, a = y, u = s, f = i, e = t ? t.toFixed(3).replace(/\.?0+$/, "") : "", n = this.asSeconds(); if (!n) return "P0D"; var p = n < 0 ? "-" : "", v = ai(this._months) !== ai(n) ? "-" : "", w = ai(this._days) !== ai(n) ? "-" : "", o = ai(this._milliseconds) !== ai(n) ? "-" : ""; return p + "P" + (c ? v + c + "Y" : "") + (l ? v + l + "M" : "") + (a ? w + a + "D" : "") + (u || f || e ? "T" : "") + (u ? o + u + "H" : "") + (f ? o + f + "M" : "") + (e ? o + e + "S" : "") } var bf, df, rr, ur, ou, re, ue, fe, ee, oe, se, he, ui, cu, ar, pu, a, wu, be, bu, ge, no, ro, uo, du, fo, eo, oo, so, lo, po, wo, ns, ts, rs, hi, fs, os, ss, as, vs, vf, yf, gs, nh, kt, th, n, o, ct, pt, ut, ru, e; df = Array.prototype.some ? Array.prototype.some : function (n) { for (var i = Object(this), r = i.length >>> 0, t = 0; t < r; t++)if (t in i && n.call(this, i[t], t, i)) return !0; return !1 }; rr = t.momentProperties = []; ur = !1; ou = {}; t.suppressDeprecationWarnings = !1; t.deprecationHandler = null; re = Object.keys ? Object.keys : function (n) { var t, i = []; for (t in n) l(n, t) && i.push(t); return i }; ue = { sameDay: "[Today at] LT", nextDay: "[Tomorrow at] LT", nextWeek: "dddd [at] LT", lastDay: "[Yesterday at] LT", lastWeek: "[Last] dddd [at] LT", sameElse: "L" }; fe = { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY h:mm A", LLLL: "dddd, MMMM D, YYYY h:mm A" }; ee = "Invalid date"; oe = "%d"; se = /\d{1,2}/; he = { future: "in %s", past: "%s ago", s: "a few seconds", ss: "%d seconds", m: "a minute", mm: "%d minutes", h: "an hour", hh: "%d hours", d: "a day", dd: "%d days", M: "a month", MM: "%d months", y: "a year", yy: "%d years" }; ui = {}; cu = {}; var ce = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, fr = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, lu = {}, fi = {}; var ae = /\d/, k = /\d\d/, ve = /\d{3}/, au = /\d{4}/, or = /[+-]?\d{6}/, s = /\d\d?/, ye = /\d\d\d\d?/, pe = /\d\d\d\d\d\d?/, sr = /\d{1,3}/, vu = /\d{1,4}/, hr = /[+-]?\d{1,6}/, cr = /[+-]?\d+/, gh = /Z|[+-]\d\d:?\d\d/gi, lr = /Z|[+-]\d\d(?::?\d\d)?/gi, pi = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i, yu = {}; ar = {}; var tt = 0, at = 1, ht = 2, v = 3, it = 4, vt = 5, ni = 6, rc = 7, uc = 8; r("Y", 0, 0, function () { var n = this.year(); return n <= 9999 ? "" + n : "+" + n }); r(0, ["YY", 2], 0, function () { return this.year() % 100 }); r(0, ["YYYY", 4], 0, "year"); r(0, ["YYYYY", 5], 0, "year"); r(0, ["YYYYYY", 6, !0], 0, "year"); p("year", "y"); w("year", 1); i("Y", cr); i("YY", s, k); i("YYYY", vu, au); i("YYYYY", hr, or); i("YYYYYY", hr, or); h(["YYYYY", "YYYYYY"], tt); h("YYYY", function (n, i) { i[tt] = n.length === 2 ? t.parseTwoDigitYear(n) : f(n) }); h("YY", function (n, i) { i[tt] = t.parseTwoDigitYear(n) }); h("Y", function (n, t) { t[tt] = parseInt(n, 10) }); t.parseTwoDigitYear = function (n) { return f(n) + (f(n) > 68 ? 1900 : 2e3) }; pu = ei("FullYear", !0); a = Array.prototype.indexOf ? Array.prototype.indexOf : function (n) { for (var t = 0; t < this.length; ++t)if (this[t] === n) return t; return -1 }; r("M", ["MM", 2], "Mo", function () { return this.month() + 1 }); r("MMM", 0, 0, function (n) { return this.localeData().monthsShort(this, n) }); r("MMMM", 0, 0, function (n) { return this.localeData().months(this, n) }); p("month", "M"); w("month", 8); i("M", s); i("MM", s, k); i("MMM", function (n, t) { return t.monthsShortRegex(n) }); i("MMMM", function (n, t) { return t.monthsRegex(n) }); h(["M", "MM"], function (n, t) { t[at] = f(n) - 1 }); h(["MMM", "MMMM"], function (n, t, i, r) { var f = i._locale.monthsParse(n, r, i._strict); f != null ? t[at] = f : u(i).invalidMonth = n }); wu = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/; be = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"); bu = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"); ge = pi; no = pi; r("w", ["ww", 2], "wo", "week"); r("W", ["WW", 2], "Wo", "isoWeek"); p("week", "w"); p("isoWeek", "W"); w("week", 5); w("isoWeek", 5); i("w", s); i("ww", s, k); i("W", s); i("WW", s, k); wi(["w", "ww", "W", "WW"], function (n, t, i, r) { t[r.substr(0, 1)] = f(n) }); ro = { dow: 0, doy: 6 }; r("d", 0, "do", "day"); r("dd", 0, 0, function (n) { return this.localeData().weekdaysMin(this, n) }); r("ddd", 0, 0, function (n) { return this.localeData().weekdaysShort(this, n) }); r("dddd", 0, 0, function (n) { return this.localeData().weekdays(this, n) }); r("e", 0, 0, "weekday"); r("E", 0, 0, "isoWeekday"); p("day", "d"); p("weekday", "e"); p("isoWeekday", "E"); w("day", 11); w("weekday", 11); w("isoWeekday", 11); i("d", s); i("e", s); i("E", s); i("dd", function (n, t) { return t.weekdaysMinRegex(n) }); i("ddd", function (n, t) { return t.weekdaysShortRegex(n) }); i("dddd", function (n, t) { return t.weekdaysRegex(n) }); wi(["dd", "ddd", "dddd"], function (n, t, i, r) { var f = i._locale.weekdaysParse(n, r, i._strict); f != null ? t.d = f : u(i).invalidWeekday = n }); wi(["d", "e", "E"], function (n, t, i, r) { t[r] = f(n) }); uo = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"); du = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"); fo = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"); eo = pi; oo = pi; so = pi; r("H", ["HH", 2], 0, "hour"); r("h", ["hh", 2], 0, nf); r("k", ["kk", 2], 0, yl); r("hmm", 0, 0, function () { return "" + nf.apply(this) + lt(this.minutes(), 2) }); r("hmmss", 0, 0, function () { return "" + nf.apply(this) + lt(this.minutes(), 2) + lt(this.seconds(), 2) }); r("Hmm", 0, 0, function () { return "" + this.hours() + lt(this.minutes(), 2) }); r("Hmmss", 0, 0, function () { return "" + this.hours() + lt(this.minutes(), 2) + lt(this.seconds(), 2) }); ho("a", !0); ho("A", !1); p("hour", "h"); w("hour", 13); i("a", co); i("A", co); i("H", s); i("h", s); i("k", s); i("HH", s, k); i("hh", s, k); i("kk", s, k); i("hmm", ye); i("hmmss", pe); i("Hmm", ye); i("Hmmss", pe); h(["H", "HH"], v); h(["k", "kk"], function (n, t) { var i = f(n); t[v] = i === 24 ? 0 : i }); h(["a", "A"], function (n, t, i) { i._isPm = i._locale.isPM(n); i._meridiem = n }); h(["h", "hh"], function (n, t, i) { t[v] = f(n); u(i).bigHour = !0 }); h("hmm", function (n, t, i) { var r = n.length - 2; t[v] = f(n.substr(0, r)); t[it] = f(n.substr(r)); u(i).bigHour = !0 }); h("hmmss", function (n, t, i) { var r = n.length - 4, e = n.length - 2; t[v] = f(n.substr(0, r)); t[it] = f(n.substr(r, 2)); t[vt] = f(n.substr(e)); u(i).bigHour = !0 }); h("Hmm", function (n, t) { var i = n.length - 2; t[v] = f(n.substr(0, i)); t[it] = f(n.substr(i)) }); h("Hmmss", function (n, t) { var i = n.length - 4, r = n.length - 2; t[v] = f(n.substr(0, i)); t[it] = f(n.substr(i, 2)); t[vt] = f(n.substr(r)) }); lo = /[ap]\.?m?\.?/i; var bl = ei("Hours", !0), ao = { calendar: ue, longDateFormat: fe, invalidDate: ee, ordinal: oe, dayOfMonthOrdinalParse: se, relativeTime: he, months: be, monthsShort: bu, week: ro, weekdays: uo, weekdaysMin: fo, weekdaysShort: du, meridiemParse: lo }, y = {}, gi = {}, nr; var ia = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, ra = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, ua = /Z|[+-]\d\d(?::?\d\d)?/, kr = [["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/], ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/], ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/], ["GGGG-[W]WW", /\d{4}-W\d\d/, !1], ["YYYY-DDD", /\d{4}-\d{3}/], ["YYYY-MM", /\d{4}-\d\d/, !1], ["YYYYYYMMDD", /[+-]\d{10}/], ["YYYYMMDD", /\d{8}/], ["GGGG[W]WWE", /\d{4}W\d{3}/], ["GGGG[W]WW", /\d{4}W\d{2}/, !1], ["YYYYDDD", /\d{7}/]], ff = [["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/], ["HH:mm:ss", /\d\d:\d\d:\d\d/], ["HH:mm", /\d\d:\d\d/], ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/], ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/], ["HHmmss", /\d\d\d\d\d\d/], ["HHmm", /\d\d\d\d/], ["HH", /\d\d/]], fa = /^\/?Date\((\-?\d+)/i; po = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/; wo = { UT: 0, GMT: 0, EDT: -240, EST: -300, CDT: -300, CST: -360, MDT: -360, MST: -420, PDT: -420, PST: -480 }; t.createFromInputFallback = g("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function (n) { n._d = new Date(n._i + (n._useUTC ? " UTC" : "")) }); t.ISO_8601 = function () { }; t.RFC_2822 = function () { }; ns = g("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function () { var n = c.apply(null, arguments); return this.isValid() && n.isValid() ? n < this ? this : n : ir() }); ts = g("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function () { var n = c.apply(null, arguments); return this.isValid() && n.isValid() ? n > this ? this : n : ir() }); rs = function () { return Date.now ? Date.now() : +new Date }; hi = ["year", "quarter", "month", "week", "day", "hour", "minute", "second", "millisecond"]; us("Z", ":"); us("ZZ", ""); i("Z", lr); i("ZZ", lr); h(["Z", "ZZ"], function (n, t, i) { i._useUTC = !0; i._tzm = hf(lr, n) }); fs = /([\+\-]|\d\d)/gi; t.updateOffset = function () { }; os = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/; ss = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/; rt.fn = dr.prototype; rt.invalid = nv; as = cs(1, "add"); vs = cs(-1, "subtract"); t.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ"; t.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]"; vf = g("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function (n) { return n === undefined ? this.localeData() : this.locale(n) }); var gr = 1e3, ci = 60 * gr, nu = 60 * ci, ws = 3506328 * nu; for (r(0, ["gg", 2], 0, function () { return this.weekYear() % 100 }), r(0, ["GG", 2], 0, function () { return this.isoWeekYear() % 100 }), tu("gggg", "weekYear"), tu("ggggg", "weekYear"), tu("GGGG", "isoWeekYear"), tu("GGGGG", "isoWeekYear"), p("weekYear", "gg"), p("isoWeekYear", "GG"), w("weekYear", 1), w("isoWeekYear", 1), i("G", cr), i("g", cr), i("GG", s, k), i("gg", s, k), i("GGGG", vu, au), i("gggg", vu, au), i("GGGGG", hr, or), i("ggggg", hr, or), wi(["gggg", "ggggg", "GGGG", "GGGGG"], function (n, t, i, r) { t[r.substr(0, 2)] = f(n) }), wi(["gg", "GG"], function (n, i, r, u) { i[u] = t.parseTwoDigitYear(n) }), r("Q", 0, "Qo", "quarter"), p("quarter", "Q"), w("quarter", 7), i("Q", ae), h("Q", function (n, t) { t[at] = (f(n) - 1) * 3 }), r("D", ["DD", 2], "Do", "date"), p("date", "D"), w("date", 9), i("D", s), i("DD", s, k), i("Do", function (n, t) { return n ? t._dayOfMonthOrdinalParse || t._ordinalParse : t._dayOfMonthOrdinalParseLenient }), h(["D", "DD"], ht), h("Do", function (n, t) { t[ht] = f(n.match(s)[0]) }), yf = ei("Date", !0), r("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), p("dayOfYear", "DDD"), w("dayOfYear", 4), i("DDD", sr), i("DDDD", ve), h(["DDD", "DDDD"], function (n, t, i) { i._dayOfYear = f(n) }), r("m", ["mm", 2], 0, "minute"), p("minute", "m"), w("minute", 14), i("m", s), i("mm", s, k), h(["m", "mm"], it), gs = ei("Minutes", !1), r("s", ["ss", 2], 0, "second"), p("second", "s"), w("second", 15), i("s", s), i("ss", s, k), h(["s", "ss"], vt), nh = ei("Seconds", !1), r("S", 0, 0, function () { return ~~(this.millisecond() / 100) }), r(0, ["SS", 2], 0, function () { return ~~(this.millisecond() / 10) }), r(0, ["SSS", 3], 0, "millisecond"), r(0, ["SSSS", 4], 0, function () { return this.millisecond() * 10 }), r(0, ["SSSSS", 5], 0, function () { return this.millisecond() * 100 }), r(0, ["SSSSSS", 6], 0, function () { return this.millisecond() * 1e3 }), r(0, ["SSSSSSS", 7], 0, function () { return this.millisecond() * 1e4 }), r(0, ["SSSSSSSS", 8], 0, function () { return this.millisecond() * 1e5 }), r(0, ["SSSSSSSSS", 9], 0, function () { return this.millisecond() * 1e6 }), p("millisecond", "ms"), w("millisecond", 16), i("S", sr, ae), i("SS", sr, k), i("SSS", sr, ve), kt = "SSSS"; kt.length <= 9; kt += "S")i(kt, /\d+/); for (kt = "S"; kt.length <= 9; kt += "S")h(kt, op); th = ei("Milliseconds", !1); r("z", 0, 0, "zoneAbbr"); r("zz", 0, 0, "zoneName"); n = yi.prototype; n.add = as; n.calendar = vv; n.clone = yv; n.diff = ny; n.endOf = cy; n.format = uy; n.from = fy; n.fromNow = ey; n.to = oy; n.toNow = sy; n.get = ec; n.invalidAt = dy; n.isAfter = pv; n.isBefore = wv; n.isBetween = bv; n.isSame = kv; n.isSameOrAfter = dv; n.isSameOrBefore = gv; n.isValid = by; n.lang = vf; n.locale = ys; n.localeData = ps; n.max = ts; n.min = ns; n.parsingFlags = ky; n.set = oc; n.startOf = hy; n.subtract = vs; n.toArray = yy; n.toObject = py; n.toDate = vy; n.toISOString = iy; n.inspect = ry; n.toJSON = wy; n.toString = ty; n.unix = ay; n.valueOf = ly; n.creationData = gy; n.year = pu; n.isLeapYear = fc; n.weekYear = np; n.isoWeekYear = tp; n.quarter = n.quarters = fp; n.month = de; n.daysInMonth = vc; n.week = n.weeks = gc; n.isoWeek = n.isoWeeks = nl; n.weeksInYear = rp; n.isoWeeksInYear = ip; n.date = yf; n.day = n.days = sl; n.weekday = hl; n.isoWeekday = cl; n.dayOfYear = ep; n.hour = n.hours = bl; n.minute = n.minutes = gs; n.second = n.seconds = nh; n.millisecond = n.milliseconds = th; n.utcOffset = tv; n.utc = rv; n.local = uv; n.parseZone = fv; n.hasAlignedHourOffset = ev; n.isDST = ov; n.isLocal = hv; n.isUtcOffset = cv; n.isUtc = es; n.isUTC = es; n.zoneAbbr = sp; n.zoneName = hp; n.dates = g("dates accessor is deprecated. Use date instead.", yf); n.months = g("months accessor is deprecated. Use month instead", de); n.years = g("years accessor is deprecated. Use year instead", pu); n.zone = g("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", iv); n.isDSTShifted = g("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", sv); o = su.prototype; o.calendar = lh; o.longDateFormat = ah; o.invalidDate = vh; o.ordinal = yh; o.preparse = ih; o.postformat = ih; o.relativeTime = ph; o.pastFuture = wh; o.set = ch; o.months = hc; o.monthsShort = cc; o.monthsParse = ac; o.monthsRegex = pc; o.monthsShortRegex = yc; o.week = bc; o.firstDayOfYear = dc; o.firstDayOfWeek = kc; o.weekdays = rl; o.weekdaysMin = fl; o.weekdaysShort = ul; o.weekdaysParse = ol; o.weekdaysRegex = ll; o.weekdaysShortRegex = al; o.weekdaysMinRegex = vl; o.isPM = pl; o.meridiem = wl; oi("en", { dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/, ordinal: function (n) { var t = n % 10, i = f(n % 100 / 10) === 1 ? "th" : t === 1 ? "st" : t === 2 ? "nd" : t === 3 ? "rd" : "th"; return n + i } }); t.lang = g("moment.lang is deprecated. Use moment.locale instead.", oi); t.langData = g("moment.langData is deprecated. Use moment.localeData instead.", bt); ct = Math.abs; var iw = yt("ms"), rw = yt("s"), uw = yt("m"), fw = yt("h"), ew = yt("d"), ow = yt("w"), sw = yt("M"), hw = yt("Q"), cw = yt("y"); var vw = ri("milliseconds"), yw = ri("seconds"), pw = ri("minutes"), ww = ri("hours"), bw = ri("days"), kw = ri("months"), dw = ri("years"); return pt = Math.round, ut = { ss: 44, s: 45, m: 45, h: 22, d: 26, M: 11 }, ru = Math.abs, e = dr.prototype, e.isValid = ga, e.abs = bp, e.add = kp, e.subtract = dp, e.as = nw, e.asMilliseconds = iw, e.asSeconds = rw, e.asMinutes = uw, e.asHours = fw, e.asDays = ew, e.asWeeks = ow, e.asMonths = sw, e.asQuarters = hw, e.asYears = cw, e.valueOf = tw, e._bubble = gp, e.clone = lw, e.get = aw, e.milliseconds = vw, e.seconds = yw, e.minutes = pw, e.hours = ww, e.days = bw, e.weeks = gw, e.months = kw, e.years = dw, e.humanize = ub, e.toISOString = uu, e.toString = uu, e.toJSON = uu, e.locale = ys, e.localeData = ps, e.toIsoString = g("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", uu), e.lang = vf, r("X", 0, 0, "unix"), r("x", 0, 0, "valueOf"), i("x", cr), i("X", /[+-]?\d+(\.\d{1,3})?/), h("X", function (n, t, i) { i._d = new Date(parseFloat(n, 10) * 1e3) }), h("x", function (n, t, i) { i._d = new Date(f(n)) }), t.version = "2.24.0", oh(c), t.fn = n, t.min = ba, t.max = ka, t.now = rs, t.utc = et, t.unix = cp, t.months = ap, t.isDate = tr, t.locale = oi, t.invalid = ir, t.duration = rt, t.isMoment = ot, t.weekdays = yp, t.parseZone = lp, t.localeData = bt, t.isDuration = of, t.monthsShort = vp, t.weekdaysMin = wp, t.defineLocale = tf, t.updateLocale = dl, t.locales = gl, t.weekdaysShort = pp, t.normalizeUnits = nt, t.relativeTimeRounding = ib, t.relativeTimeThreshold = rb, t.calendarFormat = av, t.prototype = n, t.HTML5_FMT = { DATETIME_LOCAL: "YYYY-MM-DDTHH:mm", DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss", DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS", DATE: "YYYY-MM-DD", TIME: "HH:mm", TIME_SECONDS: "HH:mm:ss", TIME_MS: "HH:mm:ss.SSS", WEEK: "GGGG-[W]WW", MONTH: "YYYY-MM" }, t }); !function () { function bl(n) { return n && (n.ownerDocument || n.document || n).documentElement } function kt(n) { return n && (n.ownerDocument && n.ownerDocument.defaultView || n.document && n || n.defaultView) } function gi(n, t) { return n < t ? -1 : n > t ? 1 : n >= t ? 0 : NaN } function oi(n) { return n === null ? NaN : +n } function lt(n) { return !isNaN(n) } function dl(n) { return { left: function (t, i, r, u) { for (arguments.length < 3 && (r = 0), arguments.length < 4 && (u = t.length); r < u;) { var f = r + u >>> 1; n(t[f], i) < 0 ? r = f + 1 : u = f } return r }, right: function (t, i, r, u) { for (arguments.length < 3 && (r = 0), arguments.length < 4 && (u = t.length); r < u;) { var f = r + u >>> 1; n(t[f], i) > 0 ? u = f : r = f + 1 } return r } } } function yk(n) { return n.length } function pk(n) { for (var t = 1; n * t % 1;)t *= 10; return t } function gl(n, t) { for (var i in t) Object.defineProperty(n.prototype, i, { value: t[i], enumerable: !1 }) } function at() { this._ = Object.create(null) } function ar(n) { return (n += "") === na || n[0] === ku ? ku + n : n } function du(n) { return (n += "")[0] === ku ? n.slice(1) : n } function ta(n) { return ar(n) in this._ } function ia(n) { return (n = ar(n)) in this._ && delete this._[n] } function ra() { var n = [], t; for (t in this._) n.push(du(t)); return n } function ua() { var n = 0, t; for (t in this._) ++n; return n } function fa() { for (var n in this._) return !1; return !0 } function lo() { this._ = Object.create(null) } function v(n) { return n } function wk(n, t, i) { return function () { var r = i.apply(t, arguments); return r === t ? n : r } } function ao(n, t) { var i, u, r; if (t in n) return t; for (t = t.charAt(0).toUpperCase() + t.slice(1), i = 0, u = vo.length; i < u; ++i)if (r = vo[i] + t, r in n) return r } function l() { } function yo() { } function ea(n) { function r() { for (var i = t, r = -1, f = i.length, u; ++r < f;)(u = i[r].on) && u.apply(this, arguments); return n } var t = [], i = new at; return r.on = function (r, u) { var f = i.get(r), e; return arguments.length < 2 ? f && f.on : (f && (f.on = null, t = t.slice(0, e = t.indexOf(f)).concat(t.slice(e + 1)), i.remove(r)), u && t.push(i.set(r, { on: u })), n) }, r } function dt() { n.event.preventDefault() } function po() { for (var t = n.event, i; i = t.sourceEvent;)t = i; return t } function wo(t) { for (var i = new yo, r = 0, u = arguments.length; ++r < u;)i[arguments[r]] = ea(i); return i.of = function (r, u) { return function (f) { try { var e = f.sourceEvent = n.event; f.target = t; n.event = f; i[f.type].apply(r, u) } finally { n.event = e } } }, i } function gt(n) { return vr(n, e), n } function go(n) { return typeof n == "function" ? n : function () { return bo(n, this) } } function sa(n) { return typeof n == "function" ? n : function () { return ko(n, this) } } function ha(t, i) { function r() { this.removeAttribute(t) } function u() { this.removeAttributeNS(t.space, t.local) } function f() { this.setAttribute(t, i) } function e() { this.setAttributeNS(t.space, t.local, i) } function o() { var n = i.apply(this, arguments); n == null ? this.removeAttribute(t) : this.setAttribute(t, n) } function s() { var n = i.apply(this, arguments); n == null ? this.removeAttributeNS(t.space, t.local) : this.setAttributeNS(t.space, t.local, n) } return t = n.ns.qualify(t), i == null ? t.local ? u : r : typeof i == "function" ? t.local ? s : o : t.local ? e : f } function ca(n) { return n.trim().replace(/\s+/g, " ") } function la(t) { return new RegExp("(?:^|\\s+)" + n.requote(t) + "(?:\\s+|$)", "g") } function aa(n) { return (n + "").trim().split(/^|\s+/) } function va(n, t) { function r() { for (var r = -1; ++r < i;)n[r](this, t) } function u() { for (var r = -1, u = t.apply(this, arguments); ++r < i;)n[r](this, u) } n = aa(n).map(bk); var i = n.length; return typeof t == "function" ? u : r } function bk(n) { var t = la(n); return function (i, r) { if (u = i.classList) return r ? u.add(n) : u.remove(n); var u = i.getAttribute("class") || ""; r ? (t.lastIndex = 0, t.test(u) || i.setAttribute("class", ca(u + " " + n))) : i.setAttribute("class", ca(u.replace(t, " "))) } } function ya(n, t, i) { function r() { this.style.removeProperty(n) } function u() { this.style.setProperty(n, t, i) } function f() { var r = t.apply(this, arguments); r == null ? this.style.removeProperty(n) : this.style.setProperty(n, r, i) } return t == null ? r : typeof t == "function" ? f : u } function pa(n, t) { function i() { delete this[n] } function r() { this[n] = t } function u() { var i = t.apply(this, arguments); i == null ? delete this[n] : this[n] = i } return t == null ? i : typeof t == "function" ? u : r } function wa(t) { function i() { var n = this.ownerDocument, i = this.namespaceURI; return i === nf && n.documentElement.namespaceURI === nf ? n.createElement(t) : n.createElementNS(i, t) } function r() { return this.ownerDocument.createElementNS(t.space, t.local) } return typeof t == "function" ? t : (t = n.ns.qualify(t)).local ? r : i } function kk() { var n = this.parentNode; n && n.removeChild(this) } function ns(n) { return { __data__: n } } function ba(n) { return function () { return gu(this, n) } } function dk(n) { return arguments.length || (n = gi), function (t, i) { return t && i ? n(t.__data__, i.__data__) : !t - !i } } function vt(n, t) { for (var i = 0, u = n.length; i < u; i++)for (var f = n[i], r = 0, o = f.length, e; r < o; r++)(e = f[r]) && t(e, r, i); return n } function ka(n) { return vr(n, et), n } function gk(n) { var t, i; return function (r, u, f) { var e = n[f].update, s = e.length, o; for (f != i && (i = f, t = 0), u >= t && (t = u + 1); !(o = e[t]) && ++t < s;); return o } } function da(t, i, r) { function s() { var n = this[u]; n && (this.removeEventListener(t, n, n.$), delete this[u]) } function h() { var n = o(i, ft(arguments)); s.call(this); this.addEventListener(t, this[u] = n, n.$ = r); n._ = i } function c() { var f = new RegExp("^__on([^.]+)" + n.requote(t) + "$"), u, i, r; for (i in this) (u = i.match(f)) && (r = this[i], this.removeEventListener(u[1], r, r.$), delete this[i]) } var u = "__on" + t, f = t.indexOf("."), o = ga, e; return f > 0 && (t = t.slice(0, f)), e = rf.get(t), e && (t = e, o = nd), f ? i ? h : s : i ? l : c } function ga(t, i) { return function (r) { var u = n.event; n.event = r; i[0] = this.__data__; try { t.apply(this, i) } finally { n.event = u } } } function nd(n, t) { var i = ga(n, t); return function (n) { var t = this, r = n.relatedTarget; r && (r === t || r.compareDocumentPosition(t) & 8) || i.call(t, n) } } function uf(t) { var i = ".dragsuppress-" + ++nv, f = "click" + i, u = n.select(kt(t)).on("touchmove" + i, dt).on("dragstart" + i, dt).on("selectstart" + i, dt), r, e; return si == null && (si = "onselectstart" in t ? !1 : ao(t.style, "userSelect")), si && (r = bl(t).style, e = r[si], r[si] = "none"), function (n) { u.on(i, null); if (si && (r[si] = e), n) { var t = function () { u.on(f, null) }; u.on(f, function () { dt(); t() }, !0); setTimeout(t, 0) } } } function ts(t, i) { var u, r, f, e, o; return (i.changedTouches && (i = i.changedTouches[0]), u = t.ownerSVGElement || t, u.createSVGPoint) ? (r = u.createSVGPoint(), ff < 0 && (f = kt(t), (f.scrollX || f.scrollY) && (u = n.select("body").append("svg").style({ position: "absolute", top: 0, left: 0, margin: 0, padding: 0, border: "none" }, "important"), e = u[0][0].getScreenCTM(), ff = !(e.f || e.e), u.remove())), ff ? (r.x = i.pageX, r.y = i.pageY) : (r.x = i.clientX, r.y = i.clientY), r = r.matrixTransform(t.getScreenCTM().inverse()), [r.x, r.y]) : (o = t.getBoundingClientRect(), [i.clientX - o.left - t.clientLeft, i.clientY - o.top - t.clientTop]) } function td() { return n.event.changedTouches[0].identifier } function tv(n) { return n > 0 ? 1 : n < 0 ? -1 : 0 } function is(n, t, i) { return (t[0] - n[0]) * (i[1] - n[1]) - (t[1] - n[1]) * (i[0] - n[0]) } function iv(n) { return n > 1 ? 0 : n < -1 ? f : Math.acos(n) } function ni(n) { return n > 1 ? h : n < -1 ? -h : Math.asin(n) } function rd(n) { return ((n = Math.exp(n)) - 1 / n) / 2 } function rv(n) { return ((n = Math.exp(n)) + 1 / n) / 2 } function ud(n) { return ((n = Math.exp(2 * n)) - 1) / (n + 1) } function uv(n) { return (n = Math.sin(n / 2)) * n } function hi() { } function ot(n, t, i) { return this instanceof ot ? void (this.h = +n, this.s = +t, this.l = +i) : arguments.length < 2 ? n instanceof ot ? new ot(n.h, n.s, n.l) : av("" + n, vv, ot) : new ot(n, t, i) } function es(n, t, i) { function e(n) { return (n > 360 ? n -= 360 : n < 0 && (n += 360), n < 60) ? r + (u - r) * n / 60 : n < 180 ? u : n < 240 ? r + (u - r) * (240 - n) / 60 : r } function f(n) { return Math.round(e(n) * 255) } var r, u; return n = isNaN(n) ? 0 : (n %= 360) < 0 ? n + 360 : n, t = isNaN(t) ? 0 : t < 0 ? 0 : t > 1 ? 1 : t, i = i < 0 ? 0 : i > 1 ? 1 : i, u = i <= .5 ? i * (1 + t) : i + t - i * t, r = 2 * i - u, new b(f(n + 120), f(n), f(n - 120)) } function it(t, i, r) { return this instanceof it ? void (this.h = +t, this.c = +i, this.l = +r) : arguments.length < 2 ? t instanceof it ? new it(t.h, t.c, t.l) : t instanceof rt ? cv(t.l, t.a, t.b) : cv((t = yv((t = n.rgb(t)).r, t.g, t.b)).l, t.a, t.b) : new it(t, i, r) } function os(n, t, i) { return isNaN(n) && (n = 0), isNaN(t) && (t = 0), new rt(i, Math.cos(n *= u) * t, Math.sin(n) * t) } function rt(n, t, i) { return this instanceof rt ? void (this.l = +n, this.a = +t, this.b = +i) : arguments.length < 2 ? n instanceof rt ? new rt(n.l, n.a, n.b) : n instanceof it ? os(n.h, n.c, n.l) : yv((n = b(n)).r, n.g, n.b) : new rt(n, t, i) } function hv(n, t, i) { var r = (n + 16) / 116, u = r + t / 500, f = r - i / 200; return u = hs(u) * ev, r = hs(r) * ov, f = hs(f) * sv, new b(ls(3.2404542 * u - 1.5371385 * r - .4985314 * f), ls(-.969266 * u + 1.8760108 * r + .041556 * f), ls(.0556434 * u - .2040259 * r + 1.0572252 * f)) } function cv(n, t, i) { return n > 0 ? new it(Math.atan2(i, t) * s, Math.sqrt(t * t + i * i), n) : new it(NaN, NaN, n) } function hs(n) { return n > .206893034 ? n * n * n : (n - 4 / 29) / 7.787037 } function cs(n) { return n > .008856 ? Math.pow(n, 1 / 3) : 7.787037 * n + 4 / 29 } function ls(n) { return Math.round(255 * (n <= .00304 ? 12.92 * n : 1.055 * Math.pow(n, 1 / 2.4) - .055)) } function b(n, t, i) { return this instanceof b ? void (this.r = ~~n, this.g = ~~t, this.b = ~~i) : arguments.length < 2 ? n instanceof b ? new b(n.r, n.g, n.b) : av("" + n, b, es) : new b(n, t, i) } function lv(n) { return new b(n >> 16, n >> 8 & 255, n & 255) } function lf(n) { return lv(n) + "" } function nr(n) { return n < 16 ? "0" + Math.max(0, n).toString(16) : Math.min(255, n).toString(16) } function av(n, t, i) { var f = 0, e = 0, o = 0, s, u, r; if (s = /([a-z]+)\((.*)\)/.exec(n = n.toLowerCase()), s) { u = s[2].split(","); switch (s[1]) { case "hsl": return i(parseFloat(u[0]), parseFloat(u[1]) / 100, parseFloat(u[2]) / 100); case "rgb": return t(vs(u[0]), vs(u[1]), vs(u[2])) } } return (r = wr.get(n)) ? t(r.r, r.g, r.b) : (n == null || n.charAt(0) !== "#" || isNaN(r = parseInt(n.slice(1), 16)) || (n.length === 4 ? (f = (r & 3840) >> 4, f = f >> 4 | f, e = r & 240, e = e >> 4 | e, o = r & 15, o = o << 4 | o) : n.length === 7 && (f = (r & 16711680) >> 16, e = (r & 65280) >> 8, o = r & 255)), t(f, e, o)) } function vv(n, t, i) { var f = Math.min(n /= 255, t /= 255, i /= 255), r = Math.max(n, t, i), u = r - f, e, s, o = (r + f) / 2; return u ? (s = o < .5 ? u / (r + f) : u / (2 - r - f), e = (n == r ? (t - i) / u + (t < i ? 6 : 0) : t == r ? (i - n) / u + 2 : (n - t) / u + 4) * 60) : (e = NaN, s = o > 0 && o < 1 ? 0 : e), new ot(e, s, o) } function yv(n, t, i) { n = as(n); t = as(t); i = as(i); var u = cs((.4124564 * n + .3575761 * t + .1804375 * i) / ev), r = cs((.2126729 * n + .7151522 * t + .072175 * i) / ov), f = cs((.0193339 * n + .119192 * t + .9503041 * i) / sv); return rt(116 * r - 16, 500 * (u - r), 200 * (r - f)) } function as(n) { return (n /= 255) <= .04045 ? n / 12.92 : Math.pow((n + .055) / 1.055, 2.4) } function vs(n) { var t = parseFloat(n); return n.charAt(n.length - 1) === "%" ? Math.round(t * 2.55) : t } function o(n) { return typeof n == "function" ? n : function () { return n } } function ys(n) { return function (t, i, r) { return arguments.length === 2 && typeof i == "function" && (r = i, i = null), af(t, i, n, r) } } function af(t, i, r, u) { function c() { var n = e.status, t; if (!n && ed(e) || n >= 200 && n < 300 || n === 304) { try { t = r.call(f, e) } catch (i) { s.error.call(f, i); return } s.load.call(f, t) } else s.error.call(f, e) } var f = {}, s = n.dispatch("beforesend", "progress", "load", "error"), o = {}, e = new XMLHttpRequest, h = null; return !this.XDomainRequest || "withCredentials" in e || !/^(http(s)?:)?\/\//.test(t) || (e = new XDomainRequest), "onload" in e ? e.onload = e.onerror = c : e.onreadystatechange = function () { e.readyState > 3 && c() }, e.onprogress = function (t) { var i = n.event; n.event = t; try { s.progress.call(f, e) } finally { n.event = i } }, f.header = function (n, t) { return (n = (n + "").toLowerCase(), arguments.length < 2) ? o[n] : (t == null ? delete o[n] : o[n] = t + "", f) }, f.mimeType = function (n) { return arguments.length ? (i = n == null ? null : n + "", f) : i }, f.responseType = function (n) { return arguments.length ? (h = n, f) : h }, f.response = function (n) { return r = n, f }, ["get", "post"].forEach(function (n) { f[n] = function () { return f.send.apply(f, [n].concat(ft(arguments))) } }), f.send = function (n, r, u) { if (arguments.length === 2 && typeof r == "function" && (u = r, r = null), e.open(n, t, !0), i == null || "accept" in o || (o.accept = i + ",*/*"), e.setRequestHeader) for (var c in o) e.setRequestHeader(c, o[c]); if (i != null && e.overrideMimeType && e.overrideMimeType(i), h != null && (e.responseType = h), u != null) f.on("error", u).on("load", function (n) { u(null, n) }); return s.beforesend.call(f, e), e.send(r == null ? null : r), f }, f.abort = function () { return e.abort(), f }, n.rebind(f, s, "on"), u == null ? f : f.get(fd(u)) } function fd(n) { return n.length === 1 ? function (t, i) { n(t == null ? i : null) } : n } function ed(n) { var t = n.responseType; return t && t !== "text" ? n.response : n.responseText } function bf(n, t, i) { var u = arguments.length, f, r; return u < 2 && (t = 0), u < 3 && (i = Date.now()), f = i + t, r = { c: n, t: f, n: null }, yf ? yf.n = r : vf = r, yf = r, pf || (wf = clearTimeout(wf), pf = 1, ps(ws)), r } function ws() { var t = pv(), n = wv() - t; n > 24 ? (isFinite(n) && (clearTimeout(wf), wf = setTimeout(ws, n)), pf = 0) : (pf = 1, ps(ws)) } function pv() { for (var t = Date.now(), n = vf; n;)t >= n.t && n.c(t - n.t) && (n.c = null), n = n.n; return t } function wv() { for (var t, n = vf, i = Infinity; n;)n.c ? (n.t < i && (i = n.t), n = (t = n).n) : n = t ? t.n = n.n : vf = n.n; return yf = t, i } function bs(n, t) { return t - (n ? Math.ceil(Math.log(n) / Math.LN10) : 1) } function od(n, t) { var i = Math.pow(10, r(8 - t) * 3); return { scale: t > 8 ? function (n) { return n / i } : function (n) { return n * i }, symbol: n } } function sd(t) { var e = t.decimal, r = t.thousands, i = t.grouping, u = t.currency, f = i && r ? function (n, t) { for (var f = n.length, o = [], s = 0, u = i[0], e = 0; f > 0 && u > 0;) { if (e + u + 1 > t && (u = Math.max(1, t - e)), o.push(n.substring(f -= u, f + u)), (e += u + 1) > t) break; u = i[s = (s + 1) % i.length] } return o.reverse().join(r) } : v; return function (t) { var o = ks.exec(t), y = o[1] || " ", s = o[2] || ">", b = o[3] || "-", k = o[4] || "", l = o[5], p = +o[6], w = o[7], r = o[8], i = o[9], h = 1, a = "", c = "", d = !1, g = !0, v; r && (r = +r.substring(1)); (l || y === "0" && s === "=") && (l = y = "0", s = "="); switch (i) { case "n": w = !0; i = "g"; break; case "%": h = 100; c = "%"; i = "f"; break; case "p": h = 100; c = "%"; i = "r"; break; case "b": case "o": case "x": case "X": k === "#" && (a = "0" + i.toLowerCase()); case "c": g = !1; case "d": d = !0; r = 0; break; case "s": h = -1; i = "r" }return k === "$" && (a = u[0], c = u[1]), i != "r" || r || (i = "g"), r != null && (i == "g" ? r = Math.max(1, Math.min(21, r)) : (i == "e" || i == "f") && (r = Math.max(0, Math.min(20, r)))), i = kv.get(i) || hd, v = l && w, function (t) { var ft = c, k, ut, it, u, nt, rt, tt, o; return d && t % 1 ? "" : (k = t < 0 || t === 0 && 1 / t < 0 ? (t = -t, "-") : b === "-" ? "" : b, h < 0 ? (ut = n.formatPrefix(t, r), t = ut.scale(t), ft = ut.symbol + c) : t *= h, t = i(t, r), it = t.lastIndexOf("."), it < 0 ? (rt = g ? t.lastIndexOf("e") : -1, rt < 0 ? (u = t, nt = "") : (u = t.substring(0, rt), nt = t.substring(rt))) : (u = t.substring(0, it), nt = e + t.substring(it + 1)), !l && w && (u = f(u, Infinity)), tt = a.length + u.length + nt.length + (v ? 0 : k.length), o = tt < p ? new Array(tt = p - tt + 1).join(y) : "", v && (u = f(o + u, o.length ? p - nt.length : Infinity)), k += a, t = u + nt, (s === "<" ? k + t + o : s === ">" ? o + k + t : s === "^" ? o.substring(0, tt >>= 1) + k + t + o.substring(tt) : k + (v ? t : o + t)) + ft) } } } function hd(n) { return n + "" } function yt() { this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0]) } function ci(n, t, i) { function e(t) { var i = n(t), r = f(i, 1); return t - i < r - t ? i : r } function u(i) { return t(i = n(new y(i - 1)), 1), i } function f(n, i) { return t(n = new y(+n), i), n } function o(n, r, f) { var e = u(n), o = []; if (f > 1) while (e < r) i(e) % f || o.push(new Date(+e)), t(e, 1); else while (e < r) o.push(new Date(+e)), t(e, 1); return o } function s(n, t, i) { try { y = yt; var r = new yt; return r._ = n, o(r, t, i) } finally { y = Date } } n.floor = n; n.round = e; n.ceil = u; n.offset = f; n.range = o; var r = n.utc = kf(n); return r.floor = r, r.round = kf(e), r.ceil = kf(u), r.offset = kf(f), r.range = s, n } function kf(n) { return function (t, i) { try { y = yt; var r = new yt; return r._ = t, n(r, i)._ } finally { y = Date } } } function cd(t) { function r(n) { function t(t) { for (var e = [], r = -1, o = 0, f, s, h; ++r < i;)n.charCodeAt(r) === 37 && (e.push(n.slice(o, r)), (s = dv[f = n.charAt(++r)]) != null && (f = n.charAt(++r)), (h = u[f]) && (f = h(t, s == null ? f === "e" ? " " : "0" : s)), e.push(f), o = r + 1); return e.push(n.slice(o, r)), e.join("") } var i = n.length; return t.parse = function (t) { var i = { y: 1900, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0, Z: null }, e = f(i, n, t, 0), u, r; return e != t.length ? null : ("p" in i && (i.H = i.H % 12 + i.p * 12), u = i.Z != null && y !== yt, r = new (u ? yt : y), "j" in i ? r.setFullYear(i.y, 0, i.j) : "W" in i || "U" in i ? ("w" in i || (i.w = "W" in i ? 1 : 0), r.setFullYear(i.y, 0, 1), r.setFullYear(i.y, 0, "W" in i ? (i.w + 6) % 7 + i.W * 7 - (r.getDay() + 5) % 7 : i.w + i.U * 7 - (r.getDay() + 6) % 7)) : r.setFullYear(i.y, i.m, i.d), r.setHours(i.H + (i.Z / 100 | 0), i.M + i.Z % 100, i.S, i.L), u ? r._ : r) }, t.toString = function () { return n }, t } function f(n, t, i, r) { for (var f, e, o, u = 0, s = t.length, h = i.length; u < s;) { if (r >= h) return -1; if (f = t.charCodeAt(u++), f === 37) { if (o = t.charAt(u++), e = k[o in dv ? t.charAt(u++) : o], !e || (r = e(n, i, r)) < 0) return -1 } else if (f != i.charCodeAt(r++)) return -1 } return r } function ft(n, t, i) { v.lastIndex = 0; var r = v.exec(t.slice(i)); return r ? (n.w = it.get(r[0].toLowerCase()), i + r[0].length) : -1 } function et(n, t, i) { a.lastIndex = 0; var r = a.exec(t.slice(i)); return r ? (n.w = tt.get(r[0].toLowerCase()), i + r[0].length) : -1 } function ot(n, t, i) { b.lastIndex = 0; var r = b.exec(t.slice(i)); return r ? (n.m = ut.get(r[0].toLowerCase()), i + r[0].length) : -1 } function st(n, t, i) { p.lastIndex = 0; var r = p.exec(t.slice(i)); return r ? (n.m = rt.get(r[0].toLowerCase()), i + r[0].length) : -1 } function ht(n, t, i) { return f(n, u.c.toString(), t, i) } function ct(n, t, i) { return f(n, u.x.toString(), t, i) } function lt(n, t, i) { return f(n, u.X.toString(), t, i) } function at(n, t, i) { var r = l.get(t.slice(i, i += 2).toLowerCase()); return r == null ? -1 : (n.p = r, i) } var d = t.dateTime, g = t.date, nt = t.time, c = t.periods, e = t.days, o = t.shortDays, s = t.months, h = t.shortMonths, u, k; r.utc = function (n) { function i(n) { try { y = yt; var i = new y; return i._ = n, t(i) } finally { y = Date } } var t = r(n); return i.parse = function (n) { try { y = yt; var i = t.parse(n); return i && i._ } finally { y = Date } }, i.toString = t.toString, i }; r.multi = r.utc.multi = ug; var l = n.map(), a = df(e), tt = gf(e), v = df(o), it = gf(o), p = df(s), rt = gf(s), b = df(h), ut = gf(h); return c.forEach(function (n, t) { l.set(n.toLowerCase(), t) }), u = { a: function (n) { return o[n.getDay()] }, A: function (n) { return e[n.getDay()] }, b: function (n) { return h[n.getMonth()] }, B: function (n) { return s[n.getMonth()] }, c: r(d), d: function (n, t) { return w(n.getDate(), t, 2) }, e: function (n, t) { return w(n.getDate(), t, 2) }, H: function (n, t) { return w(n.getHours(), t, 2) }, I: function (n, t) { return w(n.getHours() % 12 || 12, t, 2) }, j: function (n, t) { return w(1 + i.dayOfYear(n), t, 3) }, L: function (n, t) { return w(n.getMilliseconds(), t, 3) }, m: function (n, t) { return w(n.getMonth() + 1, t, 2) }, M: function (n, t) { return w(n.getMinutes(), t, 2) }, p: function (n) { return c[+(n.getHours() >= 12)] }, S: function (n, t) { return w(n.getSeconds(), t, 2) }, U: function (n, t) { return w(i.sundayOfYear(n), t, 2) }, w: function (n) { return n.getDay() }, W: function (n, t) { return w(i.mondayOfYear(n), t, 2) }, x: r(g), X: r(nt), y: function (n, t) { return w(n.getFullYear() % 100, t, 2) }, Y: function (n, t) { return w(n.getFullYear() % 1e4, t, 4) }, Z: ig, "%": function () { return "%" } }, k = { a: ft, A: et, b: ot, B: st, c: ht, d: ny, e: ny, H: ty, I: ty, j: dd, L: tg, m: kd, M: gd, p: at, S: ng, U: ad, w: ld, W: vd, x: ct, X: lt, y: pd, Y: yd, Z: wd, "%": rg }, r } function w(n, t, i) { var u = n < 0 ? "-" : "", r = (u ? -n : n) + "", f = r.length; return u + (f < i ? new Array(i - f + 1).join(t) + r : r) } function df(t) { return new RegExp("^(?:" + t.map(n.requote).join("|") + ")", "i") } function gf(n) { for (var i = new at, t = -1, r = n.length; ++t < r;)i.set(n[t].toLowerCase(), t); return i } function ld(n, t, i) { c.lastIndex = 0; var r = c.exec(t.slice(i, i + 1)); return r ? (n.w = +r[0], i + r[0].length) : -1 } function ad(n, t, i) { c.lastIndex = 0; var r = c.exec(t.slice(i)); return r ? (n.U = +r[0], i + r[0].length) : -1 } function vd(n, t, i) { c.lastIndex = 0; var r = c.exec(t.slice(i)); return r ? (n.W = +r[0], i + r[0].length) : -1 } function yd(n, t, i) { c.lastIndex = 0; var r = c.exec(t.slice(i, i + 4)); return r ? (n.y = +r[0], i + r[0].length) : -1 } function pd(n, t, i) { c.lastIndex = 0; var r = c.exec(t.slice(i, i + 2)); return r ? (n.y = bd(+r[0]), i + r[0].length) : -1 } function wd(n, t, i) { return /^[+-]\d{4}$/.test(t = t.slice(i, i + 5)) ? (n.Z = -t, i + 5) : -1 } function bd(n) { return n + (n > 68 ? 1900 : 2e3) } function kd(n, t, i) { c.lastIndex = 0; var r = c.exec(t.slice(i, i + 2)); return r ? (n.m = r[0] - 1, i + r[0].length) : -1 } function ny(n, t, i) { c.lastIndex = 0; var r = c.exec(t.slice(i, i + 2)); return r ? (n.d = +r[0], i + r[0].length) : -1 } function dd(n, t, i) { c.lastIndex = 0; var r = c.exec(t.slice(i, i + 3)); return r ? (n.j = +r[0], i + r[0].length) : -1 } function ty(n, t, i) { c.lastIndex = 0; var r = c.exec(t.slice(i, i + 2)); return r ? (n.H = +r[0], i + r[0].length) : -1 } function gd(n, t, i) { c.lastIndex = 0; var r = c.exec(t.slice(i, i + 2)); return r ? (n.M = +r[0], i + r[0].length) : -1 } function ng(n, t, i) { c.lastIndex = 0; var r = c.exec(t.slice(i, i + 2)); return r ? (n.S = +r[0], i + r[0].length) : -1 } function tg(n, t, i) { c.lastIndex = 0; var r = c.exec(t.slice(i, i + 3)); return r ? (n.L = +r[0], i + r[0].length) : -1 } function ig(n) { var t = n.getTimezoneOffset(), i = t > 0 ? "-" : "+", u = r(t) / 60 | 0, f = r(t) % 60; return i + w(u, "0", 2) + w(f, "0", 2) } function rg(n, t, i) { gv.lastIndex = 0; var r = gv.exec(t.slice(i, i + 1)); return r ? i + r[0].length : -1 } function ug(n) { for (var i = n.length, t = -1; ++t < i;)n[t][0] = this(n[t][0]); return function (t) { for (var r = 0, i = n[r]; !i[1](t);)i = n[++r]; return i[0](t) } } function gs() { } function iy(n, t, i) { var r = i.s = n + t, u = r - n, f = r - u; i.t = n - f + (t - u) } function ne(n, t) { n && th.hasOwnProperty(n.type) && th[n.type](n, t) } function ih(n, t, i) { var u = -1, f = n.length - i, r; for (t.lineStart(); ++u < f;)r = n[u], t.point(r[0], r[1], r[2]); t.lineEnd() } function ry(n, t) { var i = -1, r = n.length; for (t.polygonStart(); ++i < r;)ih(n[i], t, 1); t.polygonEnd() } function fg() { function o(r, e) { r *= u; e = e * u / 2 + f / 4; var o = r - n, s = o >= 0 ? 1 : -1, h = s * o, c = Math.cos(e), l = Math.sin(e), a = i * l, v = t * c + a * Math.cos(h), y = a * s * Math.sin(h); ti.add(Math.atan2(y, v)); n = r; t = c; i = l } var r, e, n, t, i; k.point = function (s, h) { k.point = o; n = (r = s) * u; t = Math.cos(h = (e = h) * u / 2 + f / 4); i = Math.sin(h) }; k.lineEnd = function () { o(r, e) } } function li(n) { var t = n[0], i = n[1], r = Math.cos(i); return [r * Math.cos(t), r * Math.sin(t), Math.sin(i)] } function ie(n, t) { return n[0] * t[0] + n[1] * t[1] + n[2] * t[2] } function tr(n, t) { return [n[1] * t[2] - n[2] * t[1], n[2] * t[0] - n[0] * t[2], n[0] * t[1] - n[1] * t[0]] } function rh(n, t) { n[0] += t[0]; n[1] += t[1]; n[2] += t[2] } function re(n, t) { return [n[0] * t, n[1] * t, n[2] * t] } function ue(n) { var t = Math.sqrt(n[0] * n[0] + n[1] * n[1] + n[2] * n[2]); n[0] /= t; n[1] /= t; n[2] /= t } function fe(n) { return [Math.atan2(n[1], n[0]), ni(n[2])] } function ee(n, i) { return r(n[0] - i[0]) < t && r(n[1] - i[1]) < t } function uh(n, t) { n *= u; var i = Math.cos(t *= u); dr(i * Math.cos(n), i * Math.sin(n), Math.sin(t)) } function dr(n, t, i) { ++kr; ai += (n - ai) / kr; vi += (t - vi) / kr; pt += (i - pt) / kr } function uy() { function r(r, f) { r *= u; var c = Math.cos(f *= u), o = c * Math.cos(r), s = c * Math.sin(r), h = Math.sin(f), e = Math.atan2(Math.sqrt((e = t * h - i * s) * e + (e = i * o - n * h) * e + (e = n * s - t * o) * e), n * o + t * s + i * h); oe += e; ii += e * (n + (n = o)); ri += e * (t + (t = s)); ht += e * (i + (i = h)); dr(n, t, i) } var n, t, i; g.point = function (f, e) { f *= u; var o = Math.cos(e *= u); n = o * Math.cos(f); t = o * Math.sin(f); i = Math.sin(e); g.point = r; dr(n, t, i) } } function fy() { g.point = uh } function eg() { function e(r, f) { r *= u; var p = Math.cos(f *= u), e = p * Math.cos(r), o = p * Math.sin(r), s = Math.sin(f), c = t * s - i * o, l = i * e - n * s, a = n * o - t * e, v = Math.sqrt(c * c + l * l + a * a), w = n * e + t * o + i * s, y = v && -iv(w) / v, h = Math.atan2(v, w); ir += y * c; rr += y * l; ui += y * a; oe += h; ii += h * (n + (n = e)); ri += h * (t + (t = o)); ht += h * (i + (i = s)); dr(n, t, i) } var r, f, n, t, i; g.point = function (o, s) { r = o; f = s; g.point = e; o *= u; var h = Math.cos(s *= u); n = h * Math.cos(o); t = h * Math.sin(o); i = Math.sin(s); dr(n, t, i) }; g.lineEnd = function () { e(r, f); g.lineEnd = fy; g.point = uh } } function ey(n, t) { function i(i, r) { return i = n(i, r), t(i[0], i[1]) } return n.invert && t.invert && (i.invert = function (i, r) { return i = t.invert(i, r), i && n.invert(i[0], i[1]) }), i } function gr() { return !0 } function oy(n, t, i, r, u) { var h = [], s = [], v, o, a, f, c, l, e; if (n.forEach(function (n) { var o, i, f, e, t, r; if (!((o = n.length - 1) <= 0)) { if (i = n[0], f = n[o], ee(i, f)) { for (u.lineStart(), e = 0; e < o; ++e)u.point((i = n[e])[0], i[1]); u.lineEnd(); return } t = new se(i, n, null, !0); r = new se(i, null, t, !1); t.o = r; h.push(t); s.push(r); t = new se(f, n, null, !1); r = new se(f, null, t, !0); t.o = r; h.push(t); s.push(r) } }), s.sort(t), sy(h), sy(s), h.length) { for (var e = 0, y = i, l = s.length; e < l; ++e)s[e].e = y = !y; for (v = h[0]; ;) { for (f = v, c = !0; f.v;)if ((f = f.n) === v) return; o = f.z; u.lineStart(); do { if (f.v = f.o.v = !0, f.e) { if (c) for (e = 0, l = o.length; e < l; ++e)u.point((a = o[e])[0], a[1]); else r(f.x, f.n.x, 1, u); f = f.n } else { if (c) for (o = f.p.z, e = o.length - 1; e >= 0; --e)u.point((a = o[e])[0], a[1]); else r(f.x, f.p.x, -1, u); f = f.p } f = f.o; o = f.z; c = !c } while (!f.v); u.lineEnd() } } } function sy(n) { if (r = n.length) { for (var r, u = 0, t = n[0], i; ++u < r;)t.n = i = n[u], i.p = t, t = i; t.n = i = n[0]; i.p = t } } function se(n, t, i, r) { this.x = n; this.z = t; this.o = i; this.e = r; this.v = !1; this.n = this.p = null } function hy(t, i, r, u) { return function (f, e) { function y(n, i) { var r = f(n, i); t(n = r[0], i = r[1]) && e.point(n, i) } function g(n, t) { var i = f(n, t); v.point(i[0], i[1]) } function p() { o.point = g; v.lineStart() } function w() { o.point = y; v.lineEnd() } function k(n, t) { c.push([n, t]); var i = f(n, t); l.point(i[0], i[1]) } function nt() { l.lineStart(); c = [] } function tt() { var t, r, f; k(c[0][0], c[0][1]); l.lineEnd(); var u = l.clean(), n = b.buffer(), i, t = n.length; if (c.pop(), a.push(c), c = null, t) { if (u & 1) { if (i = n[0], t = i.length - 1, r = -1, t > 0) { for (s || (e.polygonStart(), s = !0), e.lineStart(); ++r < t;)e.point((f = i[r])[0], f[1]); e.lineEnd() } return } t > 1 && u & 2 && n.push(n.pop().concat(n.shift())); h.push(n.filter(og)) } } var v = i(e), d = f.invert(u[0], u[1]), o = { point: y, lineStart: p, lineEnd: w, polygonStart: function () { o.point = k; o.lineStart = nt; o.lineEnd = tt; h = []; a = [] }, polygonEnd: function () { o.point = y; o.lineStart = p; o.lineEnd = w; h = n.merge(h); var t = ag(d, a); h.length ? (s || (e.polygonStart(), s = !0), oy(h, sg, t, r, e)) : t && (s || (e.polygonStart(), s = !0), e.lineStart(), r(null, null, 1, e), e.lineEnd()); s && (e.polygonEnd(), s = !1); h = a = null }, sphere: function () { e.polygonStart(); e.lineStart(); r(null, null, 1, e); e.lineEnd(); e.polygonEnd() } }, h, b = cy(), l = i(b), s = !1, a, c; return o } } function og(n) { return n.length > 1 } function cy() { var n = [], t; return { lineStart: function () { n.push(t = []) }, point: function (n, i) { t.push([n, i]) }, lineEnd: l, buffer: function () { var i = n; return n = [], t = null, i }, rejoin: function () { n.length > 1 && n.push(n.pop().concat(n.shift())) } } } function sg(n, i) { return ((n = n.x)[0] < 0 ? n[1] - h - t : h - n[1]) - ((i = i.x)[0] < 0 ? i[1] - h - t : h - i[1]) } function hg(n) { var u = NaN, i = NaN, e = NaN, o; return { lineStart: function () { n.lineStart(); o = 1 }, point: function (s, c) { var l = s > 0 ? f : -f, a = r(s - u); r(a - f) < t ? (n.point(u, i = (i + c) / 2 > 0 ? h : -h), n.point(e, i), n.lineEnd(), n.lineStart(), n.point(l, i), n.point(s, i), o = 0) : e !== l && a >= f && (r(u - e) < t && (u -= e * t), r(s - l) < t && (s -= l * t), i = cg(u, i, s, c), n.point(e, i), n.lineEnd(), n.lineStart(), n.point(l, i), o = 0); n.point(u = s, i = c); e = l }, lineEnd: function () { n.lineEnd(); u = i = NaN }, clean: function () { return 2 - o } } } function cg(n, i, u, f) { var e, o, s = Math.sin(n - u); return r(s) > t ? Math.atan((Math.sin(i) * (o = Math.cos(f)) * Math.sin(u) - Math.sin(f) * (e = Math.cos(i)) * Math.sin(n)) / (e * o * s)) : (i + f) / 2 } function lg(n, i, u, e) { var o, s; n == null ? (o = u * h, e.point(-f, o), e.point(0, o), e.point(f, o), e.point(f, 0), e.point(f, -o), e.point(0, -o), e.point(-f, -o), e.point(-f, 0), e.point(-f, o)) : r(n[0] - i[0]) > t ? (s = n[0] < i[0] ? f : -f, o = u * s / 2, e.point(-s, o), e.point(0, o), e.point(s, o)) : e.point(i[0], i[1]) } function ag(n, i) { var e = n[0], nt = n[1], ct = [Math.sin(e), -Math.cos(e), 0], a = 0, tt = 0, o, it, s, v, u, k, g; for (ti.reset(), o = 0, it = i.length; o < it; ++o)if (s = i[o], v = s.length, v) for (var h = s[0], y = h[0], rt = h[1] / 2 + f / 4, ut = Math.sin(rt), ft = Math.cos(rt), c = 1; ;) { c === v && (c = 0); n = s[c]; var p = n[0], et = n[1] / 2 + f / 4, ot = Math.sin(et), st = Math.cos(et), r = p - y, w = r >= 0 ? 1 : -1, b = w * r, l = b > f, ht = ut * ot; if (ti.add(Math.atan2(ht * w * Math.sin(b), ft * st + ht * Math.cos(b))), a += l ? r + w * d : r, l ^ y >= e ^ p >= e && (u = tr(li(h), li(n)), ue(u), k = tr(ct, u), ue(k), g = (l ^ r >= 0 ? -1 : 1) * ni(k[2]), (nt > g || nt === g && (u[0] || u[1])) && (tt += l ^ r >= 0 ? 1 : -1)), !c++) break; y = p; ut = ot; ft = st; h = n } return (a < -t || a < t && ti < -t) ^ tt & 1 } function vg(n) { function s(n, t) { return Math.cos(n) * Math.cos(t) > i } function a(n) { var i, a, r, l, u; return { lineStart: function () { l = r = !1; u = 1 }, point: function (v, y) { var p = [v, y], w, b = s(v, y), d = e ? b ? 0 : h(v, y) : b ? h(v + (v < 0 ? f : -f), y) : 0, k; !i && (l = r = b) && n.lineStart(); b !== r && (w = o(i, p), (ee(i, w) || ee(p, w)) && (p[0] += t, p[1] += t, b = s(p[0], p[1]))); b !== r ? (u = 0, b ? (n.lineStart(), w = o(p, i), n.point(w[0], w[1])) : (w = o(i, p), n.point(w[0], w[1]), n.lineEnd()), i = w) : c && i && e ^ b && (d & a || !(k = o(p, i, !0)) || (u = 0, e ? (n.lineStart(), n.point(k[0][0], k[0][1]), n.point(k[1][0], k[1][1]), n.lineEnd()) : (n.point(k[1][0], k[1][1]), n.lineEnd(), n.lineStart(), n.point(k[0][0], k[0][1])))); !b || i && ee(i, p) || n.point(p[0], p[1]); i = p; r = b; a = d }, lineEnd: function () { r && n.lineEnd(); i = null }, clean: function () { return u | (l && r) << 1 } } } function o(n, u, e) { var et = li(n), ot = li(u), rt = [1, 0, 0], a = tr(et, ot), ut = ie(a, a), b = a[0], k = ut - b * b, g, o, it; if (!k) return !e && n; var st = i * ut / k, ht = -i * b / k, ct = tr(rt, a), s = re(rt, st), lt = re(a, ht); rh(s, lt); var v = ct, p = ie(s, v), d = ie(v, v), ft = p * p - d * (ie(s, s) - 1); if (!(ft < 0)) { if (g = Math.sqrt(ft), o = re(v, (-p - g) / d), rh(o, s), o = fe(o), !e) return o; var h = n[0], y = u[0], c = n[1], l = u[1], w; y < h && (w = h, h = y, y = w); var nt = y - h, tt = r(nt - f) < t, at = tt || nt < t; return !tt && l < c && (w = c, c = l, l = w), (at ? tt ? c + l > 0 ^ o[1] < (r(o[0] - h) < t ? c : l) : c <= o[1] && o[1] <= l : nt > f ^ (h <= o[0] && o[0] <= y)) ? (it = re(v, (-p + g) / d), rh(it, s), [o, fe(it)]) : void 0 } } function h(t, i) { var u = e ? n : f - n, r = 0; return t < -u ? r |= 1 : t > u && (r |= 2), i < -u ? r |= 4 : i > u && (r |= 8), r } var i = Math.cos(n), e = i > 0, c = r(i) > t, l = lh(n, 6 * u); return hy(s, a, l, e ? [0, -n] : [-f, n - f]) } function ly(n, t, i, r) { return function (u) { var a = u.a, v = u.b, c = a.x, l = a.y, y = v.x, p = v.y, e = 0, o = 1, s = y - c, h = p - l, f; if (f = n - c, s || !(f > 0)) { if (f /= s, s < 0) { if (f < e) return; f < o && (o = f) } else if (s > 0) { if (f > o) return; f > e && (e = f) } if (f = i - c, s || !(f < 0)) { if (f /= s, s < 0) { if (f > o) return; f > e && (e = f) } else if (s > 0) { if (f < e) return; f < o && (o = f) } if (f = t - l, h || !(f > 0)) { if (f /= h, h < 0) { if (f < e) return; f < o && (o = f) } else if (h > 0) { if (f > o) return; f > e && (e = f) } if (f = r - l, h || !(f < 0)) { if (f /= h, h < 0) { if (f > o) return; f > e && (e = f) } else if (h > 0) { if (f < e) return; f < o && (o = f) } return e > 0 && (u.a = { x: c + e * s, y: l + e * h }), o < 1 && (u.b = { x: c + o * s, y: l + o * h }), u } } } } } } function ay(i, u, f, e) { function o(n, e) { return r(n[0] - i) < t ? e > 0 ? 0 : 3 : r(n[0] - f) < t ? e > 0 ? 2 : 1 : r(n[1] - u) < t ? e > 0 ? 1 : 0 : e > 0 ? 3 : 2 } function h(n, t) { return s(n.x, t.x) } function s(n, t) { var i = o(n, 1), r = o(t, 1); return i !== r ? i - r : i === 0 ? t[1] - n[1] : i === 1 ? n[0] - t[0] : i === 2 ? n[1] - t[1] : t[0] - n[0] } return function (t) { function ot(n) { for (var u = 0, s = c.length, f = n[1], i = 0; i < s; ++i)for (var e = 1, o = c[i], h = o.length, r = o[0], t; e < h; ++e)t = o[e], r[1] <= f ? t[1] > f && is(r, t, n) > 0 && ++u : t[1] <= f && is(r, t, n) < 0 && --u, r = t; return u !== 0 } function d(n, t, r, h) { var c = 0, l = 0; if (n == null || (c = o(n, r)) !== (l = o(t, r)) || s(n, t) < 0 ^ r > 0) { do h.point(c === 0 || c === 3 ? i : f, c > 1 ? e : u); while ((c = (c + r + 4) % 4) !== l) } else h.point(t[0], t[1]) } function g(n, t) { return i <= n && n <= f && u <= t && t <= e } function nt(n, i) { g(n, i) && t.point(n, i) } function st() { p.point = ut; c && c.push(y = []); k = !0; l = !1; w = b = NaN } function ht() { r && (ut(tt, it), rt && l && v.rejoin(), r.push(v.buffer())); p.point = nt; l && t.lineEnd() } function ut(n, i) { var r, u; n = Math.max(-nu, Math.min(nu, n)); i = Math.max(-nu, Math.min(nu, i)); r = g(n, i); c && y.push([n, i]); k ? (tt = n, it = i, rt = r, k = !1, r && (t.lineStart(), t.point(n, i))) : r && l ? t.point(n, i) : (u = { a: { x: w, y: b }, b: { x: n, y: i } }, et(u) ? (l || (t.lineStart(), t.point(u.a.x, u.a.y)), t.point(u.b.x, u.b.y), r || t.lineEnd(), a = !1) : r && (t.lineStart(), t.point(n, i), a = !1)); w = n; b = i; l = r } var ft = t, v = cy(), et = ly(i, u, f, e), r, c, y, p = { point: nt, lineStart: st, lineEnd: ht, polygonStart: function () { t = v; r = []; c = []; a = !0 }, polygonEnd: function () { t = ft; r = n.merge(r); var u = ot([i, e]), f = a && u, o = r.length; (f || o) && (t.polygonStart(), f && (t.lineStart(), d(null, null, 1, t), t.lineEnd()), o && oy(r, h, u, d, t), t.polygonEnd()); r = c = y = null } }, tt, it, rt, w, b, l, k, a; return p } } function eh(n) { var t = 0, i = f / 3, r = hh(n), u = r(t, i); return u.parallels = function (n) { return arguments.length ? r(t = n[0] * f / 180, i = n[1] * f / 180) : [t / f * 180, i / f * 180] }, u } function vy(n, t) { function e(n, t) { var r = Math.sqrt(u - 2 * i * Math.sin(t)) / i; return [r * Math.sin(n *= i), f - r * Math.cos(n)] } var r = Math.sin(n), i = (r + Math.sin(t)) / 2, u = 1 + r * (2 * i - r), f = Math.sqrt(u) / i; return e.invert = function (n, t) { var r = f - t; return [Math.atan2(n, r) / i, ni((u - (n * n + r * r) * i * i) / (2 * i))] }, e } function yg() { function u(i, r) { sh += t * i - n * r; n = i; t = r } var i, r, n, t; wt.point = function (f, e) { wt.point = u; i = n = f; r = t = e }; wt.lineEnd = function () { u(i, r) } } function pg(n, t) { n < he && (he = n); n > le && (le = n); t < ce && (ce = t); t > ae && (ae = t) } function wg() { function i(n, i) { t.push("M", n, ",", i, r) } function f(i, r) { t.push("M", i, ",", r); n.point = e } function e(n, i) { t.push("L", n, ",", i) } function u() { n.point = i } function o() { t.push("Z") } var r = py(4.5), t = [], n = { point: i, lineStart: function () { n.point = f }, lineEnd: u, polygonStart: function () { n.lineEnd = o }, polygonEnd: function () { n.lineEnd = u; n.point = i }, pointRadius: function (t) { return r = py(t), n }, result: function () { if (t.length) { var n = t.join(""); return t = [], n } } }; return n } function py(n) { return "m0," + n + "a" + n + "," + n + " 0 1,1 0," + -2 * n + "a" + n + "," + n + " 0 1,1 0," + 2 * n + "z" } function yi(n, t) { ai += n; vi += t; ++pt } function wy() { function i(i, r) { var f = i - n, e = r - t, u = Math.sqrt(f * f + e * e); ii += u * (n + i) / 2; ri += u * (t + r) / 2; ht += u; yi(n = i, t = r) } var n, t; nt.point = function (r, u) { nt.point = i; yi(n = r, t = u) } } function by() { nt.point = yi } function bg() { function u(i, r) { var f = i - n, e = r - t, u = Math.sqrt(f * f + e * e); ii += u * (n + i) / 2; ri += u * (t + r) / 2; ht += u; u = t * i - n * r; ir += u * (n + i); rr += u * (t + r); ui += u * 3; yi(n = i, t = r) } var i, r, n, t; nt.point = function (f, e) { nt.point = u; yi(i = n = f, r = t = e) }; nt.lineEnd = function () { u(i, r) } } function kg(n) { function r(t, r) { n.moveTo(t + i, r); n.arc(t, r, i, 0, d) } function f(i, r) { n.moveTo(i, r); t.point = e } function e(t, i) { n.lineTo(t, i) } function u() { t.point = r } function o() { n.closePath() } var i = 4.5, t = { point: r, lineStart: function () { t.point = f }, lineEnd: u, polygonStart: function () { t.lineEnd = o }, polygonEnd: function () { t.lineEnd = u; t.point = r }, pointRadius: function (n) { return i = n, t }, result: l }; return t } function ky(n) { function o(n) { return (f ? c : h)(n) } function h(t) { return gy(t, function (i, r) { i = n(i, r); t.point(i[0], i[1]) }) } function c(t) { function g(i, r) { i = n(i, r); t.point(i[0], i[1]) } function l() { r = NaN; i.point = a; t.lineStart() } function a(i, l) { var a = li([i, l]), v = n(i, l); e(r, u, c, o, s, h, r = v[0], u = v[1], c = i, o = a[0], s = a[1], h = a[2], f, t); t.point(r, u) } function v() { i.point = g; t.lineEnd() } function tt() { l(); i.point = it; i.lineEnd = rt } function it(n, t) { a(y = n, nt = t); p = r; w = u; b = o; k = s; d = h; i.point = a } function rt() { e(r, u, c, o, s, h, p, w, y, b, k, d, f, t); i.lineEnd = v; v() } var y, nt, p, w, b, k, d, c, r, u, o, s, h, i = { point: g, lineStart: l, lineEnd: v, polygonStart: function () { t.polygonStart(); i.lineStart = tt }, polygonEnd: function () { t.polygonEnd(); i.lineStart = l } }; return i } function e(u, f, o, h, c, l, a, v, y, p, w, b, k, d) { var it = a - u, rt = v - f, et = it * it + rt * rt; if (et > 4 * i && k--) { var nt = h + p, tt = c + w, g = l + b, ot = Math.sqrt(nt * nt + tt * tt + g * g), vt = Math.asin(g /= ot), st = r(r(g) - 1) < t || r(o - y) < t ? (o + y) / 2 : Math.atan2(tt, nt), ht = n(st, vt), ut = ht[0], ft = ht[1], ct = ut - u, lt = ft - f, at = rt * ct - it * lt; (at * at / et > i || r((it * ct + rt * lt) / et - .5) > .3 || h * p + c * w + l * b < s) && (e(u, f, o, h, c, l, ut, ft, st, nt /= ot, tt /= ot, g, k, d), d.point(ut, ft), e(ut, ft, st, nt, tt, g, a, v, y, p, w, b, k, d)) } } var i = .5, s = Math.cos(30 * u), f = 16; return o.precision = function (n) { return arguments.length ? (f = (i = n * n) > 0 && 16, o) : Math.sqrt(i) }, o } function dg(n) { var t = ky(function (t, i) { return n([t * s, i * s]) }); return function (n) { return np(t(n)) } } function dy(n) { this.stream = n } function gy(n, t) { return { point: t, sphere: function () { n.sphere() }, lineStart: function () { n.lineStart() }, lineEnd: function () { n.lineEnd() }, polygonStart: function () { n.polygonStart() }, polygonEnd: function () { n.polygonEnd() } } } function fi(n) { return hh(function () { return n })() } function hh(t) { function r(n) { return n = l(n[0] * u, n[1] * u), [n[0] * i + h, c - n[1] * i] } function et(n) { return n = l.invert((n[0] - h) / i, (c - n[1]) / i), n && [n[0] * s, n[1] * s] } function o() { l = ey(tt = ch(b, k, d), e); var n = e(p, w); return h = a - n[0] * i, c = y + n[1] * i, nt() } function nt() { return f && (f.valid = !1, f = null), r } var e, tt, l, it = ky(function (n, t) { return n = e(n, t), [n[0] * i + h, c - n[1] * i] }), i = 150, a = 480, y = 250, p = 0, w = 0, b = 0, k = 0, d = 0, h, c, rt = fh, ut = v, g = null, ft = null, f; return r.stream = function (n) { return f && (f.valid = !1), f = np(rt(tt, it(ut(n)))), f.valid = !0, f }, r.clipAngle = function (n) { return arguments.length ? (rt = n == null ? (g = n, fh) : vg((g = +n) * u), nt()) : g }, r.clipExtent = function (n) { return arguments.length ? (ft = n, ut = n ? ay(n[0][0], n[0][1], n[1][0], n[1][1]) : v, nt()) : ft }, r.scale = function (n) { return arguments.length ? (i = +n, o()) : i }, r.translate = function (n) { return arguments.length ? (a = +n[0], y = +n[1], o()) : [a, y] }, r.center = function (n) { return arguments.length ? (p = n[0] % 360 * u, w = n[1] % 360 * u, o()) : [p * s, w * s] }, r.rotate = function (n) { return arguments.length ? (b = n[0] % 360 * u, k = n[1] % 360 * u, d = n.length > 2 ? n[2] % 360 * u : 0, o()) : [b * s, k * s, d * s] }, n.rebind(r, it, "precision"), function () { return e = t.apply(this, arguments), r.invert = e.invert && et, o() } } function np(n) { return gy(n, function (t, i) { n.point(t * u, i * u) }) } function tu(n, t) { return [n, t] } function tp(n, t) { return [n > f ? n - d : n < -f ? n + d : n, t] } function ch(n, t, i) { return n ? t || i ? ey(rp(n), up(t, i)) : rp(n) : t || i ? up(t, i) : tp } function ip(n) { return function (t, i) { return t += n, [t > f ? t - d : t < -f ? t + d : t, i] } } function rp(n) { var t = ip(n); return t.invert = ip(-n), t } function up(n, t) { function e(n, t) { var e = Math.cos(t), o = Math.cos(n) * e, s = Math.sin(n) * e, h = Math.sin(t), c = h * i + o * r; return [Math.atan2(s * u - c * f, o * i - h * r), ni(c * u + s * f)] } var i = Math.cos(n), r = Math.sin(n), u = Math.cos(t), f = Math.sin(t); return e.invert = function (n, t) { var e = Math.cos(t), o = Math.cos(n) * e, s = Math.sin(n) * e, h = Math.sin(t), c = h * u - s * f; return [Math.atan2(s * u + h * f, o * i + c * r), ni(c * i - o * r)] }, e } function lh(n, t) { var i = Math.cos(n), r = Math.sin(n); return function (u, f, e, o) { var h = e * t, c, s; for (u != null ? (u = fp(i, u), f = fp(i, f), (e > 0 ? u < f : u > f) && (u += e * d)) : (u = n + e * d, f = n - .5 * h), s = u; e > 0 ? s > f : s < f; s -= h)o.point((c = fe([i, -r * Math.cos(s), -r * Math.sin(s)]))[0], c[1]) } } function fp(n, i) { var r = li(i), u; return r[0] -= n, ue(r), u = iv(-r[1]), ((-r[2] < 0 ? -u : u) + 2 * Math.PI - t) % (2 * Math.PI) } function ep(i, r, u) { var f = n.range(i, r - t, u).concat(r); return function (n) { return f.map(function (t) { return [n, t] }) } } function op(i, r, u) { var f = n.range(i, r - t, u).concat(r); return function (n) { return f.map(function (t) { return [t, n] }) } } function ah(n) { return n.source } function vh(n) { return n.target } function gg(n, t, i, r) { var f = Math.cos(t), c = Math.sin(t), e = Math.cos(r), l = Math.sin(r), a = f * Math.cos(n), v = f * Math.sin(n), y = e * Math.cos(i), p = e * Math.sin(i), u = 2 * Math.asin(Math.sqrt(uv(r - t) + f * e * uv(i - n))), o = 1 / Math.sin(u), h = u ? function (n) { var t = Math.sin(n *= u) * o, i = Math.sin(u - n) * o, r = i * a + t * y, f = i * v + t * p, e = i * c + t * l; return [Math.atan2(f, r) * s, Math.atan2(e, Math.sqrt(r * r + f * f)) * s] } : function () { return [n * s, t * s] }; return h.distance = u, h } function nn() { function f(f, e) { var h = Math.sin(e *= u), s = Math.cos(e), o = r((f *= u) - i), c = Math.cos(o); yh += Math.atan2(Math.sqrt((o = s * Math.sin(o)) * o + (o = t * h - n * s * c) * o), n * h + t * s * c); i = f; n = h; t = s } var i, n, t; pi.point = function (r, e) { i = r * u; n = Math.sin(e *= u); t = Math.cos(e); pi.point = f }; pi.lineEnd = function () { pi.point = pi.lineEnd = l } } function iu(n, t) { function i(t, i) { var f = Math.cos(t), r = Math.cos(i), u = n(f * r); return [u * r * Math.sin(t), u * Math.sin(i)] } return i.invert = function (n, i) { var r = Math.sqrt(n * n + i * i), u = t(r), f = Math.sin(u), e = Math.cos(u); return [Math.atan2(n * f, r * e), Math.asin(r && i * f / r)] }, i } function sp(n, i) { function s(n, i) { u > 0 ? i < -h + t && (i = -h + t) : i > h - t && (i = h - t); var f = u / Math.pow(e(i), r); return [f * Math.sin(r * n), u - f * Math.cos(r * n)] } var o = Math.cos(n), e = function (n) { return Math.tan(f / 4 + n / 2) }, r = n === i ? Math.sin(n) : Math.log(o / Math.cos(i)) / Math.log(e(i) / e(n)), u = o * Math.pow(e(n), r) / r; return r ? (s.invert = function (n, t) { var i = u - t, f = tv(r) * Math.sqrt(n * n + i * i); return [Math.atan2(n, i) / r, 2 * Math.atan(Math.pow(u / f, 1 / r)) - h] }, s) : ve } function hp(n, i) { function o(n, t) { var i = f - t; return [i * Math.sin(u * n), f - i * Math.cos(u * n)] } var e = Math.cos(n), u = n === i ? Math.sin(n) : (e - Math.cos(i)) / (i - n), f = e / u + n; return r(u) < t ? tu : (o.invert = function (n, t) { var i = f - t; return [Math.atan2(n, i) / u, f - tv(u) * Math.sqrt(n * n + i * i)] }, o) } function ve(n, t) { return [n, Math.log(Math.tan(f / 4 + t / 2))] } function cp(n) { var t = fi(n), r = t.scale, u = t.translate, e = t.clipExtent, i; return t.scale = function () { var n = r.apply(t, arguments); return n === t ? i ? t.clipExtent(null) : t : n }, t.translate = function () { var n = u.apply(t, arguments); return n === t ? i ? t.clipExtent(null) : t : n }, t.clipExtent = function (n) { var h = e.apply(t, arguments), o, s; return h === t ? (i = n == null) && (o = f * r(), s = u(), e([[s[0] - o, s[1] - o], [s[0] + o, s[1] + o]])) : i && (h = null), h }, t.clipExtent(null) } function gh(n, t) { return [Math.log(Math.tan(f / 4 + t / 2)), -n] } function ur(n) { return n[0] } function ru(n) { return n[1] } function lp(n) { for (var u = n.length, r = [0, 1], t = 2, i = 2; i < u; i++) { while (t > 1 && is(n[r[t - 2]], n[r[t - 1]], n[i]) <= 0) --t; r[t++] = i } return r.slice(0, t) } function tn(n, t) { return n[0] - t[0] || n[1] - t[1] } function nc(n, t, i) { return (i[0] - t[0]) * (n[1] - t[1]) < (i[1] - t[1]) * (n[0] - t[0]) } function tc(n, t, i, r) { var u = n[0], e = i[0], o = t[0] - u, s = r[0] - e, f = n[1], h = i[1], c = t[1] - f, l = r[1] - h, a = (s * (f - h) - l * (u - e)) / (l * o - s * c); return [u + a * o, f + a * c] } function ap(n) { var t = n[0], i = n[n.length - 1]; return !(t[0] - i[0] || t[1] - i[1]) } function rn() { we(this); this.edge = this.site = this.circle = null } function vp(n) { var t = ic.pop() || new rn; return t.site = n, t } function fc(n) { sr(n); er.remove(n); ic.push(n); we(n) } function un(n) { var a = n.circle, o = a.x, s = a.cy, v = { x: o, y: s }, h = n.P, c = n.N, f = [n], u, i, l, e; for (fc(n), u = h; u.circle && r(o - u.circle.x) < t && r(s - u.circle.cy) < t;)h = u.P, f.unshift(u), fc(u), u = h; for (f.unshift(u), sr(u), i = c; i.circle && r(o - i.circle.x) < t && r(s - i.circle.cy) < t;)c = i.N, f.push(i), fc(i), i = c; for (f.push(i), sr(i), l = f.length, e = 1; e < l; ++e)i = f[e], u = f[e - 1], ye(i.edge, u.site, i.site, v); u = f[0]; i = f[l - 1]; i.edge = eu(u.site, i.site, null, v); or(u); or(i) } function fn(n) { for (var b = n.x, k = n.y, i, r, a, v, u = er._, f; u;)if (a = yp(u, k) - b, a > t) u = u.L; else if (v = b - en(u, k), v > t) { if (!u.R) { i = u; break } u = u.R } else { a > -t ? (i = u.P, r = u) : v > -t ? (i = u, r = u.N) : i = r = u; break } if (f = vp(n), er.insert(i, f), i || r) { if (i === r) { sr(i); r = vp(i.site); er.insert(f, r); f.edge = r.edge = eu(i.site, f.site); or(i); or(r); return } if (!r) { f.edge = eu(i.site, f.site); return } sr(i); sr(r); var e = i.site, y = e.x, p = e.y, o = n.x - y, s = n.y - p, h = r.site, c = h.x - y, l = h.y - p, d = 2 * (o * l - s * c), g = o * o + s * s, nt = c * c + l * l, w = { x: (l * g - s * nt) / d + y, y: (o * nt - c * g) / d + p }; ye(r.edge, e, h, w); f.edge = eu(e, n, null, w); r.edge = eu(n, h, null, w); or(i); or(r) } } function yp(n, t) { var i = n.site, u = i.x, l = i.y, f = l - t, e; if (!f) return u; if (e = n.P, !e) return -Infinity; i = e.site; var o = i.x, a = i.y, r = a - t; if (!r) return o; var s = o - u, h = 1 / f - 1 / r, c = s / r; return h ? (-c + Math.sqrt(c * c - 2 * h * (s * s / (-2 * r) - a + r / 2 + l - f / 2))) / h + u : (u + o) / 2 } function en(n, t) { var r = n.N, i; return r ? yp(r, t) : (i = n.site, i.y === t ? i.x : Infinity) } function pp(n) { this.site = n; this.edges = [] } function on(n) { for (var s = n[0][0], h = n[1][0], c = n[0][1], l = n[1][1], i, u, f, e, b = wi, k = b.length, o, a, v, y, w, p; k--;)if (o = b[k], o && o.prepare()) for (v = o.edges, y = v.length, a = 0; a < y;)p = v[a].end(), f = p.x, e = p.y, w = v[++a % y].start(), i = w.x, u = w.y, (r(f - i) > t || r(e - u) > t) && (v.splice(a, 0, new pe(ln(o.site, p, r(f - s) < t && l - e > t ? { x: s, y: r(i - s) < t ? u : l } : r(e - l) < t && h - f > t ? { x: r(u - l) < t ? i : h, y: l } : r(f - h) < t && e - c > t ? { x: h, y: r(i - h) < t ? u : c } : r(e - c) < t && f - s > t ? { x: r(u - c) < t ? i : s, y: c } : null), o.site, null)), ++y) } function wp(n, t) { return t.angle - n.angle } function sn() { we(this); this.x = this.y = this.arc = this.site = this.cy = null } function or(n) { var w = n.P, b = n.N, u, t; if (w && b) { var s = w.site, h = n.site, c = b.site; if (s !== c) { var l = h.x, a = h.y, f = s.x - l, e = s.y - a, o = c.x - l, r = c.y - a, v = 2 * (f * r - e * o); if (!(v >= -ef)) { var k = f * f + e * e, d = o * o + r * r, y = (r * k - e * d) / v, p = (f * d - o * k) / v, r = p + a, i = uc.pop() || new sn; for (i.arc = n, i.site = h, i.x = y + l, i.y = r + Math.sqrt(y * y + p * p), i.cy = r, n.circle = i, u = null, t = fu._; t;)if (i.y < t.y || i.y === t.y && i.x <= t.x) if (t.L) t = t.L; else { u = t.P; break } else if (t.R) t = t.R; else { u = t; break } fu.insert(u, i); u || (rc = i) } } } } function sr(n) { var t = n.circle; t && (t.P || (rc = t.N), fu.remove(t), uc.push(t), we(t), n.circle = null) } function hn(n) { for (var u = fr, e = ly(n[0][0], n[0][1], n[1][0], n[1][1]), f = u.length, i; f--;)i = u[f], (!cn(i, n) || !e(i) || r(i.a.x - i.b.x) < t && r(i.a.y - i.b.y) < t) && (i.a = i.b = null, u.splice(f, 1)) } function cn(n, t) { var f = n.b; if (f) return !0; var i = n.a, h = t[0][0], c = t[1][0], e = t[0][1], o = t[1][1], p = n.l, w = n.r, l = p.x, a = p.y, v = w.x, y = w.y, s = (l + v) / 2, b = (a + y) / 2, r, u; if (y === a) { if (s < h || s >= c) return; if (l > v) { if (i) { if (i.y >= o) return } else i = { x: s, y: e }; f = { x: s, y: o } } else { if (i) { if (i.y < e) return } else i = { x: s, y: o }; f = { x: s, y: e } } } else if (r = (l - v) / (y - a), u = b - r * s, r < -1 || r > 1) if (l > v) { if (i) { if (i.y >= o) return } else i = { x: (e - u) / r, y: e }; f = { x: (o - u) / r, y: o } } else { if (i) { if (i.y < e) return } else i = { x: (o - u) / r, y: o }; f = { x: (e - u) / r, y: e } } else if (a < y) { if (i) { if (i.x >= c) return } else i = { x: h, y: r * h + u }; f = { x: c, y: r * c + u } } else { if (i) { if (i.x < h) return } else i = { x: c, y: r * c + u }; f = { x: h, y: r * h + u } } return n.a = i, n.b = f, !0 } function bp(n, t) { this.l = n; this.r = t; this.a = this.b = null } function eu(n, t, i, r) { var u = new bp(n, t); return fr.push(u), i && ye(u, n, t, i), r && ye(u, t, n, r), wi[n.i].edges.push(new pe(u, n, t)), wi[t.i].edges.push(new pe(u, t, n)), u } function ln(n, t, i) { var r = new bp(n, null); return r.a = t, r.b = i, fr.push(r), r } function ye(n, t, i, r) { n.a || n.b ? n.l === i ? n.b = r : n.a = r : (n.a = r, n.l = t, n.r = i) } function pe(n, t, i) { var r = n.a, u = n.b; this.edge = n; this.site = t; this.angle = i ? Math.atan2(i.y - t.y, i.x - t.x) : n.l === t ? Math.atan2(u.x - r.x, r.y - u.y) : Math.atan2(r.x - u.x, u.y - r.y) } function ec() { this._ = null } function we(n) { n.U = n.C = n.L = n.R = n.P = n.N = null } function ou(n, t) { var i = t, r = t.R, u = i.U; u ? u.L === i ? u.L = r : u.R = r : n._ = r; r.U = u; i.U = r; i.R = r.L; i.R && (i.R.U = i); r.L = i } function su(n, t) { var i = t, r = t.L, u = i.U; u ? u.L === i ? u.L = r : u.R = r : n._ = r; r.U = u; i.U = r; i.L = r.R; i.L && (i.L.U = i); r.R = i } function kp(n) { while (n.L) n = n.L; return n } function oc(n, t) { var i = n.sort(an).pop(), u, f, r, e; for (fr = [], wi = new Array(n.length), er = new ec, fu = new ec; ;)if (r = rc, i && (!r || i.y < r.y || i.y === r.y && i.x < r.x)) (i.x !== u || i.y !== f) && (wi[i.i] = new pp(i), fn(i), u = i.x, f = i.y), i = n.pop(); else if (r) un(r.arc); else break; return t && (hn(t), on(t)), e = { cells: wi, edges: fr }, er = fu = fr = wi = null, e } function an(n, t) { return t.y - n.y || t.x - n.x } function vn(n, t, i) { return (n.x - i.x) * (t.y - n.y) - (n.x - t.x) * (i.y - n.y) } function yn(n) { return n.x } function pn(n) { return n.y } function dp() { return { leaf: !0, nodes: [], point: null, x: null, y: null } } function cu(n, t, i, r, u, f) { if (!n(t, i, r, u, f)) { var o = (i + u) * .5, s = (r + f) * .5, e = t.nodes; e[0] && cu(n, e[0], i, r, o, s); e[1] && cu(n, e[1], o, r, u, s); e[2] && cu(n, e[2], i, s, o, f); e[3] && cu(n, e[3], o, s, u, f) } } function wn(n, t, i, r, u, f, e) { var s = Infinity, h; return function o(n, c, l, a, v) { var p, y, tt; if (!(c > f) && !(l > e) && !(a < r) && !(v < u)) { if (k = n.point) { var k, d = t - n.x, g = i - n.y, nt = d * d + g * g; nt < s && (p = Math.sqrt(s = nt), r = t - p, u = i - p, f = t + p, e = i + p, h = k) } var it = n.nodes, w = (c + a) * .5, b = (l + v) * .5, rt = t >= w, ut = i >= b; for (y = ut << 1 | rt, tt = y + 4; y < tt; ++y)if (n = it[y & 3]) switch (y & 3) { case 0: o(n, c, l, w, b); break; case 1: o(n, w, l, a, b); break; case 2: o(n, c, b, w, v); break; case 3: o(n, w, b, a, v) } } }(n, r, u, f, e), h } function sc(t, i) { t = n.rgb(t); i = n.rgb(i); var r = t.r, u = t.g, f = t.b, e = i.r - r, o = i.g - u, s = i.b - f; return function (n) { return "#" + nr(Math.round(r + e * n)) + nr(Math.round(u + o * n)) + nr(Math.round(f + s * n)) } } function gp(n, t) { var u = {}, r = {}, i; for (i in n) i in t ? u[i] = bi(n[i], t[i]) : r[i] = n[i]; for (i in t) i in n || (r[i] = t[i]); return function (n) { for (i in u) r[i] = u[i](n); return r } } function bt(n, t) { return n = +n, t = +t, function (i) { return n * (1 - i) + t * i } } function nw(n, t) { var e = be.lastIndex = ke.lastIndex = 0, s, f, u, r = -1, i = [], o = []; for (n = n + "", t = t + ""; (s = be.exec(n)) && (f = ke.exec(t));)(u = f.index) > e && (u = t.slice(e, u), i[r] ? i[r] += u : i[++r] = u), (s = s[0]) === (f = f[0]) ? i[r] ? i[r] += f : i[++r] = f : (i[++r] = null, o.push({ i: r, x: bt(s, f) })), e = ke.lastIndex; return e < t.length && (u = t.slice(e), i[r] ? i[r] += u : i[++r] = u), i.length < 2 ? o[0] ? (t = o[0].x, function (n) { return t(n) + "" }) : function () { return t } : (t = o.length, function (n) { for (var r = 0, u; r < t; ++r)i[(u = o[r]).i] = u.x(n); return i.join("") }) } function bi(t, i) { for (var r = n.interpolators.length, u; --r >= 0 && !(u = n.interpolators[r](t, i));); return u } function de(n, t) { for (var u = [], r = [], e = n.length, o = t.length, f = Math.min(n.length, t.length), i = 0; i < f; ++i)u.push(bi(n[i], t[i])); for (; i < e; ++i)r[i] = n[i]; for (; i < o; ++i)r[i] = t[i]; return function (n) { for (i = 0; i < f; ++i)r[i] = u[i](n); return r } } function dn(n) { return function (t) { return t <= 0 ? 0 : t >= 1 ? 1 : n(t) } } function iw(n) { return function (t) { return 1 - n(1 - t) } } function rw(n) { return function (t) { return .5 * (t < .5 ? n(2 * t) : 2 - n(2 - 2 * t)) } } function gn(n) { return n * n } function ntt(n) { return n * n * n } function ttt(n) { if (n <= 0) return 0; if (n >= 1) return 1; var t = n * n, i = t * n; return 4 * (n < .5 ? i : 3 * (n - t) + i - .75) } function itt(n) { return function (t) { return Math.pow(t, n) } } function rtt(n) { return 1 - Math.cos(n * h) } function utt(n) { return Math.pow(2, 10 * (n - 1)) } function ftt(n) { return 1 - Math.sqrt(1 - n * n) } function ett(n, t) { var i; return arguments.length < 2 && (t = .45), arguments.length ? i = t / d * Math.asin(1 / n) : (n = 1, i = t / 4), function (r) { return 1 + n * Math.pow(2, -10 * r) * Math.sin((r - i) * d / t) } } function ott(n) { return n || (n = 1.70158), function (t) { return t * t * ((n + 1) * t - n) } } function stt(n) { return n < 1 / 2.75 ? 7.5625 * n * n : n < 2 / 2.75 ? 7.5625 * (n -= 1.5 / 2.75) * n + .75 : n < 2.5 / 2.75 ? 7.5625 * (n -= 2.25 / 2.75) * n + .9375 : 7.5625 * (n -= 2.625 / 2.75) * n + .984375 } function htt(t, i) { t = n.hcl(t); i = n.hcl(i); var u = t.h, f = t.c, o = t.l, r = i.h - u, e = i.c - f, s = i.l - o; return isNaN(e) && (e = 0, f = isNaN(f) ? i.c : f), isNaN(r) ? (r = 0, u = isNaN(u) ? i.h : u) : r > 180 ? r -= 360 : r < -180 && (r += 360), function (n) { return os(u + r * n, f + e * n, o + s * n) + "" } } function ctt(t, i) { t = n.hsl(t); i = n.hsl(i); var u = t.h, f = t.s, o = t.l, r = i.h - u, e = i.s - f, s = i.l - o; return isNaN(e) && (e = 0, f = isNaN(f) ? i.s : f), isNaN(r) ? (r = 0, u = isNaN(u) ? i.h : u) : r > 180 ? r -= 360 : r < -180 && (r += 360), function (n) { return es(u + r * n, f + e * n, o + s * n) + "" } } function ltt(t, i) { t = n.lab(t); i = n.lab(i); var r = t.l, u = t.a, f = t.b, e = i.l - r, o = i.a - u, s = i.b - f; return function (n) { return hv(r + e * n, u + o * n, f + s * n) + "" } } function uw(n, t) { return t -= n, function (i) { return Math.round(n + t * i) } } function fw(n) { var t = [n.a, n.b], i = [n.c, n.d], r = ow(t), u = ew(t, i), f = ow(att(i, t, -u)) || 0; t[0] * i[1] < i[0] * t[1] && (t[0] *= -1, t[1] *= -1, r *= -1, u *= -1); this.rotate = (r ? Math.atan2(t[1], t[0]) : Math.atan2(-i[0], i[1])) * s; this.translate = [n.e, n.f]; this.scale = [r, f]; this.skew = f ? Math.atan2(u, f) * s : 0 } function ew(n, t) { return n[0] * t[0] + n[1] * t[1] } function ow(n) { var t = Math.sqrt(ew(n, n)); return t && (n[0] /= t, n[1] /= t), t } function att(n, t, i) { return n[0] += i * t[0], n[1] += i * t[1], n } function hr(n) { return n.length ? n.pop() + "," : "" } function vtt(n, t, i, r) { if (n[0] !== t[0] || n[1] !== t[1]) { var u = i.push("translate(", null, ",", null, ")"); r.push({ i: u - 4, x: bt(n[0], t[0]) }, { i: u - 2, x: bt(n[1], t[1]) }) } else (t[0] || t[1]) && i.push("translate(" + t + ")") } function ytt(n, t, i, r) { n !== t ? (n - t > 180 ? t += 360 : t - n > 180 && (n += 360), r.push({ i: i.push(hr(i) + "rotate(", null, ")") - 2, x: bt(n, t) })) : t && i.push(hr(i) + "rotate(" + t + ")") } function ptt(n, t, i, r) { n !== t ? r.push({ i: i.push(hr(i) + "skewX(", null, ")") - 2, x: bt(n, t) }) : t && i.push(hr(i) + "skewX(" + t + ")") } function wtt(n, t, i, r) { if (n[0] !== t[0] || n[1] !== t[1]) { var u = i.push(hr(i) + "scale(", null, ",", null, ")"); r.push({ i: u - 4, x: bt(n[0], t[0]) }, { i: u - 2, x: bt(n[1], t[1]) }) } else (t[0] !== 1 || t[1] !== 1) && i.push(hr(i) + "scale(" + t + ")") } function hw(t, i) { var r = [], u = []; return t = n.transform(t), i = n.transform(i), vtt(t.translate, i.translate, r, u), ytt(t.rotate, i.rotate, r, u), ptt(t.skew, i.skew, r, u), wtt(t.scale, i.scale, r, u), t = i = null, function (n) { for (var t = -1, f = u.length, i; ++t < f;)r[(i = u[t]).i] = i.x(n); return r.join("") } } function btt(n, t) { return t = (t -= n = +n) || 1 / t, function (i) { return (i - n) / t } } function ktt(n, t) { return t = (t -= n = +n) || 1 / t, function (i) { return Math.max(0, Math.min(1, (i - n) / t)) } } function dtt(n) { for (var t = n.source, i = n.target, u = gtt(t, i), r = [t], f; t !== u;)t = t.parent, r.push(t); for (f = r.length; i !== u;)r.splice(f, 0, i), i = i.parent; return r } function cw(n) { for (var i = [], t = n.parent; t != null;)i.push(n), n = t, t = t.parent; return i.push(n), i } function gtt(n, t) { if (n === t) return n; for (var r = cw(n), u = cw(t), i = r.pop(), f = u.pop(), e = null; i === f;)e = i, i = r.pop(), f = u.pop(); return e } function nit(n) { n.fixed |= 2 } function tit(n) { n.fixed &= -7 } function iit(n) { n.fixed |= 4; n.px = n.x; n.py = n.y } function rit(n) { n.fixed &= -5 } function lw(n, t, i) { var f = 0, e = 0, u; if (n.charge = 0, !n.leaf) for (var o = n.nodes, h = o.length, s = -1, r; ++s < h;)(r = o[s], r != null) && (lw(r, t, i), n.charge += r.charge, f += r.charge * r.cx, e += r.charge * r.cy); n.point && (n.leaf || (n.point.x += Math.random() - .5, n.point.y += Math.random() - .5), u = t * i[n.point.index], n.charge += n.pointCharge = u, f += u * n.point.x, e += u * n.point.y); n.cx = f / n.charge; n.cy = e / n.charge } function lu(t, i) { return n.rebind(t, i, "sort", "children", "value"), t.nodes = t, t.links = cit, t } function au(n, t) { for (var u = [n], i, r; (n = u.pop()) != null;)if (t(n), (r = n.children) && (i = r.length)) while (--i >= 0) u.push(r[i]) } function ct(n, t) { for (var u = [n], f = [], i, e, r; (n = u.pop()) != null;)if (f.push(n), (r = n.children) && (e = r.length)) for (i = -1; ++i < e;)u.push(r[i]); while ((n = f.pop()) != null) t(n) } function oit(n) { return n.children } function sit(n) { return n.value } function hit(n, t) { return t.value - n.value } function cit(t) { return n.merge(t.map(function (n) { return (n.children || []).map(function (t) { return { source: n, target: t } }) })) } function lit(n) { return n.x } function ait(n) { return n.y } function vit(n, t, i) { n.y0 = t; n.y = i } function cc(t) { return n.range(t.length) } function lc(n) { for (var t = -1, r = n[0].length, i = []; ++t < r;)i[t] = 0; return i } function yit(n) { for (var t = 1, i = 0, r = n[0][1], u, f = n.length; t < f; ++t)(u = n[t][1]) > r && (i = t, r = u); return i } function pit(n) { return n.reduce(wit, 0) } function wit(n, t) { return n + t[1] } function bit(n, t) { return yw(n, Math.ceil(Math.log(t.length) / Math.LN2 + 1)) } function yw(n, t) { for (var i = -1, r = +n[0], f = (n[1] - r) / t, u = []; ++i <= t;)u[i] = f * i + r; return u } function kit(t) { return [n.min(t), n.max(t)] } function dit(n, t) { return n.value - t.value } function ac(n, t) { var i = n._pack_next; n._pack_next = t; t._pack_prev = n; t._pack_next = i; i._pack_prev = t } function pw(n, t) { n._pack_next = t; t._pack_prev = n } function ww(n, t) { var i = t.x - n.x, r = t.y - n.y, u = n.r + t.r; return .999 * u * u > i * i + r * r } function bw(n) { function h(n) { c = Math.min(n.x - n.r, c); l = Math.max(n.x + n.r, l); a = Math.min(n.y - n.r, a); v = Math.max(n.y + n.r, v) } if ((u = n.children) && (s = u.length)) { var u, c = Infinity, l = -Infinity, a = Infinity, v = -Infinity, i, r, t, f, e, o, s; if (u.forEach(git), i = u[0], i.x = -i.r, i.y = 0, h(i), s > 1 && (r = u[1], r.x = r.r, r.y = 0, h(r), s > 2)) for (t = u[2], dw(i, r, t), h(t), ac(i, t), i._pack_prev = t, ac(t, r), r = i._pack_next, f = 3; f < s; f++) { dw(i, r, t = u[f]); var y = 0, p = 1, w = 1; for (e = r._pack_next; e !== r; e = e._pack_next, p++)if (ww(e, t)) { y = 1; break } if (y == 1) for (o = i._pack_prev; o !== e._pack_prev; o = o._pack_prev, w++)if (ww(o, t)) break; y ? (p < w || p == w && r.r < i.r ? pw(i, r = e) : pw(i = o, r), f--) : (ac(i, t), r = t, h(t)) } var k = (c + l) / 2, d = (a + v) / 2, b = 0; for (f = 0; f < s; f++)t = u[f], t.x -= k, t.y -= d, b = Math.max(b, t.r + Math.sqrt(t.x * t.x + t.y * t.y)); n.r = b; u.forEach(nrt) } } function git(n) { n._pack_next = n._pack_prev = n } function nrt(n) { delete n._pack_next; delete n._pack_prev } function kw(n, t, i, r) { var u = n.children, f, e; if (n.x = t += r * n.x, n.y = i += r * n.y, n.r *= r, u) for (f = -1, e = u.length; ++f < e;)kw(u[f], t, i, r) } function dw(n, t, i) { var r = n.r + i.r, f = t.x - n.x, e = t.y - n.y, u, o, s, h; r && (f || e) ? (u = t.r + i.r, o = f * f + e * e, u *= u, r *= r, s = .5 + (r - u) / (2 * o), h = Math.sqrt(Math.max(0, 2 * u * (r + o) - (r -= o) * r - u * u)) / (2 * o), i.x = n.x + s * f + h * e, i.y = n.y + s * e - h * f) : (i.x = n.x + r, i.y = n.y) } function gw(n, t) { return n.parent == t.parent ? 1 : 2 } function vc(n) { var t = n.children; return t.length ? t[0] : n.t } function yc(n) { var t = n.children, i; return (i = t.length) ? t[i - 1] : n.t } function trt(n, t, i) { var r = i / (t.i - n.i); t.c -= r; t.s += i; n.c += r; t.z += i; t.m += i } function irt(n) { for (var i = 0, f = 0, r = n.children, u = r.length, t; --u >= 0;)t = r[u], t.z += i, t.m += i, i += t.s + (f += t.c) } function rrt(n, t, i) { return n.a.parent === t.parent ? n.a : i } function urt(t) { return 1 + n.max(t, function (n) { return n.y }) } function frt(n) { return n.reduce(function (n, t) { return n + t.x }, 0) / n.length } function nb(n) { var t = n.children; return t && t.length ? nb(t[0]) : n } function tb(n) { var t = n.children, i; return t && (i = t.length) ? tb(t[i - 1]) : n } function pc(n) { return { x: n.x, y: n.y, dx: n.dx, dy: n.dy } } function ib(n, t) { var u = n.x + t[3], f = n.y + t[0], i = n.dx - t[1] - t[3], r = n.dy - t[0] - t[2]; return i < 0 && (u += i / 2, i = 0), r < 0 && (f += r / 2, r = 0), { x: u, y: f, dx: i, dy: r } } function cr(n) { var t = n[0], i = n[n.length - 1]; return t < i ? [t, i] : [i, t] } function ge(n) { return n.rangeExtent ? n.rangeExtent() : cr(n.range()) } function ert(n, t, i, r) { var u = i(n[0], n[1]), f = r(t[0], t[1]); return function (n) { return f(u(n)) } } function no(n, t) { var i = 0, r = n.length - 1, u = n[i], f = n[r], e; return f < u && (e = i, i = r, r = e, e = u, u = f, f = e), n[i] = t.floor(u), n[r] = t.ceil(f), n } function rb(n) { return n ? { floor: function (t) { return Math.floor(t / n) * n }, ceil: function (t) { return Math.ceil(t / n) * n } } : ub } function ort(t, i, r, u) { var o = [], s = [], f = 0, e = Math.min(t.length, i.length) - 1; for (t[e] < t[0] && (t = t.slice().reverse(), i = i.slice().reverse()); ++f <= e;)o.push(r(t[f - 1], t[f])), s.push(u(i[f - 1], i[f])); return function (i) { var r = n.bisect(t, i, 1, e) - 1; return s[r](o[r](i)) } } function fb(n, t, i, r) { function f() { var f = Math.min(n.length, t.length) > 2 ? ort : ert, s = r ? ktt : btt; return e = f(n, t, s, i), o = f(t, n, s, bi), u } function u(n) { return e(n) } var e, o; return u.invert = function (n) { return o(n) }, u.domain = function (t) { return arguments.length ? (n = t.map(Number), f()) : n }, u.range = function (n) { return arguments.length ? (t = n, f()) : t }, u.rangeRound = function (n) { return u.range(n).interpolate(uw) }, u.clamp = function (n) { return arguments.length ? (r = n, f()) : r }, u.interpolate = function (n) { return arguments.length ? (i = n, f()) : i }, u.ticks = function (t) { return bc(n, t) }, u.tickFormat = function (t, i) { return kc(n, t, i) }, u.nice = function (t) { return eb(n, t), f() }, u.copy = function () { return fb(n, t, i, r) }, f() } function wc(t, i) { return n.rebind(t, i, "range", "rangeRound", "interpolate", "clamp") } function eb(n, t) { return no(n, rb(lr(n, t)[2])), no(n, rb(lr(n, t)[2])), n } function lr(n, t) { t == null && (t = 10); var r = cr(n), f = r[1] - r[0], i = Math.pow(10, Math.floor(Math.log(f / t) / Math.LN10)), u = t / f * i; return u <= .15 ? i *= 10 : u <= .35 ? i *= 5 : u <= .75 && (i *= 2), r[0] = Math.ceil(r[0] / i) * i, r[1] = Math.floor(r[1] / i) * i + i * .5, r[2] = i, r } function bc(t, i) { return n.range.apply(n, lr(t, i)) } function kc(t, i, u) { var e = lr(t, i), f, o; if (u) { if (f = ks.exec(u), f.shift(), f[8] === "s") return o = n.formatPrefix(Math.max(r(e[0]), r(e[1]))), f[7] || (f[7] = "." + to(o.scale(e[2]))), f[8] = "f", u = n.format(f.join("")), function (n) { return u(o.scale(n)) + o.symbol }; f[7] || (f[7] = "." + srt(f[8], e)); u = f.join("") } else u = ",." + to(e[2]) + "f"; return n.format(u) } function to(n) { return -Math.floor(Math.log(n) / Math.LN10 + .01) } function srt(n, t) { var i = to(t[2]); return n in ob ? Math.abs(i - to(Math.max(r(t[0]), r(t[1])))) + +(n !== "e") : i - (n === "%") * 2 } function sb(t, i, r, u) { function e(n) { return (r ? Math.log(n < 0 ? 0 : n) : -Math.log(n > 0 ? 0 : -n)) / Math.log(i) } function o(n) { return r ? Math.pow(i, n) : -Math.pow(i, -n) } function f(n) { return t(e(n)) } return f.invert = function (n) { return o(t.invert(n)) }, f.domain = function (n) { return arguments.length ? (r = n[0] >= 0, t.domain((u = n.map(Number)).map(e)), f) : u }, f.base = function (n) { return arguments.length ? (i = +n, t.domain(u.map(e)), f) : i }, f.nice = function () { var n = no(u.map(e), r ? Math : hb); return t.domain(n), u = n.map(o), f }, f.ticks = function () { var h = cr(u), t = [], c = h[0], l = h[1], n = Math.floor(e(c)), s = Math.ceil(e(l)), a = i % 1 ? 2 : i, f; if (isFinite(s - n)) { if (r) { for (; n < s; n++)for (f = 1; f < a; f++)t.push(o(n) * f); t.push(o(n)) } else for (t.push(o(n)); n++ < s;)for (f = a - 1; f > 0; f--)t.push(o(n) * f); for (n = 0; t[n] < c; n++); for (s = t.length; t[s - 1] > l; s--); t = t.slice(n, s) } return t }, f.tickFormat = function (t, r) { if (!arguments.length) return dc; arguments.length < 2 ? r = dc : typeof r != "function" && (r = n.format(r)); var u = Math.max(1, i * t / f.ticks().length); return function (n) { var t = n / o(Math.round(e(n))); return t * i < i - .5 && (t *= i), t <= u ? r(n) : "" } }, f.copy = function () { return sb(t.copy(), i, r, u) }, wc(f, t) } function cb(n, t, i) { function r(t) { return n(u(t)) } var u = io(t), f = io(1 / t); return r.invert = function (t) { return f(n.invert(t)) }, r.domain = function (t) { return arguments.length ? (n.domain((i = t.map(Number)).map(u)), r) : i }, r.ticks = function (n) { return bc(i, n) }, r.tickFormat = function (n, t) { return kc(i, n, t) }, r.nice = function (n) { return r.domain(eb(i, n)) }, r.exponent = function (e) { return arguments.length ? (u = io(t = e), f = io(1 / t), n.domain(i.map(u)), r) : t }, r.copy = function () { return cb(n.copy(), t, i) }, wc(r, n) } function io(n) { return function (t) { return t < 0 ? -Math.pow(-t, n) : Math.pow(t, n) } } function lb(t, i) { function r(n) { return u[((e.get(n) || (i.t === "range" ? e.set(n, t.push(n)) : NaN)) - 1) % u.length] } function o(i, r) { return n.range(t.length).map(function (n) { return i + r * n }) } var e, u, f; return r.domain = function (n) { if (!arguments.length) return t; t = []; e = new at; for (var f = -1, o = n.length, u; ++f < o;)e.has(u = n[f]) || e.set(u, t.push(u)); return r[i.t].apply(r, i.a) }, r.range = function (n) { return arguments.length ? (u = n, f = 0, i = { t: "range", a: arguments }, r) : u }, r.rangePoints = function (n, e) { arguments.length < 2 && (e = 0); var s = n[0], h = n[1], c = t.length < 2 ? (s = (s + h) / 2, 0) : (h - s) / (t.length - 1 + e); return u = o(s + c * e / 2, c), f = 0, i = { t: "rangePoints", a: arguments }, r }, r.rangeRoundPoints = function (n, e) { arguments.length < 2 && (e = 0); var s = n[0], h = n[1], c = t.length < 2 ? (s = h = Math.round((s + h) / 2), 0) : (h - s) / (t.length - 1 + e) | 0; return u = o(s + Math.round(c * e / 2 + (h - s - (t.length - 1 + e) * c) / 2), c), f = 0, i = { t: "rangeRoundPoints", a: arguments }, r }, r.rangeBands = function (n, e, s) { arguments.length < 2 && (e = 0); arguments.length < 3 && (s = e); var h = n[1] < n[0], l = n[+h], a = n[1 - h], c = (a - l) / (t.length - e + 2 * s); return u = o(l + c * s, c), h && u.reverse(), f = c * (1 - e), i = { t: "rangeBands", a: arguments }, r }, r.rangeRoundBands = function (n, e, s) { arguments.length < 2 && (e = 0); arguments.length < 3 && (s = e); var h = n[1] < n[0], c = n[+h], a = n[1 - h], l = Math.floor((a - c) / (t.length - e + 2 * s)); return u = o(c + Math.round((a - c - (t.length - e) * l) / 2), l), h && u.reverse(), f = Math.round(l * (1 - e)), i = { t: "rangeRoundBands", a: arguments }, r }, r.rangeBand = function () { return f }, r.rangeExtent = function () { return cr(i.a[0]) }, r.copy = function () { return lb(t, i) }, r.domain(t) } function ab(t, i) { function f() { var f = 0, e = i.length; for (r = []; ++f < e;)r[f - 1] = n.quantile(t, f / e); return u } function u(t) { if (!isNaN(t = +t)) return i[n.bisect(r, t)] } var r; return u.domain = function (n) { return arguments.length ? (t = n.map(oi).filter(lt).sort(gi), f()) : t }, u.range = function (n) { return arguments.length ? (i = n, f()) : i }, u.quantiles = function () { return r }, u.invertExtent = function (n) { return n = i.indexOf(n), n < 0 ? [NaN, NaN] : [n > 0 ? r[n - 1] : t[0], n < r.length ? r[n] : t[t.length - 1]] }, u.copy = function () { return ab(t, i) }, f() } function vb(n, t, i) { function r(t) { return i[Math.max(0, Math.min(e, Math.floor(u * (t - n))))] } function f() { return u = i.length / (t - n), e = i.length - 1, r } var u, e; return r.domain = function (i) { return arguments.length ? (n = +i[0], t = +i[i.length - 1], f()) : [n, t] }, r.range = function (n) { return arguments.length ? (i = n, f()) : i }, r.invertExtent = function (t) { return t = i.indexOf(t), t = t < 0 ? NaN : t / u + n, [t, t + 1 / u] }, r.copy = function () { return vb(n, t, i) }, f() } function yb(t, i) { function r(r) { if (r <= r) return i[n.bisect(t, r)] } return r.domain = function (n) { return arguments.length ? (t = n, r) : t }, r.range = function (n) { return arguments.length ? (i = n, r) : i }, r.invertExtent = function (n) { return n = i.indexOf(n), [t[n - 1], t[n]] }, r.copy = function () { return yb(t, i) }, r } function pb(n) { function t(n) { return +n } return t.invert = t, t.domain = t.range = function (i) { return arguments.length ? (n = i.map(t), t) : n }, t.ticks = function (t) { return bc(n, t) }, t.tickFormat = function (t, i) { return kc(n, t, i) }, t.copy = function () { return pb(n) }, t } function vrt() { return 0 } function yrt(n) { return n.innerRadius } function prt(n) { return n.outerRadius } function wb(n) { return n.startAngle } function bb(n) { return n.endAngle } function wrt(n) { return n && n.padAngle } function ro(n, t, i, r) { return (n - i) * t - (t - r) * n > 0 ? 0 : 1 } function uo(n, t, i, r, u) { var v = n[0] - t[0], y = n[1] - t[1], nt = (u ? r : -r) / Math.sqrt(v * v + y * y), p = nt * y, w = -nt * v, b = n[0] + p, k = n[1] + w, d = t[0] + p, g = t[1] + w, tt = (b + d) / 2, it = (k + g) / 2, e = d - b, f = g - k, s = e * e + f * f, h = i - r, o = b * g - d * k, c = (f < 0 ? -1 : 1) * Math.sqrt(Math.max(0, h * h * s - o * o)), l = (o * f - e * c) / s, a = (-o * e - f * c) / s, rt = (o * f + e * c) / s, ut = (-o * e + f * c) / s, ft = l - tt, et = a - it, ot = rt - tt, st = ut - it; return ft * ft + et * et > ot * ot + st * st && (l = rt, a = ut), [[l - p, a - w], [l * i / h, a * i / h]] } function kb(n) { function t(t) { function a() { c.push("M", i(n(e), s)) } for (var c = [], e = [], h = -1, v = t.length, l, y = o(r), p = o(u); ++h < v;)f.call(this, l = t[h], h) ? e.push([+y.call(this, l, h), +p.call(this, l, h)]) : e.length && (a(), e = []); return e.length && a(), c.length ? c.join("") : null } var r = ur, u = ru, f = gr, i = ut, e = i.key, s = .7; return t.x = function (n) { return arguments.length ? (r = n, t) : r }, t.y = function (n) { return arguments.length ? (u = n, t) : u }, t.defined = function (n) { return arguments.length ? (f = n, t) : f }, t.interpolate = function (n) { return arguments.length ? (e = typeof n == "function" ? i = n : (i = fo.get(n) || ut).key, t) : e }, t.tension = function (n) { return arguments.length ? (s = n, t) : s }, t } function ut(n) { return n.length > 1 ? n.join("L") : n + "Z" } function db(n) { return n.join("L") + "Z" } function brt(n) { for (var r = 0, u = n.length, t = n[0], i = [t[0], ",", t[1]]; ++r < u;)i.push("H", (t[0] + (t = n[r])[0]) / 2, "V", t[1]); return u > 1 && i.push("H", t[0]), i.join("") } function gc(n) { for (var i = 0, u = n.length, t = n[0], r = [t[0], ",", t[1]]; ++i < u;)r.push("V", (t = n[i])[1], "H", t[0]); return r.join("") } function nl(n) { for (var i = 0, u = n.length, t = n[0], r = [t[0], ",", t[1]]; ++i < u;)r.push("H", (t = n[i])[0], "V", t[1]); return r.join("") } function krt(n, t) { return n.length < 4 ? ut(n) : n[1] + eo(n.slice(1, -1), tl(n, t)) } function drt(n, t) { return n.length < 3 ? db(n) : n[0] + eo((n.push(n[0]), n), tl([n[n.length - 2]].concat(n, [n[1]]), t)) } function grt(n, t) { return n.length < 3 ? ut(n) : n[0] + eo(n, tl(n, t)) } function eo(n, t) { var o, h; if (t.length < 1 || n.length != t.length && n.length != t.length + 2) return ut(n); var c = n.length != t.length, f = "", s = n[0], i = n[1], e = t[0], r = e, u = 1; if (c && (f += "Q" + (i[0] - e[0] * 2 / 3) + "," + (i[1] - e[1] * 2 / 3) + "," + i[0] + "," + i[1], s = n[1], u = 2), t.length > 1) for (r = t[1], i = n[u], u++, f += "C" + (s[0] + e[0]) + "," + (s[1] + e[1]) + "," + (i[0] - r[0]) + "," + (i[1] - r[1]) + "," + i[0] + "," + i[1], o = 2; o < t.length; o++, u++)i = n[u], r = t[o], f += "S" + (i[0] - r[0]) + "," + (i[1] - r[1]) + "," + i[0] + "," + i[1]; return c && (h = n[u], f += "Q" + (i[0] + r[0] * 2 / 3) + "," + (i[1] + r[1] * 2 / 3) + "," + h[0] + "," + h[1]), f } function tl(n, t) { for (var u = [], f = (1 - t) / 2, r, e = n[0], i = n[1], o = 1, s = n.length; ++o < s;)r = e, e = i, i = n[o], u.push([f * (i[0] - r[0]), f * (i[1] - r[1])]); return u } function gb(n) { if (n.length < 3) return ut(n); var o = 1, s = n.length, t = n[0], i = t[0], r = t[1], u = [i, i, i, (t = n[1])[0]], f = [r, r, r, t[1]], e = [i, ",", r, "L", tt(ei, u), ",", tt(ei, f)]; for (n.push(n[s - 1]); ++o <= s;)t = n[o], u.shift(), u.push(t[0]), f.shift(), f.push(t[1]), il(e, u, f); return n.pop(), e.push("L", t), e.join("") } function nut(n) { if (n.length < 4) return ut(n); for (var f = [], i = -1, e = n.length, t, r = [0], u = [0]; ++i < 3;)t = n[i], r.push(t[0]), u.push(t[1]); for (f.push(tt(ei, r) + "," + tt(ei, u)), --i; ++i < e;)t = n[i], r.shift(), r.push(t[0]), u.shift(), u.push(t[1]), il(f, r, u); return f.join("") } function tut(n) { for (var f, i = -1, e = n.length, o = e + 4, t, r = [], u = []; ++i < 4;)t = n[i % e], r.push(t[0]), u.push(t[1]); for (f = [tt(ei, r), ",", tt(ei, u)], --i; ++i < o;)t = n[i % e], r.shift(), r.push(t[0]), u.shift(), u.push(t[1]), il(f, r, u); return f.join("") } function iut(n, t) { var i = n.length - 1; if (i) for (var e = n[0][0], o = n[0][1], s = n[i][0] - e, h = n[i][1] - o, u = -1, r, f; ++u <= i;)r = n[u], f = u / i, r[0] = t * r[0] + (1 - t) * (e + f * s), r[1] = t * r[1] + (1 - t) * (o + f * h); return gb(n) } function tt(n, t) { return n[0] * t[0] + n[1] * t[1] + n[2] * t[2] + n[3] * t[3] } function il(n, t, i) { n.push("C", tt(nk, t), ",", tt(nk, i), ",", tt(tk, t), ",", tt(tk, i), ",", tt(ei, t), ",", tt(ei, i)) } function rl(n, t) { return (t[1] - n[1]) / (t[0] - n[0]) } function rut(n) { for (var t = 0, e = n.length - 1, i = [], f = n[0], r = n[1], u = i[0] = rl(f, r); ++t < e;)i[t] = (u + (u = rl(f = r, r = n[t + 1]))) / 2; return i[t] = u, i } function uut(n) { for (var c = [], e, o, s, u, f = rut(n), i = -1, h = n.length - 1; ++i < h;)e = rl(n[i], n[i + 1]), r(e) < t ? f[i] = f[i + 1] = 0 : (o = f[i] / e, s = f[i + 1] / e, u = o * o + s * s, u > 9 && (u = e * 3 / Math.sqrt(u), f[i] = u * o, f[i + 1] = u * s)); for (i = -1; ++i <= h;)u = (n[Math.min(h, i + 1)][0] - n[Math.max(0, i - 1)][0]) / (6 * (1 + f[i] * f[i])), c.push([u || 0, f[i] * u || 0]); return c } function fut(n) { return n.length < 3 ? ut(n) : n[0] + eo(n, uut(n)) } function ik(n) { for (var t, u = -1, f = n.length, i, r; ++u < f;)t = n[u], i = t[0], r = t[1] - h, t[0] = i * Math.cos(r), t[1] = i * Math.sin(r); return n } function rk(n) { function t(t) { function d() { p.push("M", i(n(w), s), a, l(n(v.reverse()), s), "Z") } for (var p = [], v = [], w = [], c = -1, g = t.length, y, nt = o(f), tt = o(e), it = f === r ? function () { return b } : o(r), rt = e === u ? function () { return k } : o(u), b, k; ++c < g;)h.call(this, y = t[c], c) ? (v.push([b = +nt.call(this, y, c), k = +tt.call(this, y, c)]), w.push([+it.call(this, y, c), +rt.call(this, y, c)])) : v.length && (d(), v = [], w = []); return v.length && d(), p.length ? p.join("") : null } var f = ur, r = ur, e = 0, u = ru, h = gr, i = ut, c = i.key, l = i, a = "L", s = .7; return t.x = function (n) { return arguments.length ? (f = r = n, t) : r }, t.x0 = function (n) { return arguments.length ? (f = n, t) : f }, t.x1 = function (n) { return arguments.length ? (r = n, t) : r }, t.y = function (n) { return arguments.length ? (e = u = n, t) : u }, t.y0 = function (n) { return arguments.length ? (e = n, t) : e }, t.y1 = function (n) { return arguments.length ? (u = n, t) : u }, t.defined = function (n) { return arguments.length ? (h = n, t) : h }, t.interpolate = function (n) { return arguments.length ? (c = typeof n == "function" ? i = n : (i = fo.get(n) || ut).key, l = i.reverse || i, a = i.closed ? "M" : "L", t) : c }, t.tension = function (n) { return arguments.length ? (s = n, t) : s }, t } function eut(n) { return n.radius } function uk(n) { return [n.x, n.y] } function out(n) { return function () { var t = n.apply(this, arguments), i = t[0], r = t[1] - h; return [i * Math.cos(r), i * Math.sin(r)] } } function sut() { return 64 } function hut() { return "circle" } function fk(n) { var t = Math.sqrt(n / f); return "M0," + t + "A" + t + "," + t + " 0 1,1 0," + -t + "A" + t + "," + t + " 0 1,1 0," + t + "Z" } function ek(n) { return function () { var t, r, i; (t = this[n]) && (i = t[r = t.active]) && (i.timer.c = null, i.timer.t = NaN, --t.count ? delete t[r] : delete this[n], t.active += .5, i.event && i.event.interrupt.call(this, this.__data__, i.index)) } } function wu(n, t, i) { return vr(n, a), n.namespace = t, n.id = i, n } function ol(n, t, i, r) { var u = n.id, f = n.namespace; return vt(n, typeof i == "function" ? function (n, e, o) { n[f][u].tween.set(t, r(i.call(n, n.__data__, e, o))) } : (i = r(i), function (n) { n[f][u].tween.set(t, i) })) } function cut(n) { return n == null && (n = ""), function () { this.textContent = n } } function sl(n) { return n == null ? "__transition__" : "__transition_" + n + "__" } function so(n, t, i, r, u) { function y(n) { var t = e.delay; if (o.t = t + s, t <= n) return a(n - t); o.c = a } function a(i) { var p = f.active, u = f[p], a, y; u && (u.timer.c = null, u.timer.t = NaN, --f.count, delete f[p], u.event && u.event.interrupt.call(n, n.__data__, u.index)); for (a in f) +a < r && (y = f[a], y.timer.c = null, y.timer.t = NaN, --f.count, delete f[a]); o.c = v; bf(function () { return o.c && v(i || 1) && (o.c = null, o.t = NaN), 1 }, 0, s); f.active = r; e.event && e.event.start.call(n, n.__data__, t); h = []; e.tween.forEach(function (i, r) { (r = r.call(n, n.__data__, t)) && h.push(r) }); l = e.ease; c = e.duration } function v(u) { for (var o = u / c, a = l(o), s = h.length; s > 0;)h[--s].call(n, a); if (o >= 1) return e.event && e.event.end.call(n, n.__data__, t), --f.count ? delete f[r] : delete n[i], 1 } var f = n[i] || (n[i] = { active: 0, count: 0 }), e = f[r], s, o, c, l, h; e || (s = u.time, o = bf(y, 0, s), e = f[r] = { tween: new at, time: s, timer: o, delay: u.delay, duration: u.duration, ease: u.ease, index: t }, u = null, ++f.count) } function lut(n, t, i) { n.attr("transform", function (n) { var r = t(n); return "translate(" + (isFinite(r) ? r : i(n)) + ",0)" }) } function aut(n, t, i) { n.attr("transform", function (n) { var r = t(n); return "translate(0," + (isFinite(r) ? r : i(n)) + ")" }) } function al(n) { return n.toISOString() } function vl(t, i, r) { function u(n) { return t(n) } function f(t, r) { var e = t[1] - t[0], f = e / r, u = n.bisect(ho, f); return u == ho.length ? [i.year, lr(t.map(function (n) { return n / 31536e6 }), r)[2]] : u ? i[f / ho[u - 1] < ho[u] / f ? u - 1 : u] : [put, lr(t, r)[2]] } return u.invert = function (n) { return di(t.invert(n)) }, u.domain = function (n) { return arguments.length ? (t.domain(n), u) : t.domain().map(di) }, u.nice = function (n, t) { function o(i) { return !isNaN(i) && !n.range(i, di(+i + 1), t).length } var r = u.domain(), e = cr(r), i = n == null ? f(e, 10) : typeof n == "number" && f(e, n); return i && (n = i[0], t = i[1]), u.domain(no(r, t > 1 ? { floor: function (t) { while (o(t = n.floor(t))) t = di(t - 1); return t }, ceil: function (t) { while (o(t = n.ceil(t))) t = di(+t + 1); return t } } : n)) }, u.ticks = function (n, t) { var i = cr(u.domain()), r = n == null ? f(i, 10) : typeof n == "number" ? f(i, n) : !n.range && [{ range: n }, t]; return r && (n = r[0], t = r[1]), n.range(i[0], di(+i[1] + 1), t < 1 ? 1 : t) }, u.tickFormat = function () { return r }, u.copy = function () { return vl(t.copy(), i, r) }, wc(u, t) } function di(n) { return new Date(n) } function wut(n) { return JSON.parse(n.responseText) } function but(n) { var t = p.createRange(); return t.selectNode(p.body), t.createContextualFragment(n.responseText) } var n = { version: "3.5.17" }, wl = [].slice, ft = function (n) { return wl.call(n) }, p = this.document, co, r, na, ku, vo, oa, vr, e, nf, tf, et, rf, si, nv, ff, us, of, fs, sf, hf, pr, wr, vf, yf, pf, wf, ps, bv, ks, kv, i, y, st, ds, br, nh, th, te, ti, k, kr, oe, ai, vi, pt, ii, ri, ht, ir, rr, ui, g, fh, nu, oh, sh, wt, he, ce, le, ae, yy, nt, yh, pi, ph, wh, bh, kh, dh, uu, fr, wi, er, ic, rc, fu, uc, hu, be, ke, sw, hc, aw, vw, ub, ob, dc, hb, vu, fo, ul, yu, fl, pu, a, el, ki, oo, hl, ok, pl, ck; if (p) try { ft(p.documentElement.childNodes)[0].nodeType } catch (kut) { ft = function (n) { for (var t = n.length, i = new Array(t); t--;)i[t] = n[t]; return i } } if (Date.now || (Date.now = function () { return +new Date }), p) try { p.createElement("DIV").style.setProperty("opacity", 0, "") } catch (dut) { var bu = this.Element.prototype, lk = bu.setAttribute, ak = bu.setAttributeNS, kl = this.CSSStyleDeclaration.prototype, vk = kl.setProperty; bu.setAttribute = function (n, t) { lk.call(this, n, t + "") }; bu.setAttributeNS = function (n, t, i) { ak.call(this, n, t, i + "") }; kl.setProperty = function (n, t, i) { vk.call(this, n, t + "", i) } } n.ascending = gi; n.descending = function (n, t) { return t < n ? -1 : t > n ? 1 : t >= n ? 0 : NaN }; n.min = function (n, t) { var r = -1, f = n.length, u, i; if (arguments.length === 1) { while (++r < f) if ((i = n[r]) != null && i >= i) { u = i; break } while (++r < f) (i = n[r]) != null && u > i && (u = i) } else { while (++r < f) if ((i = t.call(n, n[r], r)) != null && i >= i) { u = i; break } while (++r < f) (i = t.call(n, n[r], r)) != null && u > i && (u = i) } return u }; n.max = function (n, t) { var r = -1, f = n.length, u, i; if (arguments.length === 1) { while (++r < f) if ((i = n[r]) != null && i >= i) { u = i; break } while (++r < f) (i = n[r]) != null && i > u && (u = i) } else { while (++r < f) if ((i = t.call(n, n[r], r)) != null && i >= i) { u = i; break } while (++r < f) (i = t.call(n, n[r], r)) != null && i > u && (u = i) } return u }; n.extent = function (n, t) { var r = -1, e = n.length, u, i, f; if (arguments.length === 1) { while (++r < e) if ((i = n[r]) != null && i >= i) { u = f = i; break } while (++r < e) (i = n[r]) != null && (u > i && (u = i), f < i && (f = i)) } else { while (++r < e) if ((i = t.call(n, n[r], r)) != null && i >= i) { u = f = i; break } while (++r < e) (i = t.call(n, n[r], r)) != null && (u > i && (u = i), f < i && (f = i)) } return [u, f] }; n.sum = function (n, t) { var u = 0, f = n.length, r, i = -1; if (arguments.length === 1) while (++i < f) lt(r = +n[i]) && (u += r); else while (++i < f) lt(r = +t.call(n, n[i], i)) && (u += r); return u }; n.mean = function (n, t) { var f = 0, e = n.length, r, i = -1, u = e; if (arguments.length === 1) while (++i < e) lt(r = oi(n[i])) ? f += r : --u; else while (++i < e) lt(r = oi(t.call(n, n[i], i))) ? f += r : --u; if (u) return f / u }; n.quantile = function (n, t) { var u = (n.length - 1) * t + 1, i = Math.floor(u), r = +n[i - 1], f = u - i; return f ? r + f * (n[i] - r) : r }; n.median = function (t, i) { var u = [], e = t.length, f, r = -1; if (arguments.length === 1) while (++r < e) lt(f = oi(t[r])) && u.push(f); else while (++r < e) lt(f = oi(i.call(t, t[r], r))) && u.push(f); if (u.length) return n.quantile(u.sort(gi), .5) }; n.variance = function (n, t) { var s = n.length, i = 0, r, u, o = 0, f = -1, e = 0; if (arguments.length === 1) while (++f < s) lt(r = oi(n[f])) && (u = r - i, i += u / ++e, o += u * (r - i)); else while (++f < s) lt(r = oi(t.call(n, n[f], f))) && (u = r - i, i += u / ++e, o += u * (r - i)); if (e > 1) return o / (e - 1) }; n.deviation = function () { var t = n.variance.apply(this, arguments); return t ? Math.sqrt(t) : t }; co = dl(gi); n.bisectLeft = co.left; n.bisect = n.bisectRight = co.right; n.bisector = function (n) { return dl(n.length === 1 ? function (t, i) { return gi(n(t), i) } : n) }; n.shuffle = function (n, t, i) { (r = arguments.length) < 3 && (i = n.length, r < 2 && (t = 0)); for (var r = i - t, f, u; r;)u = Math.random() * r-- | 0, f = n[r + t], n[r + t] = n[u + t], n[u + t] = f; return n }; n.permute = function (n, t) { for (var i = t.length, r = new Array(i); i--;)r[i] = n[t[i]]; return r }; n.pairs = function (n) { for (var t = 0, i = n.length - 1, f, r = n[0], u = new Array(i < 0 ? 0 : i); t < i;)u[t] = [f = r, r = n[++t]]; return u }; n.transpose = function (t) { var i, u, o; if (!(u = t.length)) return []; for (var r = -1, f = n.min(t, yk), e = new Array(f); ++r < f;)for (i = -1, o = e[r] = new Array(u); ++i < u;)o[i] = t[i][r]; return e }; n.zip = function () { return n.transpose(arguments) }; n.keys = function (n) { var t = [], i; for (i in n) t.push(i); return t }; n.values = function (n) { var t = [], i; for (i in n) t.push(n[i]); return t }; n.entries = function (n) { var i = [], t; for (t in n) i.push({ key: t, value: n[t] }); return i }; n.merge = function (n) { for (var t = n.length, i, e = -1, r = 0, u, f; ++e < t;)r += n[e].length; for (u = new Array(r); --t >= 0;)for (f = n[t], i = f.length; --i >= 0;)u[--r] = f[i]; return u }; r = Math.abs; n.range = function (n, t, i) { if (arguments.length < 3 && (i = 1, arguments.length < 2 && (t = n, n = 0)), (t - n) / i == Infinity) throw new Error("infinite range"); var e = [], u = pk(r(i)), o = -1, f; if (n *= u, t *= u, i *= u, i < 0) while ((f = n + i * ++o) > t) e.push(f / u); else while ((f = n + i * ++o) < t) e.push(f / u); return e }; n.map = function (n, t) { var r = new at, i, u, e, f; if (n instanceof at) n.forEach(function (n, t) { r.set(n, t) }); else if (Array.isArray(n)) if (i = -1, u = n.length, arguments.length === 1) while (++i < u) r.set(i, n[i]); else while (++i < u) r.set(t.call(n, e = n[i], i), e); else for (f in n) r.set(f, n[f]); return r }; na = "__proto__"; ku = "\x00"; gl(at, { has: ta, get: function (n) { return this._[ar(n)] }, set: function (n, t) { return this._[ar(n)] = t }, remove: ia, keys: ra, values: function () { var n = [], t; for (t in this._) n.push(this._[t]); return n }, entries: function () { var t = [], n; for (n in this._) t.push({ key: du(n), value: this._[n] }); return t }, size: ua, empty: fa, forEach: function (n) { for (var t in this._) n.call(this, du(t), this._[t]) } }); n.nest = function () { function r(n, e, o) { if (o >= i.length) return f ? f.call(t, e) : u ? e.sort(u) : e; for (var l = -1, y = e.length, p = i[o++], a, s, h, c = new at, v; ++l < y;)(v = c.get(a = p(s = e[l]))) ? v.push(s) : c.set(a, [s]); return n ? (s = n(), h = function (t, i) { s.set(t, r(n, i, o)) }) : (s = {}, h = function (t, i) { s[t] = r(n, i, o) }), c.forEach(h), s } function o(n, t) { if (t >= i.length) return n; var r = [], u = e[t++]; return n.forEach(function (n, i) { r.push({ key: n, values: o(i, t) }) }), u ? r.sort(function (n, t) { return u(n.key, t.key) }) : r } var t = {}, i = [], e = [], u, f; return t.map = function (n, t) { return r(t, n, 0) }, t.entries = function (t) { return o(r(n.map, t, 0), 0) }, t.key = function (n) { return i.push(n), t }, t.sortKeys = function (n) { return e[i.length - 1] = n, t }, t.sortValues = function (n) { return u = n, t }, t.rollup = function (n) { return f = n, t }, t }; n.set = function (n) { var i = new lo, t, r; if (n) for (t = 0, r = n.length; t < r; ++t)i.add(n[t]); return i }; gl(lo, { has: ta, add: function (n) { return this._[ar(n += "")] = !0, n }, remove: ia, values: ra, size: ua, empty: fa, forEach: function (n) { for (var t in this._) n.call(this, du(t)) } }); n.behavior = {}; n.rebind = function (n, t) { for (var i = 1, u = arguments.length, r; ++i < u;)n[r = arguments[i]] = wk(n, t, t[r]); return n }; vo = ["webkit", "ms", "moz", "Moz", "o", "O"]; n.dispatch = function () { for (var n = new yo, t = -1, i = arguments.length; ++t < i;)n[arguments[t]] = ea(n); return n }; yo.prototype.on = function (n, t) { var r = n.indexOf("."), i = ""; if (r >= 0 && (i = n.slice(r + 1), n = n.slice(0, r)), n) return arguments.length < 2 ? this[n].on(i) : this[n].on(i, t); if (arguments.length === 2) { if (t == null) for (n in this) if (this.hasOwnProperty(n)) this[n].on(i, null); return this } }; n.event = null; n.requote = function (n) { return n.replace(oa, "\\$&") }; oa = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g; vr = {}.__proto__ ? function (n, t) { n.__proto__ = t } : function (n, t) { for (var i in t) n[i] = t[i] }; var bo = function (n, t) { return t.querySelector(n) }, ko = function (n, t) { return t.querySelectorAll(n) }, gu = function (n, t) { var i = n.matches || n[ao(n, "matchesSelector")]; return gu = function (n, t) { return i.call(n, t) }, gu(n, t) }; typeof Sizzle == "function" && (bo = function (n, t) { return Sizzle(n, t)[0] || null }, ko = Sizzle, gu = Sizzle.matchesSelector); n.selection = function () { return n.select(p.documentElement) }; e = n.selection.prototype = []; e.select = function (n) { var o = [], i, f, e, t, r, s, u, h; for (n = go(n), r = -1, s = this.length; ++r < s;)for (o.push(i = []), i.parentNode = (e = this[r]).parentNode, u = -1, h = e.length; ++u < h;)(t = e[u]) ? (i.push(f = n.call(t, t.__data__, u, r)), f && "__data__" in t && (f.__data__ = t.__data__)) : i.push(null); return gt(o) }; e.selectAll = function (n) { var u = [], f, t, i, e; for (n = sa(n), i = -1, e = this.length; ++i < e;)for (var o = this[i], r = -1, s = o.length; ++r < s;)(t = o[r]) && (u.push(f = ft(n.call(t, t.__data__, r, i))), f.parentNode = t); return gt(u) }; nf = "http://www.w3.org/1999/xhtml"; tf = { svg: "http://www.w3.org/2000/svg", xhtml: nf, xlink: "http://www.w3.org/1999/xlink", xml: "http://www.w3.org/XML/1998/namespace", xmlns: "http://www.w3.org/2000/xmlns/" }; n.ns = { prefix: tf, qualify: function (n) { var t = n.indexOf(":"), i = n; return t >= 0 && (i = n.slice(0, t)) !== "xmlns" && (n = n.slice(t + 1)), tf.hasOwnProperty(i) ? { space: tf[i], local: n } : n } }; e.attr = function (t, i) { if (arguments.length < 2) { if (typeof t == "string") { var r = this.node(); return t = n.ns.qualify(t), t.local ? r.getAttributeNS(t.space, t.local) : r.getAttribute(t) } for (i in t) this.each(ha(i, t[i])); return this } return this.each(ha(t, i)) }; e.classed = function (n, t) { if (arguments.length < 2) { if (typeof n == "string") { var r = this.node(), u = (n = aa(n)).length, i = -1; if (t = r.classList) { while (++i < u) if (!t.contains(n[i])) return !1 } else for (t = r.getAttribute("class"); ++i < u;)if (!la(n[i]).test(t)) return !1; return !0 } for (t in n) this.each(va(t, n[t])); return this } return this.each(va(n, t)) }; e.style = function (n, t, i) { var r = arguments.length, u; if (r < 3) { if (typeof n != "string") { r < 2 && (t = ""); for (i in n) this.each(ya(i, n[i], t)); return this } if (r < 2) return u = this.node(), kt(u).getComputedStyle(u, null).getPropertyValue(n); i = "" } return this.each(ya(n, t, i)) }; e.property = function (n, t) { if (arguments.length < 2) { if (typeof n == "string") return this.node()[n]; for (t in n) this.each(pa(t, n[t])); return this } return this.each(pa(n, t)) }; e.text = function (n) { return arguments.length ? this.each(typeof n == "function" ? function () { var t = n.apply(this, arguments); this.textContent = t == null ? "" : t } : n == null ? function () { this.textContent = "" } : function () { this.textContent = n }) : this.node().textContent }; e.html = function (n) { return arguments.length ? this.each(typeof n == "function" ? function () { var t = n.apply(this, arguments); this.innerHTML = t == null ? "" : t } : n == null ? function () { this.innerHTML = "" } : function () { this.innerHTML = n }) : this.node().innerHTML }; e.append = function (n) { return n = wa(n), this.select(function () { return this.appendChild(n.apply(this, arguments)) }) }; e.insert = function (n, t) { return n = wa(n), t = go(t), this.select(function () { return this.insertBefore(n.apply(this, arguments), t.apply(this, arguments) || null) }) }; e.remove = function () { return this.each(kk) }; e.data = function (n, t) { function o(n, i) { var r, e = n.length, a = i.length, b = Math.min(e, a), v = new Array(a), o = new Array(a), y = new Array(e), u, c, l, w, p; if (t) { for (l = new at, w = new Array(e), r = -1; ++r < e;)(u = n[r]) && (l.has(p = t.call(u, u.__data__, r)) ? y[r] = u : l.set(p, u), w[r] = p); for (r = -1; ++r < a;)(u = l.get(p = t.call(i, c = i[r], r))) ? u !== !0 && (v[r] = u, u.__data__ = c) : o[r] = ns(c), l.set(p, !0); for (r = -1; ++r < e;)r in w && l.get(w[r]) !== !0 && (y[r] = n[r]) } else { for (r = -1; ++r < b;)u = n[r], c = i[r], u ? (u.__data__ = c, v[r] = u) : o[r] = ns(c); for (; r < a; ++r)o[r] = ns(i[r]); for (; r < e; ++r)y[r] = n[r] } o.update = v; o.parentNode = v.parentNode = y.parentNode = n.parentNode; s.push(o); f.push(v); h.push(y) } var i = -1, u = this.length, r, e; if (!arguments.length) { for (n = new Array(u = (r = this[0]).length); ++i < u;)(e = r[i]) && (n[i] = e.__data__); return n } var s = ka([]), f = gt([]), h = gt([]); if (typeof n == "function") while (++i < u) o(r = this[i], n.call(r, r.parentNode.__data__, i)); else while (++i < u) o(r = this[i], n); return f.enter = function () { return s }, f.exit = function () { return h }, f }; e.datum = function (n) { return arguments.length ? this.property("__data__", n) : this.property("__data__") }; e.filter = function (n) { var e = [], u, f, r, t, o, i, s; for (typeof n != "function" && (n = ba(n)), t = 0, o = this.length; t < o; t++)for (e.push(u = []), u.parentNode = (f = this[t]).parentNode, i = 0, s = f.length; i < s; i++)(r = f[i]) && n.call(r, r.__data__, i, t) && u.push(r); return gt(e) }; e.order = function () { for (var i = -1, f = this.length; ++i < f;)for (var r = this[i], u = r.length - 1, n = r[u], t; --u >= 0;)(t = r[u]) && (n && n !== t.nextSibling && n.parentNode.insertBefore(t, n), n = t); return this }; e.sort = function (n) { n = dk.apply(this, arguments); for (var t = -1, i = this.length; ++t < i;)this[t].sort(n); return this.order() }; e.each = function (n) { return vt(this, function (t, i, r) { n.call(t, t.__data__, i, r) }) }; e.call = function (n) { var t = ft(arguments); return n.apply(t[0] = this, t), this }; e.empty = function () { return !this.node() }; e.node = function () { for (var i, n = 0, r = this.length; n < r; n++)for (var u = this[n], t = 0, f = u.length; t < f; t++)if (i = u[t], i) return i; return null }; e.size = function () { var n = 0; return vt(this, function () { ++n }), n }; et = []; n.selection.enter = ka; n.selection.enter.prototype = et; et.append = e.append; et.empty = e.empty; et.node = e.node; et.call = e.call; et.size = e.size; et.select = function (n) { for (var e = [], r, o, s, t, f, i, c, u = -1, h = this.length; ++u < h;)for (s = (t = this[u]).update, e.push(r = []), r.parentNode = t.parentNode, i = -1, c = t.length; ++i < c;)(f = t[i]) ? (r.push(s[i] = o = n.call(t.parentNode, f.__data__, i, u)), o.__data__ = f.__data__) : r.push(null); return gt(e) }; et.insert = function (n, t) { return arguments.length < 2 && (t = gk(this)), e.insert.call(this, n, t) }; n.select = function (n) { var t; return typeof n == "string" ? (t = [bo(n, p)], t.parentNode = p.documentElement) : (t = [n], t.parentNode = bl(n)), gt([t]) }; n.selectAll = function (n) { var t; return typeof n == "string" ? (t = ft(ko(n, p)), t.parentNode = p.documentElement) : (t = ft(n), t.parentNode = null), gt([t]) }; e.on = function (n, t, i) { var r = arguments.length; if (r < 3) { if (typeof n != "string") { r < 2 && (t = !1); for (i in n) this.each(da(i, n[i], t)); return this } if (r < 2) return (r = this.node()["__on" + n]) && r._; i = !1 } return this.each(da(n, t, i)) }; rf = n.map({ mouseenter: "mouseover", mouseleave: "mouseout" }); p && rf.forEach(function (n) { "on" + n in p && rf.remove(n) }); nv = 0; n.mouse = function (n) { return ts(n, po()) }; ff = this.navigator && /WebKit/.test(this.navigator.userAgent) ? -1 : 0; n.touch = function (n, t, i) { if (arguments.length < 3 && (i = t, t = po().changedTouches), t) for (var r = 0, f = t.length, u; r < f; ++r)if ((u = t[r]).identifier === i) return ts(n, u) }; n.behavior.drag = function () { function i() { this.on("mousedown.drag", f).on("touchstart.drag", e) } function u(i, u, f, e, o) { return function () { function d() { var n = u(v, h), t, i; n && (t = n[0] - c[0], i = n[1] - c[1], w |= t | i, c = n, y({ type: "drag", x: n[0] + s[0], y: n[1] + s[1], dx: t, dy: i })) } function g() { if (u(v, h)) { b.on(e + l, null).on(o + l, null); k(w); y({ type: "dragend" }) } } var a = this, p = n.event.target.correspondingElement || n.event.target, v = a.parentNode, y = r.of(a, arguments), w = 0, h = i(), l = ".drag" + (h == null ? "" : "-" + h), s, b = n.select(f(p)).on(e + l, d).on(o + l, g), k = uf(p), c = u(v, h); t ? (s = t.apply(a, arguments), s = [s.x - c[0], s.y - c[1]]) : s = [0, 0]; y({ type: "dragstart" }) } } var r = wo(i, "drag", "dragstart", "dragend"), t = null, f = u(l, n.mouse, kt, "mousemove", "mouseup"), e = u(td, n.touch, v, "touchmove", "touchend"); return i.origin = function (n) { return arguments.length ? (t = n, i) : t }, n.rebind(i, r, "on") }; n.touches = function (n, t) { return arguments.length < 2 && (t = po().touches), t ? ft(t).map(function (t) { var i = ts(n, t); return i.identifier = t.identifier, i }) : [] }; var t = 1e-6, ef = t * t, f = Math.PI, d = 2 * f, id = d - t, h = f / 2, u = f / 180, s = 180 / f; var yr = Math.SQRT2, rs = 2, fv = 4; n.interpolateZoom = function (n, t) { var c = n[0], l = n[1], i = n[2], p = t[0], w = t[1], r = t[2], e = p - c, o = w - l, s = e * e + o * o, h, u; if (s < ef) u = Math.log(r / i) / yr, h = function (n) { return [c + n * e, l + n * o, i * Math.exp(yr * n * u)] }; else { var a = Math.sqrt(s), v = (r * r - i * i + fv * s) / (2 * i * rs * a), y = (r * r - i * i - fv * s) / (2 * r * rs * a), f = Math.log(Math.sqrt(v * v + 1) - v), b = Math.log(Math.sqrt(y * y + 1) - y); u = (b - f) / yr; h = function (n) { var t = n * u, r = rv(f), s = i / (rs * a) * (r * ud(yr * t + f) - rd(f)); return [c + s * e, l + s * o, i * r / rv(yr * t + f)] } } return h.duration = u * 1e3, h }; n.behavior.zoom = function () { function i(n) { n.on(d, ht).on(fs + ".zoom", at).on("dblclick.zoom", vt).on(g, ct) } function y(n) { return [(n[0] - t.x) / t.k, (n[1] - t.y) / t.k] } function lt(n) { return [n[0] * t.k + t.x, n[1] * t.k + t.y] } function w(n) { t.k = Math.max(h[0], Math.min(h[1], n)) } function b(n, i) { i = lt(i); t.x += n[0] - i[0]; t.y += n[1] - i[1] } function st(u, f, e, o) { u.__chart__ = { x: t.x, y: t.y, k: t.k }; w(Math.pow(2, o)); b(r = f, e); u = n.select(u); c > 0 && (u = u.transition().duration(c)); u.call(i.event) } function rt() { a && a.domain(tt.range().map(function (n) { return (n - t.x) / t.k }).map(tt.invert)); v && v.domain(it.range().map(function (n) { return (n - t.y) / t.k }).map(it.invert)) } function e(n) { ft++ || n({ type: "zoomstart" }) } function o(n) { rt(); n({ type: "zoom", scale: t.k, translate: [t.x, t.y] }) } function u(n) { --ft || (n({ type: "zoomend" }), r = null) } function ht() { function l() { r = 1; b(n.mouse(t), h); o(i) } function a() { s.on(et, null).on(ot, null); c(r); u(i) } var t = this, i = f.of(t, arguments), r = 0, s = n.select(kt(t)).on(et, l).on(ot, a), h = y(n.mouse(t)), c = uf(t); pu.call(t); e(i) } function ct() { function p() { var u = n.touches(i); return l = t.k, u.forEach(function (n) { n.identifier in r && (r[n.identifier] = y(n)) }), u } function k() { var c = n.event.target, o, e, l, u, s, f; n.select(c).on(tt, ut).on(it, ft); for (a.push(c), o = n.event.changedTouches, e = 0, l = o.length; e < l; ++e)r[o[e].identifier] = null; if (u = p(), s = Date.now(), u.length === 1) s - nt < 500 && (f = u[0], st(i, f, r[f.identifier], Math.floor(Math.log(t.k) / Math.LN2) + 1), dt()), nt = s; else if (u.length > 1) { var f = u[0], v = u[1], y = f[0] - v[0], w = f[1] - v[1]; h = y * y + w * w } } function ut() { var v = n.touches(i), t, f, u, e, a, y, c, p; for (pu.call(i), a = 0, y = v.length; a < y; ++a, e = null)if (u = v[a], e = r[u.identifier]) { if (f) break; t = u; f = e } e && (c = (c = u[0] - t[0]) * c + (c = u[1] - t[1]) * c, p = h && Math.sqrt(c / h), t = [(t[0] + u[0]) / 2, (t[1] + u[1]) / 2], f = [(f[0] + e[0]) / 2, (f[1] + e[1]) / 2], w(p * l)); nt = null; b(t, f); o(s) } function ft() { var i, t, f, e; if (n.event.touches.length) { for (i = n.event.changedTouches, t = 0, f = i.length; t < f; ++t)delete r[i[t].identifier]; for (e in r) return void p() } n.selectAll(a).on(c, null); v.on(d, ht).on(g, ct); rt(); u(s) } var i = this, s = f.of(i, arguments), r = {}, h = 0, l, c = ".zoom-" + n.event.changedTouches[0].identifier, tt = "touchmove" + c, it = "touchend" + c, a = [], v = n.select(i), rt = uf(i); k(); e(s); v.on(d, null).on(g, k) } function at() { var i = f.of(this, arguments); l ? clearTimeout(l) : (pu.call(this), ut = y(r = k || n.mouse(this)), e(i)); l = setTimeout(function () { l = null; u(i) }, 50); dt(); w(Math.pow(2, of() * .002) * t.k); b(r, ut); o(i) } function vt() { var i = n.mouse(this), r = Math.log(t.k) / Math.LN2; st(this, i, y(i), n.event.shiftKey ? Math.ceil(r) - 1 : Math.floor(r) + 1) } var t = { x: 0, y: 0, k: 1 }, ut, r, k, s = [960, 500], h = us, c = 250, ft = 0, d = "mousedown.zoom", et = "mousemove.zoom", ot = "mouseup.zoom", l, g = "touchstart.zoom", nt, f = wo(i, "zoomstart", "zoom", "zoomend"), tt, a, it, v; return fs || (fs = "onwheel" in p ? (of = function () { return -n.event.deltaY * (n.event.deltaMode ? 120 : 1) }, "wheel") : "onmousewheel" in p ? (of = function () { return n.event.wheelDelta }, "mousewheel") : (of = function () { return -n.event.detail }, "MozMousePixelScroll")), i.event = function (i) { i.each(function () { var i = f.of(this, arguments), h = t; ki ? n.select(this).transition().each("start.zoom", function () { t = this.__chart__ || { x: 0, y: 0, k: 1 }; e(i) }).tween("zoom:zoom", function () { var u = s[0], c = s[1], f = r ? r[0] : u / 2, e = r ? r[1] : c / 2, l = n.interpolateZoom([(f - t.x) / t.k, (e - t.y) / t.k, u / t.k], [(f - h.x) / h.k, (e - h.y) / h.k, u / h.k]); return function (n) { var r = l(n), s = u / r[2]; this.__chart__ = t = { x: f - r[0] * s, y: e - r[1] * s, k: s }; o(i) } }).each("interrupt.zoom", function () { u(i) }).each("end.zoom", function () { u(i) }) : (this.__chart__ = t, e(i), o(i), u(i)) }) }, i.translate = function (n) { return arguments.length ? (t = { x: +n[0], y: +n[1], k: t.k }, rt(), i) : [t.x, t.y] }, i.scale = function (n) { return arguments.length ? (t = { x: t.x, y: t.y, k: null }, w(+n), rt(), i) : t.k }, i.scaleExtent = function (n) { return arguments.length ? (h = n == null ? us : [+n[0], +n[1]], i) : h }, i.center = function (n) { return arguments.length ? (k = n && [+n[0], +n[1]], i) : k }, i.size = function (n) { return arguments.length ? (s = n && [+n[0], +n[1]], i) : s }, i.duration = function (n) { return arguments.length ? (c = +n, i) : c }, i.x = function (n) { return arguments.length ? (a = n, tt = n.copy(), t = { x: 0, y: 0, k: 1 }, i) : a }, i.y = function (n) { return arguments.length ? (v = n, it = n.copy(), t = { x: 0, y: 0, k: 1 }, i) : v }, n.rebind(i, f, "on") }; us = [0, Infinity]; n.color = hi; hi.prototype.toString = function () { return this.rgb() + "" }; n.hsl = ot; sf = ot.prototype = new hi; sf.brighter = function (n) { return n = Math.pow(.7, arguments.length ? n : 1), new ot(this.h, this.s, this.l / n) }; sf.darker = function (n) { return n = Math.pow(.7, arguments.length ? n : 1), new ot(this.h, this.s, n * this.l) }; sf.rgb = function () { return es(this.h, this.s, this.l) }; n.hcl = it; hf = it.prototype = new hi; hf.brighter = function (n) { return new it(this.h, this.c, Math.min(100, this.l + cf * (arguments.length ? n : 1))) }; hf.darker = function (n) { return new it(this.h, this.c, Math.max(0, this.l - cf * (arguments.length ? n : 1))) }; hf.rgb = function () { return os(this.h, this.c, this.l).rgb() }; n.lab = rt; var cf = 18, ev = .95047, ov = 1, sv = 1.08883, ss = rt.prototype = new hi; ss.brighter = function (n) { return new rt(Math.min(100, this.l + cf * (arguments.length ? n : 1)), this.a, this.b) }; ss.darker = function (n) { return new rt(Math.max(0, this.l - cf * (arguments.length ? n : 1)), this.a, this.b) }; ss.rgb = function () { return hv(this.l, this.a, this.b) }; n.rgb = b; pr = b.prototype = new hi; pr.brighter = function (n) { n = Math.pow(.7, arguments.length ? n : 1); var i = this.r, r = this.g, u = this.b, t = 30; return !i && !r && !u ? new b(t, t, t) : (i && i < t && (i = t), r && r < t && (r = t), u && u < t && (u = t), new b(Math.min(255, i / n), Math.min(255, r / n), Math.min(255, u / n))) }; pr.darker = function (n) { return n = Math.pow(.7, arguments.length ? n : 1), new b(n * this.r, n * this.g, n * this.b) }; pr.hsl = function () { return vv(this.r, this.g, this.b) }; pr.toString = function () { return "#" + nr(this.r) + nr(this.g) + nr(this.b) }; wr = n.map({ aliceblue: 15792383, antiquewhite: 16444375, aqua: 65535, aquamarine: 8388564, azure: 15794175, beige: 16119260, bisque: 16770244, black: 0, blanchedalmond: 16772045, blue: 255, blueviolet: 9055202, brown: 10824234, burlywood: 14596231, cadetblue: 6266528, chartreuse: 8388352, chocolate: 13789470, coral: 16744272, cornflowerblue: 6591981, cornsilk: 16775388, crimson: 14423100, cyan: 65535, darkblue: 139, darkcyan: 35723, darkgoldenrod: 12092939, darkgray: 11119017, darkgreen: 25600, darkgrey: 11119017, darkkhaki: 12433259, darkmagenta: 9109643, darkolivegreen: 5597999, darkorange: 16747520, darkorchid: 10040012, darkred: 9109504, darksalmon: 15308410, darkseagreen: 9419919, darkslateblue: 4734347, darkslategray: 3100495, darkslategrey: 3100495, darkturquoise: 52945, darkviolet: 9699539, deeppink: 16716947, deepskyblue: 49151, dimgray: 6908265, dimgrey: 6908265, dodgerblue: 2003199, firebrick: 11674146, floralwhite: 16775920, forestgreen: 2263842, fuchsia: 16711935, gainsboro: 14474460, ghostwhite: 16316671, gold: 16766720, goldenrod: 14329120, gray: 8421504, green: 32768, greenyellow: 11403055, grey: 8421504, honeydew: 15794160, hotpink: 16738740, indianred: 13458524, indigo: 4915330, ivory: 16777200, khaki: 15787660, lavender: 15132410, lavenderblush: 16773365, lawngreen: 8190976, lemonchiffon: 16775885, lightblue: 11393254, lightcoral: 15761536, lightcyan: 14745599, lightgoldenrodyellow: 16448210, lightgray: 13882323, lightgreen: 9498256, lightgrey: 13882323, lightpink: 16758465, lightsalmon: 16752762, lightseagreen: 2142890, lightskyblue: 8900346, lightslategray: 7833753, lightslategrey: 7833753, lightsteelblue: 11584734, lightyellow: 16777184, lime: 65280, limegreen: 3329330, linen: 16445670, magenta: 16711935, maroon: 8388608, mediumaquamarine: 6737322, mediumblue: 205, mediumorchid: 12211667, mediumpurple: 9662683, mediumseagreen: 3978097, mediumslateblue: 8087790, mediumspringgreen: 64154, mediumturquoise: 4772300, mediumvioletred: 13047173, midnightblue: 1644912, mintcream: 16121850, mistyrose: 16770273, moccasin: 16770229, navajowhite: 16768685, navy: 128, oldlace: 16643558, olive: 8421376, olivedrab: 7048739, orange: 16753920, orangered: 16729344, orchid: 14315734, palegoldenrod: 15657130, palegreen: 10025880, paleturquoise: 11529966, palevioletred: 14381203, papayawhip: 16773077, peachpuff: 16767673, peru: 13468991, pink: 16761035, plum: 14524637, powderblue: 11591910, purple: 8388736, rebeccapurple: 6697881, red: 16711680, rosybrown: 12357519, royalblue: 4286945, saddlebrown: 9127187, salmon: 16416882, sandybrown: 16032864, seagreen: 3050327, seashell: 16774638, sienna: 10506797, silver: 12632256, skyblue: 8900331, slateblue: 6970061, slategray: 7372944, slategrey: 7372944, snow: 16775930, springgreen: 65407, steelblue: 4620980, tan: 13808780, teal: 32896, thistle: 14204888, tomato: 16737095, turquoise: 4251856, violet: 15631086, wheat: 16113331, white: 16777215, whitesmoke: 16119285, yellow: 16776960, yellowgreen: 10145074 }); wr.forEach(function (n, t) { wr.set(n, lv(t)) }); n.functor = o; n.xhr = ys(v); n.dsv = function (n, t) { function i(n, i, r) { arguments.length < 3 && (r = i, i = null); var e = af(n, t, i == null ? u : f(i), r); return e.row = function (n) { return arguments.length ? e.response((i = n) == null ? u : f(n)) : i }, e } function u(n) { return i.parse(n.responseText) } function f(n) { return function (t) { return i.parse(t.responseText, n) } } function s(t) { return t.map(r).join(n) } function r(n) { return e.test(n) ? '"' + n.replace(/\"/g, '""') + '"' : n } var e = new RegExp('["' + n + "\n]"), o = n.charCodeAt(0); return i.parse = function (n, t) { var r; return i.parseRows(n, function (n, i) { if (r) return r(n, i - 1); var u = new Function("d", "return {" + n.map(function (n, t) { return JSON.stringify(n) + ": d[" + t + "]" }).join(",") + "}"); r = t ? function (n, i) { return t(u(n), i) } : u }) }, i.parseRows = function (n, t) { function l() { var f, t, u, c; if (i >= s) return e; if (r) return r = !1, h; if (f = i, n.charCodeAt(f) === 34) { for (t = f; t++ < s;)if (n.charCodeAt(t) === 34) { if (n.charCodeAt(t + 1) !== 34) break; ++t } return i = t + 2, u = n.charCodeAt(t + 1), u === 13 ? (r = !0, n.charCodeAt(t + 2) === 10 && ++i) : u === 10 && (r = !0), n.slice(f + 1, t).replace(/""/g, '"') } while (i < s) { if (u = n.charCodeAt(i++), c = 1, u === 10) r = !0; else if (u === 13) r = !0, n.charCodeAt(i) === 10 && (++i, ++c); else if (u !== o) continue; return n.slice(f, i - c) } return n.slice(f) } for (var h = {}, e = {}, c = [], s = n.length, i = 0, a = 0, u, r, f; (u = l()) !== e;) { for (f = []; u !== h && u !== e;)f.push(u), u = l(); t && (f = t(f, a++)) == null || c.push(f) } return c }, i.format = function (t) { if (Array.isArray(t[0])) return i.formatRows(t); var f = new lo, u = []; return t.forEach(function (n) { for (var t in n) f.has(t) || u.push(f.add(t)) }), [u.map(r).join(n)].concat(t.map(function (t) { return u.map(function (n) { return r(t[n]) }).join(n) })).join("\n") }, i.formatRows = function (n) { return n.map(s).join("\n") }, i }; n.csv = n.dsv(",", "text/csv"); n.tsv = n.dsv("\t", "text/tab-separated-values"); ps = this[ao(this, "requestAnimationFrame")] || function (n) { setTimeout(n, 17) }; n.timer = function () { bf.apply(this, arguments) }; n.timer.flush = function () { pv(); wv() }; n.round = function (n, t) { return t ? Math.round(n * (t = Math.pow(10, t))) / t : Math.round(n) }; bv = ["y", "z", "a", "f", "p", "n", "µ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"].map(od); n.formatPrefix = function (t, i) { var r = 0; return (t = +t) && (t < 0 && (t *= -1), i && (t = n.round(t, bs(t, i))), r = 1 + Math.floor(1e-12 + Math.log(t) / Math.LN10), r = Math.max(-24, Math.min(24, Math.floor((r - 1) / 3) * 3))), bv[8 + r / 3] }; ks = /(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i; kv = n.map({ b: function (n) { return n.toString(2) }, c: function (n) { return String.fromCharCode(n) }, o: function (n) { return n.toString(8) }, x: function (n) { return n.toString(16) }, X: function (n) { return n.toString(16).toUpperCase() }, g: function (n, t) { return n.toPrecision(t) }, e: function (n, t) { return n.toExponential(t) }, f: function (n, t) { return n.toFixed(t) }, r: function (t, i) { return (t = n.round(t, bs(t, i))).toFixed(Math.max(0, Math.min(20, bs(t * (1 + 1e-15), i)))) } }); i = n.time = {}; y = Date; yt.prototype = { getDate: function () { return this._.getUTCDate() }, getDay: function () { return this._.getUTCDay() }, getFullYear: function () { return this._.getUTCFullYear() }, getHours: function () { return this._.getUTCHours() }, getMilliseconds: function () { return this._.getUTCMilliseconds() }, getMinutes: function () { return this._.getUTCMinutes() }, getMonth: function () { return this._.getUTCMonth() }, getSeconds: function () { return this._.getUTCSeconds() }, getTime: function () { return this._.getTime() }, getTimezoneOffset: function () { return 0 }, valueOf: function () { return this._.valueOf() }, setDate: function () { st.setUTCDate.apply(this._, arguments) }, setDay: function () { st.setUTCDay.apply(this._, arguments) }, setFullYear: function () { st.setUTCFullYear.apply(this._, arguments) }, setHours: function () { st.setUTCHours.apply(this._, arguments) }, setMilliseconds: function () { st.setUTCMilliseconds.apply(this._, arguments) }, setMinutes: function () { st.setUTCMinutes.apply(this._, arguments) }, setMonth: function () { st.setUTCMonth.apply(this._, arguments) }, setSeconds: function () { st.setUTCSeconds.apply(this._, arguments) }, setTime: function () { st.setTime.apply(this._, arguments) } }; st = Date.prototype; i.year = ci(function (n) { return n = i.day(n), n.setMonth(0, 1), n }, function (n, t) { n.setFullYear(n.getFullYear() + t) }, function (n) { return n.getFullYear() }); i.years = i.year.range; i.years.utc = i.year.utc.range; i.day = ci(function (n) { var t = new y(2e3, 0); return t.setFullYear(n.getFullYear(), n.getMonth(), n.getDate()), t }, function (n, t) { n.setDate(n.getDate() + t) }, function (n) { return n.getDate() - 1 }); i.days = i.day.range; i.days.utc = i.day.utc.range; i.dayOfYear = function (n) { var t = i.year(n); return Math.floor((n - t - (n.getTimezoneOffset() - t.getTimezoneOffset()) * 6e4) / 864e5) };["sunday", "monday", "tuesday", "wednesday", "thursday", "friday", "saturday"].forEach(function (n, t) { t = 7 - t; var r = i[n] = ci(function (n) { return (n = i.day(n)).setDate(n.getDate() - (n.getDay() + t) % 7), n }, function (n, t) { n.setDate(n.getDate() + Math.floor(t) * 7) }, function (n) { var r = i.year(n).getDay(); return Math.floor((i.dayOfYear(n) + (r + t) % 7) / 7) - (r !== t) }); i[n + "s"] = r.range; i[n + "s"].utc = r.utc.range; i[n + "OfYear"] = function (n) { var r = i.year(n).getDay(); return Math.floor((i.dayOfYear(n) + (r + t) % 7) / 7) } }); i.week = i.sunday; i.weeks = i.sunday.range; i.weeks.utc = i.sunday.utc.range; i.weekOfYear = i.sundayOfYear; var dv = { "-": "", _: " ", "0": "0" }, c = /^\s*\d+/, gv = /^%/; n.locale = function (n) { return { numberFormat: sd(n), timeFormat: cd(n) } }; ds = n.locale({ decimal: ".", thousands: ",", grouping: [3], currency: ["$", ""], dateTime: "%a %b %e %X %Y", date: "%m/%d/%Y", time: "%H:%M:%S", periods: ["AM", "PM"], days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"] }); n.format = ds.numberFormat; n.geo = {}; gs.prototype = { s: 0, t: 0, add: function (n) { iy(n, this.t, br); iy(br.s, this.s, this); this.s ? this.t += br.t : this.s = br.t }, reset: function () { this.s = this.t = 0 }, valueOf: function () { return this.s } }; br = new gs; n.geo.stream = function (n, t) { n && nh.hasOwnProperty(n.type) ? nh[n.type](n, t) : ne(n, t) }; nh = { Feature: function (n, t) { ne(n.geometry, t) }, FeatureCollection: function (n, t) { for (var i = n.features, r = -1, u = i.length; ++r < u;)ne(i[r].geometry, t) } }; th = { Sphere: function (n, t) { t.sphere() }, Point: function (n, t) { n = n.coordinates; t.point(n[0], n[1], n[2]) }, MultiPoint: function (n, t) { for (var i = n.coordinates, r = -1, u = i.length; ++r < u;)n = i[r], t.point(n[0], n[1], n[2]) }, LineString: function (n, t) { ih(n.coordinates, t, 0) }, MultiLineString: function (n, t) { for (var i = n.coordinates, r = -1, u = i.length; ++r < u;)ih(i[r], t, 0) }, Polygon: function (n, t) { ry(n.coordinates, t) }, MultiPolygon: function (n, t) { for (var i = n.coordinates, r = -1, u = i.length; ++r < u;)ry(i[r], t) }, GeometryCollection: function (n, t) { for (var i = n.geometries, r = -1, u = i.length; ++r < u;)ne(i[r], t) } }; n.geo.area = function (t) { return te = 0, n.geo.stream(t, k), te }; ti = new gs; k = { sphere: function () { te += 4 * f }, point: l, lineStart: l, lineEnd: l, polygonStart: function () { ti.reset(); k.lineStart = fg }, polygonEnd: function () { var n = 2 * ti; te += n < 0 ? 4 * f + n : n; k.lineStart = k.lineEnd = k.point = l } }; n.geo.bounds = function () { function w(n, t) { v.push(l = [i = n, f = n]); t < o && (o = t); t > h && (h = t) } function g(n, t) { var d = li([n * u, t * u]), c; if (y) { var b = tr(y, d), nt = [b[1], -b[0], 0], l = tr(nt, b); ue(l); l = fe(l); var g = n - a, p = g > 0 ? 1 : -1, v = l[0] * s * p, k = r(g) > 180; k ^ (p * a < v && v < p * n) ? (c = l[1] * s, c > h && (h = c)) : (v = (v + 360) % 360 - 180, k ^ (p * a < v && v < p * n)) ? (c = -l[1] * s, c < o && (o = c)) : (t < o && (o = t), t > h && (h = t)); k ? n < a ? e(i, n) > e(i, f) && (f = n) : e(n, f) > e(i, f) && (i = n) : f >= i ? (n < i && (i = n), n > f && (f = n)) : n > a ? e(i, n) > e(i, f) && (f = n) : e(n, f) > e(i, f) && (i = n) } else w(n, t); y = d; a = n } function nt() { c.point = g } function tt() { l[0] = i; l[1] = f; c.point = w; y = null } function it(n, t) { if (y) { var i = n - a; p += r(i) > 180 ? i + (i > 0 ? 360 : -360) : i } else b = n, d = t; k.point(n, t); g(n, t) } function ut() { k.lineStart() } function ft() { it(b, d); k.lineEnd(); r(p) > t && (i = -(f = 180)); l[0] = i; l[1] = f; y = null } function e(n, t) { return (t -= n) < 0 ? t + 360 : t } function et(n, t) { return n[0] - t[0] } function rt(n, t) { return t[0] <= t[1] ? t[0] <= n && n <= t[1] : n < t[0] || t[1] < n } var i, o, f, h, a, b, d, y, p, v, l, c = { point: w, lineStart: nt, lineEnd: tt, polygonStart: function () { c.point = it; c.lineStart = ut; c.lineEnd = ft; p = 0; k.polygonStart() }, polygonEnd: function () { k.polygonEnd(); c.point = w; c.lineStart = nt; c.lineEnd = tt; ti < 0 ? (i = -(f = 180), o = -(h = 90)) : p > t ? h = 90 : p < -t && (o = -90); l[0] = i; l[1] = f } }; return function (t) { var a, p, w; if (h = f = -(i = o = Infinity), v = [], n.geo.stream(t, c), a = v.length, a) { v.sort(et); for (var s = 1, r = v[0], u, y = [r]; s < a; ++s)u = v[s], rt(u[0], r) || rt(u[1], r) ? (e(r[0], u[1]) > e(r[0], r[1]) && (r[1] = u[1]), e(u[0], r[1]) > e(r[0], r[1]) && (r[0] = u[0])) : y.push(r = u); p = -Infinity; for (var a = y.length - 1, s = 0, r = y[a], u; s <= a; r = u, ++s)u = y[s], (w = e(r[1], u[0])) > p && (p = w, i = u[0], f = r[1]) } return v = l = null, i === Infinity || o === Infinity ? [[NaN, NaN], [NaN, NaN]] : [[i, o], [f, h]] } }(); n.geo.centroid = function (i) { kr = oe = ai = vi = pt = ii = ri = ht = ir = rr = ui = 0; n.geo.stream(i, g); var r = ir, u = rr, f = ui, e = r * r + u * u + f * f; return e < ef && (r = ii, u = ri, f = ht, oe < t && (r = ai, u = vi, f = pt), e = r * r + u * u + f * f, e < ef) ? [NaN, NaN] : [Math.atan2(u, r) * s, ni(f / Math.sqrt(e)) * s] }; g = { sphere: l, point: uh, lineStart: uy, lineEnd: fy, polygonStart: function () { g.lineStart = eg }, polygonEnd: function () { g.lineStart = uy } }; fh = hy(gr, hg, lg, [-f, -f / 2]); nu = 1e9; n.geo.clipExtent = function () { var t, i, r, u, n, f, e = { stream: function (t) { return n && (n.valid = !1), n = f(t), n.valid = !0, n }, extent: function (o) { return arguments.length ? (f = ay(t = +o[0][0], i = +o[0][1], r = +o[1][0], u = +o[1][1]), n && (n.valid = !1, n = null), e) : [[t, i], [r, u]] } }; return e.extent([[0, 0], [960, 500]]) }; (n.geo.conicEqualArea = function () { return eh(vy) }).raw = vy; n.geo.albers = function () { return n.geo.conicEqualArea().rotate([96, 0]).center([-.6, 38.7]).parallels([29.5, 45.5]).scale(1070) }; n.geo.albersUsa = function () { function r(n) { var t = n[0], i = n[1]; return e = null, (s(t, i), e) || (h(t, i), e) || c(t, i), e } var i = n.geo.albers(), u = n.geo.conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), f = n.geo.conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), e, o = { point: function (n, t) { e = [n, t] } }, s, h, c; return r.invert = function (n) { var e = i.scale(), o = i.translate(), t = (n[0] - o[0]) / e, r = (n[1] - o[1]) / e; return (r >= .12 && r < .234 && t >= -.425 && t < -.214 ? u : r >= .166 && r < .234 && t >= -.214 && t < -.115 ? f : i).invert(n) }, r.stream = function (n) { var t = i.stream(n), r = u.stream(n), e = f.stream(n); return { point: function (n, i) { t.point(n, i); r.point(n, i); e.point(n, i) }, sphere: function () { t.sphere(); r.sphere(); e.sphere() }, lineStart: function () { t.lineStart(); r.lineStart(); e.lineStart() }, lineEnd: function () { t.lineEnd(); r.lineEnd(); e.lineEnd() }, polygonStart: function () { t.polygonStart(); r.polygonStart(); e.polygonStart() }, polygonEnd: function () { t.polygonEnd(); r.polygonEnd(); e.polygonEnd() } } }, r.precision = function (n) { return arguments.length ? (i.precision(n), u.precision(n), f.precision(n), r) : i.precision() }, r.scale = function (n) { return arguments.length ? (i.scale(n), u.scale(n * .35), f.scale(n), r.translate(i.translate())) : i.scale() }, r.translate = function (n) { if (!arguments.length) return i.translate(); var e = i.scale(), l = +n[0], a = +n[1]; return s = i.translate(n).clipExtent([[l - .455 * e, a - .238 * e], [l + .455 * e, a + .238 * e]]).stream(o).point, h = u.translate([l - .307 * e, a + .201 * e]).clipExtent([[l - .425 * e + t, a + .12 * e + t], [l - .214 * e - t, a + .234 * e - t]]).stream(o).point, c = f.translate([l - .205 * e, a + .212 * e]).clipExtent([[l - .214 * e + t, a + .166 * e + t], [l - .115 * e - t, a + .234 * e - t]]).stream(o).point, r }, r.scale(1070) }; wt = { point: l, lineStart: l, lineEnd: l, polygonStart: function () { sh = 0; wt.lineStart = yg }, polygonEnd: function () { wt.lineStart = wt.lineEnd = wt.point = l; oh += r(sh / 2) } }; yy = { point: pg, lineStart: l, lineEnd: l, polygonStart: l, polygonEnd: l }; nt = { point: yi, lineStart: wy, lineEnd: by, polygonStart: function () { nt.lineStart = bg }, polygonEnd: function () { nt.point = yi; nt.lineStart = wy; nt.lineEnd = by } }; n.geo.path = function () { function t(t) { return t && (typeof i == "function" && r.pointRadius(+i.apply(this, arguments)), f && f.valid || (f = u(r)), n.geo.stream(t, f)), r.result() } function s() { return f = null, t } var i = 4.5, e, o, u, r, f; return t.area = function (t) { return oh = 0, n.geo.stream(t, u(wt)), oh }, t.centroid = function (t) { return ai = vi = pt = ii = ri = ht = ir = rr = ui = 0, n.geo.stream(t, u(nt)), ui ? [ir / ui, rr / ui] : ht ? [ii / ht, ri / ht] : pt ? [ai / pt, vi / pt] : [NaN, NaN] }, t.bounds = function (t) { return le = ae = -(he = ce = Infinity), n.geo.stream(t, u(yy)), [[he, ce], [le, ae]] }, t.projection = function (n) { return arguments.length ? (u = (e = n) ? n.stream || dg(n) : v, s()) : e }, t.context = function (n) { return arguments.length ? (r = (o = n) == null ? new wg : new kg(n), typeof i != "function" && r.pointRadius(i), s()) : o }, t.pointRadius = function (n) { return arguments.length ? (i = typeof n == "function" ? n : (r.pointRadius(+n), +n), t) : i }, t.projection(n.geo.albersUsa()).context(null) }; n.geo.transform = function (n) { return { stream: function (t) { var r = new dy(t), i; for (i in n) r[i] = n[i]; return r } } }; dy.prototype = { point: function (n, t) { this.stream.point(n, t) }, sphere: function () { this.stream.sphere() }, lineStart: function () { this.stream.lineStart() }, lineEnd: function () { this.stream.lineEnd() }, polygonStart: function () { this.stream.polygonStart() }, polygonEnd: function () { this.stream.polygonEnd() } }; n.geo.projection = fi; n.geo.projectionMutator = hh; (n.geo.equirectangular = function () { return fi(tu) }).raw = tu.invert = tu; n.geo.rotation = function (n) { function t(t) { return t = n(t[0] * u, t[1] * u), t[0] *= s, t[1] *= s, t } return n = ch(n[0] % 360 * u, n[1] * u, n.length > 2 ? n[2] * u : 0), t.invert = function (t) { return t = n.invert(t[0] * u, t[1] * u), t[0] *= s, t[1] *= s, t }, t }; tp.invert = tu; n.geo.circle = function () { function n() { var n = typeof t == "function" ? t.apply(this, arguments) : t, r = ch(-n[0] * u, -n[1] * u, 0).invert, i = []; return f(null, null, 1, { point: function (n, t) { i.push(n = r(n, t)); n[0] *= s; n[1] *= s } }), { type: "Polygon", coordinates: [i] } } var t = [0, 0], i, r = 6, f; return n.origin = function (i) { return arguments.length ? (t = i, n) : t }, n.angle = function (t) { return arguments.length ? (f = lh((i = +t) * u, r * u), n) : i }, n.precision = function (t) { return arguments.length ? (f = lh(i * u, (r = +t) * u), n) : r }, n.angle(90) }; n.geo.distance = function (n, t) { var f = (t[0] - n[0]) * u, e = n[1] * u, o = t[1] * u, a = Math.sin(f), s = Math.cos(f), h = Math.sin(e), c = Math.cos(e), l = Math.sin(o), r = Math.cos(o), i; return Math.atan2(Math.sqrt((i = r * a) * i + (i = c * l - h * r * s) * i), h * l + c * r * s) }; n.geo.graticule = function () { function i() { return { type: "MultiLineString", coordinates: nt() } } function nt() { return n.range(Math.ceil(f / v) * v, u, v).map(b).concat(n.range(Math.ceil(o / y) * y, e, y).map(k)).concat(n.range(Math.ceil(h / a) * a, s, a).filter(function (n) { return r(n % v) > t }).map(d)).concat(n.range(Math.ceil(l / w) * w, c, w).filter(function (n) { return r(n % y) > t }).map(g)) } var s, h, u, f, c, l, e, o, a = 10, w = a, v = 90, y = 360, d, g, b, k, p = 2.5; return i.lines = function () { return nt().map(function (n) { return { type: "LineString", coordinates: n } }) }, i.outline = function () { return { type: "Polygon", coordinates: [b(f).concat(k(e).slice(1), b(u).reverse().slice(1), k(o).reverse().slice(1))] } }, i.extent = function (n) { return arguments.length ? i.majorExtent(n).minorExtent(n) : i.minorExtent() }, i.majorExtent = function (n) { return arguments.length ? (f = +n[0][0], u = +n[1][0], o = +n[0][1], e = +n[1][1], f > u && (n = f, f = u, u = n), o > e && (n = o, o = e, e = n), i.precision(p)) : [[f, o], [u, e]] }, i.minorExtent = function (n) { return arguments.length ? (h = +n[0][0], s = +n[1][0], l = +n[0][1], c = +n[1][1], h > s && (n = h, h = s, s = n), l > c && (n = l, l = c, c = n), i.precision(p)) : [[h, l], [s, c]] }, i.step = function (n) { return arguments.length ? i.majorStep(n).minorStep(n) : i.minorStep() }, i.majorStep = function (n) { return arguments.length ? (v = +n[0], y = +n[1], i) : [v, y] }, i.minorStep = function (n) { return arguments.length ? (a = +n[0], w = +n[1], i) : [a, w] }, i.precision = function (n) { return arguments.length ? (p = +n, d = ep(l, c, 90), g = op(h, s, p), b = ep(o, e, 90), k = op(f, u, p), i) : p }, i.majorExtent([[-180, -90 + t], [180, 90 - t]]).minorExtent([[-180, -80 - t], [180, 80 + t]]) }; n.geo.greatArc = function () { function t() { return { type: "LineString", coordinates: [u || i.apply(this, arguments), f || r.apply(this, arguments)] } } var i = ah, u, r = vh, f; return t.distance = function () { return n.geo.distance(u || i.apply(this, arguments), f || r.apply(this, arguments)) }, t.source = function (n) { return arguments.length ? (i = n, u = typeof n == "function" ? null : n, t) : i }, t.target = function (n) { return arguments.length ? (r = n, f = typeof n == "function" ? null : n, t) : r }, t.precision = function () { return arguments.length ? t : 0 }, t }; n.geo.interpolate = function (n, t) { return gg(n[0] * u, n[1] * u, t[0] * u, t[1] * u) }; n.geo.length = function (t) { return yh = 0, n.geo.stream(t, pi), yh }; pi = { sphere: l, point: l, lineStart: nn, lineEnd: l, polygonStart: l, polygonEnd: l }; ph = iu(function (n) { return Math.sqrt(2 / (1 + n)) }, function (n) { return 2 * Math.asin(n / 2) }); (n.geo.azimuthalEqualArea = function () { return fi(ph) }).raw = ph; wh = iu(function (n) { var t = Math.acos(n); return t && t / Math.sin(t) }, v); (n.geo.azimuthalEquidistant = function () { return fi(wh) }).raw = wh; (n.geo.conicConformal = function () { return eh(sp) }).raw = sp; (n.geo.conicEquidistant = function () { return eh(hp) }).raw = hp; bh = iu(function (n) { return 1 / n }, Math.atan); (n.geo.gnomonic = function () { return fi(bh) }).raw = bh; ve.invert = function (n, t) { return [n, 2 * Math.atan(Math.exp(t)) - h] }; (n.geo.mercator = function () { return cp(ve) }).raw = ve; kh = iu(function () { return 1 }, Math.asin); (n.geo.orthographic = function () { return fi(kh) }).raw = kh; dh = iu(function (n) { return 1 / (1 + n) }, function (n) { return 2 * Math.atan(n) }); (n.geo.stereographic = function () { return fi(dh) }).raw = dh; gh.invert = function (n, t) { return [-t, 2 * Math.atan(Math.exp(n)) - h] }; (n.geo.transverseMercator = function () { var n = cp(gh), i = n.center, t = n.rotate; return n.center = function (n) { return n ? i([-n[1], n[0]]) : (n = i(), [n[1], -n[0]]) }, n.rotate = function (n) { return n ? t([n[0], n[1], n.length > 2 ? n[2] + 90 : 90]) : (n = t(), [n[0], n[1], n[2] - 90]) }, t([0, 0, 90]) }).raw = gh; n.geom = {}; n.geom.hull = function (n) { function t(n) { if (n.length < 3) return []; for (var l = o(i), a = o(r), h = n.length, u = [], c = [], t = 0; t < h; t++)u.push([+l.call(this, n[t], t), +a.call(this, n[t], t), t]); for (u.sort(tn), t = 0; t < h; t++)c.push([u[t][0], -u[t][1]]); var f = lp(u), e = lp(c), v = e[0] === f[0], y = e[e.length - 1] === f[f.length - 1], s = []; for (t = f.length - 1; t >= 0; --t)s.push(n[u[f[t]][2]]); for (t = +v; t < e.length - y; ++t)s.push(n[u[e[t]][2]]); return s } var i = ur, r = ru; return arguments.length ? t(n) : (t.x = function (n) { return arguments.length ? (i = n, t) : i }, t.y = function (n) { return arguments.length ? (r = n, t) : r }, t) }; n.geom.polygon = function (n) { return vr(n, uu), n }; uu = n.geom.polygon.prototype = []; uu.area = function () { for (var i = -1, r = this.length, t, n = this[r - 1], u = 0; ++i < r;)t = n, n = this[i], u += t[1] * n[0] - t[0] * n[1]; return u * .5 }; uu.centroid = function (n) { var u = -1, f = this.length, e = 0, o = 0, i, t = this[f - 1], r; for (arguments.length || (n = -1 / (6 * this.area())); ++u < f;)i = t, t = this[u], r = i[0] * t[1] - t[0] * i[1], e += (i[0] + t[0]) * r, o += (i[1] + t[1]) * r; return [e * n, o * n] }; uu.clip = function (n) { for (var f, o = ap(n), s = -1, h = this.length - ap(this), e, c, i = this[h - 1], t, r, u; ++s < h;) { for (f = n.slice(), n.length = 0, t = this[s], r = f[(c = f.length - o) - 1], e = -1; ++e < c;)u = f[e], nc(u, i, t) ? (nc(r, i, t) || n.push(tc(r, u, i, t)), n.push(u)) : nc(r, i, t) && n.push(tc(r, u, i, t)), r = u; o && n.push(n[0]); i = t } return n }; ic = []; uc = []; pp.prototype.prepare = function () { for (var n = this.edges, t = n.length, i; t--;)i = n[t].edge, i.b && i.a || n.splice(t, 1); return n.sort(wp), n.length }; pe.prototype = { start: function () { return this.edge.l === this.site ? this.edge.a : this.edge.b }, end: function () { return this.edge.l === this.site ? this.edge.b : this.edge.a } }; ec.prototype = { insert: function (n, t) { var i, r, u; if (n) { if (t.P = n, t.N = n.N, n.N && (n.N.P = t), n.N = t, n.R) { for (n = n.R; n.L;)n = n.L; n.L = t } else n.R = t; i = n } else this._ ? (n = kp(this._), t.P = null, t.N = n, n.P = n.L = t, i = n) : (t.P = t.N = null, this._ = t, i = null); for (t.L = t.R = null, t.U = i, t.C = !0, n = t; i && i.C;)r = i.U, i === r.L ? (u = r.R, u && u.C ? (i.C = u.C = !1, r.C = !0, n = r) : (n === i.R && (ou(this, i), n = i, i = n.U), i.C = !1, r.C = !0, su(this, r))) : (u = r.L, u && u.C ? (i.C = u.C = !1, r.C = !0, n = r) : (n === i.L && (su(this, i), n = i, i = n.U), i.C = !1, r.C = !0, ou(this, r))), i = n.U; this._.C = !1 }, remove: function (n) { n.N && (n.N.P = n.P); n.P && (n.P.N = n.N); n.N = n.P = null; var i = n.U, t, f = n.L, u = n.R, r, e; if (r = f ? u ? kp(u) : f : u, i ? i.L === n ? i.L = r : i.R = r : this._ = r, f && u ? (e = r.C, r.C = n.C, r.L = f, f.U = r, r !== u ? (i = r.U, r.U = n.U, n = r.R, i.L = n, r.R = u, u.U = r) : (r.U = i, i = r, n = r.R)) : (e = n.C, n = r), n && (n.U = i), !e) { if (n && n.C) { n.C = !1; return } do { if (n === this._) break; if (n === i.L) { if (t = i.R, t.C && (t.C = !1, i.C = !0, ou(this, i), t = i.R), t.L && t.L.C || t.R && t.R.C) { t.R && t.R.C || (t.L.C = !1, t.C = !0, su(this, t), t = i.R); t.C = i.C; i.C = t.R.C = !1; ou(this, i); n = this._; break } } else if (t = i.L, t.C && (t.C = !1, i.C = !0, su(this, i), t = i.L), t.L && t.L.C || t.R && t.R.C) { t.L && t.L.C || (t.R.C = !1, t.C = !0, ou(this, t), t = i.L); t.C = i.C; i.C = t.L.C = !1; su(this, i); n = this._; break } t.C = !0; n = i; i = i.U } while (!n.C); n && (n.C = !1) } } }; n.geom.voronoi = function (n) { function i(n) { var o = new Array(n.length), t = r[0][0], i = r[0][1], u = r[1][0], f = r[1][1]; return oc(e(n), r).cells.forEach(function (r, e) { var h = r.edges, s = r.site, c = o[e] = h.length ? h.map(function (n) { var t = n.start(); return [t.x, t.y] }) : s.x >= t && s.x <= u && s.y >= i && s.y <= f ? [[t, f], [u, f], [u, i], [t, i]] : []; c.point = n[e] }), o } function e(n) { return n.map(function (n, i) { return { x: Math.round(s(n, i) / t) * t, y: Math.round(h(n, i) / t) * t, i: i } }) } var u = ur, f = ru, s = u, h = f, r = hu; return n ? i(n) : (i.links = function (n) { return oc(e(n)).edges.filter(function (n) { return n.l && n.r }).map(function (t) { return { source: n[t.l.i], target: n[t.r.i] } }) }, i.triangles = function (n) { var t = []; return oc(e(n)).cells.forEach(function (i, r) { for (var o = i.site, s = i.edges.sort(wp), h = -1, c = s.length, l, e, u = s[c - 1].edge, f = u.l === o ? u.r : u.l; ++h < c;)l = u, e = f, u = s[h].edge, f = u.l === o ? u.r : u.l, r < e.i && r < f.i && vn(o, e, f) < 0 && t.push([n[r], n[e.i], n[f.i]]) }), t }, i.x = function (n) { return arguments.length ? (s = o(u = n), i) : u }, i.y = function (n) { return arguments.length ? (h = o(f = n), i) : f }, i.clipExtent = function (n) { return arguments.length ? (r = n == null ? hu : n, i) : r === hu ? null : r }, i.size = function (n) { return arguments.length ? i.clipExtent(n && [[0, 0], n]) : r === hu ? null : r && r[1] }, i) }; hu = [[-1e6, -1e6], [1e6, 1e6]]; n.geom.delaunay = function (t) { return n.geom.voronoi().triangles(t) }; n.geom.quadtree = function (n, t, i, u, f) { function e(n) { function ut(n, t, i, u, f, e, o, s) { var h, c, l; isNaN(i) || isNaN(u) || (n.leaf ? (h = n.x, c = n.y, h != null ? r(h - i) + r(c - u) < .01 ? tt(n, t, i, u, f, e, o, s) : (l = n.point, n.x = n.y = n.point = null, tt(n, l, h, c, f, e, o, s), tt(n, t, i, u, f, e, o, s)) : (n.x = i, n.y = u, n.point = t)) : tt(n, t, i, u, f, e, o, s)) } function tt(n, t, i, r, u, f, e, o) { var s = (u + e) * .5, h = (f + o) * .5, c = i >= s, l = r >= h, a = l << 1 | c; n.leaf = !1; n = n.nodes[a] || (n.nodes[a] = dp()); c ? u = s : e = s; l ? f = h : o = h; ut(n, t, i, r, u, f, e, o) } var l, ft = o(s), et = o(h), d, g, e, nt, a, v, y, p, b, k, it, rt, w; if (t != null) a = t, v = i, y = u, p = f; else if (y = p = -(a = v = Infinity), d = [], g = [], nt = n.length, c) for (e = 0; e < nt; ++e)l = n[e], l.x < a && (a = l.x), l.y < v && (v = l.y), l.x > y && (y = l.x), l.y > p && (p = l.y), d.push(l.x), g.push(l.y); else for (e = 0; e < nt; ++e)b = +ft(l = n[e], e), k = +et(l, e), b < a && (a = b), k < v && (v = k), b > y && (y = b), k > p && (p = k), d.push(b), g.push(k); if (it = y - a, rt = p - v, it > rt ? p = v + it : y = a + rt, w = dp(), w.add = function (n) { ut(w, n, +ft(n, ++e), +et(n, e), a, v, y, p) }, w.visit = function (n) { cu(n, w, a, v, y, p) }, w.find = function (n) { return wn(w, n[0], n[1], a, v, y, p) }, e = -1, t == null) { while (++e < nt) ut(w, n[e], d[e], g[e], a, v, y, p); --e } else n.forEach(w.add); return d = g = n = l = null, w } var s = ur, h = ru, c; return (c = arguments.length) ? (s = yn, h = pn, c === 3 && (f = i, u = t, i = t = 0), e(n)) : (e.x = function (n) { return arguments.length ? (s = n, e) : s }, e.y = function (n) { return arguments.length ? (h = n, e) : h }, e.extent = function (n) { return arguments.length ? (n == null ? t = i = u = f = null : (t = +n[0][0], i = +n[0][1], u = +n[1][0], f = +n[1][1]), e) : t == null ? null : [[t, i], [u, f]] }, e.size = function (n) { return arguments.length ? (n == null ? t = i = u = f = null : (t = i = 0, u = +n[0], f = +n[1]), e) : t == null ? null : [u - t, f - i] }, e) }; n.interpolateRgb = sc; n.interpolateObject = gp; n.interpolateNumber = bt; n.interpolateString = nw; be = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g; ke = new RegExp(be.source, "g"); n.interpolate = bi; n.interpolators = [function (n, t) { var i = typeof t; return (i === "string" ? wr.has(t.toLowerCase()) || /^(#|rgb\(|hsl\()/i.test(t) ? sc : nw : t instanceof hi ? sc : Array.isArray(t) ? de : i === "object" && isNaN(t) ? gp : bt)(n, t) }]; n.interpolateArray = de; var tw = function () { return v }, bn = n.map({ linear: tw, poly: itt, quad: function () { return gn }, cubic: function () { return ntt }, sin: function () { return rtt }, exp: function () { return utt }, circle: function () { return ftt }, elastic: ett, back: ott, bounce: function () { return stt } }), kn = n.map({ "in": v, out: iw, "in-out": rw, "out-in": function (n) { return rw(iw(n)) } }); n.ease = function (n) { var t = n.indexOf("-"), i = t >= 0 ? n.slice(0, t) : n, r = t >= 0 ? n.slice(t + 1) : "in"; return i = bn.get(i) || tw, r = kn.get(r) || v, dn(r(i.apply(null, wl.call(arguments, 1)))) }; n.interpolateHcl = htt; n.interpolateHsl = ctt; n.interpolateLab = ltt; n.interpolateRound = uw; n.transform = function (t) { var i = p.createElementNS(n.ns.prefix.svg, "g"); return (n.transform = function (n) { if (n != null) { i.setAttribute("transform", n); var t = i.transform.baseVal.consolidate() } return new fw(t ? t.matrix : sw) })(t) }; fw.prototype.toString = function () { return "translate(" + this.translate + ")rotate(" + this.rotate + ")skewX(" + this.skew + ")scale(" + this.scale + ")" }; sw = { a: 1, b: 0, c: 0, d: 1, e: 0, f: 0 }; n.interpolateTransform = hw; n.layout = {}; n.layout.bundle = function () { return function (n) { for (var t = [], i = -1, r = n.length; ++i < r;)t.push(dtt(n[i])); return t } }; n.layout.chord = function () { function c() { var k = {}, b = [], tt = n.range(r), g = [], y, c, it, t, a, p, w; for (i = [], u = [], y = 0, t = -1; ++t < r;) { for (c = 0, a = -1; ++a < r;)c += f[t][a]; b.push(c); g.push(n.range(r)); y += c } for (o && tt.sort(function (n, t) { return o(b[n], b[t]) }), s && g.forEach(function (n, t) { n.sort(function (n, i) { return s(f[t][n], f[t][i]) }) }), y = (d - e * r) / y, c = 0, t = -1; ++t < r;) { for (it = c, a = -1; ++a < r;) { var v = tt[t], nt = g[v][a], rt = f[v][nt], ut = c, ft = c += rt * y; k[v + "-" + nt] = { index: v, subindex: nt, startAngle: ut, endAngle: ft, value: rt } } u[v] = { index: v, startAngle: it, endAngle: c, value: b[v] }; c += e } for (t = -1; ++t < r;)for (a = t - 1; ++a < r;)p = k[t + "-" + a], w = k[a + "-" + t], (p.value || w.value) && i.push(p.value < w.value ? { source: w, target: p } : { source: p, target: w }); h && l() } function l() { i.sort(function (n, t) { return h((n.source.value + n.target.value) / 2, (t.source.value + t.target.value) / 2) }) } var t = {}, i, u, f, r, e = 0, o, s, h; return t.matrix = function (n) { return arguments.length ? (r = (f = n) && f.length, i = u = null, t) : f }, t.padding = function (n) { return arguments.length ? (e = n, i = u = null, t) : e }, t.sortGroups = function (n) { return arguments.length ? (o = n, i = u = null, t) : o }, t.sortSubgroups = function (n) { return arguments.length ? (s = n, i = null, t) : s }, t.sortChords = function (n) { return arguments.length ? (h = n, i && l(), t) : h }, t.chords = function () { return i || c(), i }, t.groups = function () { return u || c(), u }, t }; n.layout.force = function () { function g(n) { return function (t, i, r, u) { var f; if (t.point !== n) { var o = t.cx - n.x, s = t.cy - n.y, h = u - i, e = o * o + s * s; if (h * h / d < e) return e < y && (f = t.charge / e, n.px -= o * f, n.py -= s * f), !0; t.point && e && e < y && (f = t.pointCharge / e, n.px -= o * f, n.py -= s * f) } return !t.charge } } function nt(i) { i.px = n.event.x; i.py = n.event.y; t.resume() } var t = {}, o = n.dispatch("start", "tick", "end"), s, f = [1, 1], l, r, a = .9, h = uit, c = fit, e = -30, y = eit, k = .1, d = .64, i = [], u = [], p, w, b; return t.tick = function () { if ((r *= .99) < .005) return s = null, o.end({ type: "end", alpha: r = 0 }), !0; for (var tt = i.length, rt = u.length, it, t, l, d, nt, c, v, y, h = 0; h < rt; ++h)t = u[h], l = t.source, d = t.target, v = d.x - l.x, y = d.y - l.y, (nt = v * v + y * y) && (nt = r * w[h] * ((nt = Math.sqrt(nt)) - p[h]) / nt, v *= nt, y *= nt, d.x -= v * (c = l.weight + d.weight ? l.weight / (l.weight + d.weight) : .5), d.y -= y * c, l.x += v * (c = 1 - c), l.y += y * c); if ((c = r * k) && (v = f[0] / 2, y = f[1] / 2, h = -1, c)) while (++h < tt) t = i[h], t.x += (v - t.x) * c, t.y += (y - t.y) * c; if (e) for (lw(it = n.geom.quadtree(i), r, b), h = -1; ++h < tt;)(t = i[h]).fixed || it.visit(g(t)); for (h = -1; ++h < tt;)t = i[h], t.fixed ? (t.x = t.px, t.y = t.py) : (t.x -= (t.px - (t.px = t.x)) * a, t.y -= (t.py - (t.py = t.y)) * a); o.tick({ type: "tick", alpha: r }) }, t.nodes = function (n) { return arguments.length ? (i = n, t) : i }, t.links = function (n) { return arguments.length ? (u = n, t) : u }, t.size = function (n) { return arguments.length ? (f = n, t) : f }, t.linkDistance = function (n) { return arguments.length ? (h = typeof n == "function" ? n : +n, t) : h }, t.distance = t.linkDistance, t.linkStrength = function (n) { return arguments.length ? (c = typeof n == "function" ? n : +n, t) : c }, t.friction = function (n) { return arguments.length ? (a = +n, t) : a }, t.charge = function (n) { return arguments.length ? (e = typeof n == "function" ? n : +n, t) : e }, t.chargeDistance = function (n) { return arguments.length ? (y = n * n, t) : Math.sqrt(y) }, t.gravity = function (n) { return arguments.length ? (k = +n, t) : k }, t.theta = function (n) { return arguments.length ? (d = n * n, t) : Math.sqrt(d) }, t.alpha = function (n) { return arguments.length ? (n = +n, r ? n > 0 ? r = n : (s.c = null, s.t = NaN, s = null, o.end({ type: "end", alpha: r = 0 })) : n > 0 && (o.start({ type: "start", alpha: r = n }), s = bf(t.tick)), t) : r }, t.start = function () { function a(t, i) { var f; if (!l) { for (l = new Array(o), r = 0; r < o; ++r)l[r] = []; for (r = 0; r < s; ++r)f = u[r], l[f.source.index].push(f.target), l[f.target.index].push(f.source) } for (var e = l[n], r = -1, c = e.length, h; ++r < c;)if (!isNaN(h = e[r][t])) return h; return Math.random() * i } for (var o = i.length, s = u.length, v = f[0], y = f[1], l, r, n = 0; n < o; ++n)(r = i[n]).index = n, r.weight = 0; for (n = 0; n < s; ++n)r = u[n], typeof r.source == "number" && (r.source = i[r.source]), typeof r.target == "number" && (r.target = i[r.target]), ++r.source.weight, ++r.target.weight; for (n = 0; n < o; ++n)r = i[n], isNaN(r.x) && (r.x = a("x", v)), isNaN(r.y) && (r.y = a("y", y)), isNaN(r.px) && (r.px = r.x), isNaN(r.py) && (r.py = r.y); if (p = [], typeof h == "function") for (n = 0; n < s; ++n)p[n] = +h.call(this, u[n], n); else for (n = 0; n < s; ++n)p[n] = h; if (w = [], typeof c == "function") for (n = 0; n < s; ++n)w[n] = +c.call(this, u[n], n); else for (n = 0; n < s; ++n)w[n] = c; if (b = [], typeof e == "function") for (n = 0; n < o; ++n)b[n] = +e.call(this, i[n], n); else for (n = 0; n < o; ++n)b[n] = e; return t.resume() }, t.resume = function () { return t.alpha(.1) }, t.stop = function () { return t.alpha(0) }, t.drag = function () { if (l || (l = n.behavior.drag().origin(v).on("dragstart.force", nit).on("drag.force", nt).on("dragend.force", tit)), !arguments.length) return l; this.on("mouseover.force", iit).on("mouseout.force", rit).call(l) }, n.rebind(t, o, "on") }; var uit = 20, fit = 1, eit = Infinity; n.layout.hierarchy = function () { function n(u) { var h = [u], c = [], f, o, e, s; for (u.depth = 0; (f = h.pop()) != null;)if (c.push(f), (e = r.call(n, f, f.depth)) && (o = e.length)) { while (--o >= 0) h.push(s = e[o]), s.parent = f, s.depth = f.depth + 1; t && (f.value = 0); f.children = e } else t && (f.value = +t.call(n, f, f.depth) || 0), delete f.children; return ct(u, function (n) { var r, u; i && (r = n.children) && r.sort(i); t && (u = n.parent) && (u.value += n.value) }), c } var i = hit, r = oit, t = sit; return n.sort = function (t) { return arguments.length ? (i = t, n) : i }, n.children = function (t) { return arguments.length ? (r = t, n) : r }, n.value = function (i) { return arguments.length ? (t = i, n) : t }, n.revalue = function (i) { return t && (au(i, function (n) { n.children && (n.value = 0) }), ct(i, function (i) { var r; i.children || (i.value = +t.call(n, i, i.depth) || 0); (r = i.parent) && (r.value += i.value) })), i }, n }; n.layout.partition = function () { function u(n, t, i, r) { var f = n.children, e, o, s, h; if (n.x = t, n.y = n.depth * r, n.dx = i, n.dy = r, f && (o = f.length)) for (e = -1, i = n.value ? i / n.value : 0; ++e < o;)u(s = f[e], t, h = s.value * i, r), t += h } function f(n) { var t = n.children, i = 0, r, u; if (t && (u = t.length)) for (r = -1; ++r < u;)i = Math.max(i, f(t[r])); return 1 + i } function i(n, i) { var e = r.call(this, n, i); return u(e[0], 0, t[0], t[1] / f(e[0])), e } var r = n.layout.hierarchy(), t = [1, 1]; return i.size = function (n) { return arguments.length ? (t = n, i) : t }, lu(i, r) }; n.layout.pie = function () { function t(o) { var h = o.length, s = o.map(function (n, i) { return +e.call(t, n, i) }), c = +(typeof r == "function" ? r.apply(this, arguments) : r), l = (typeof u == "function" ? u.apply(this, arguments) : u) - c, a = Math.min(Math.abs(l) / h, +(typeof f == "function" ? f.apply(this, arguments) : f)), v = a * (l < 0 ? -1 : 1), y = n.sum(s), k = y ? (l - h * v) / y : 0, p = n.range(h), w = [], b; return i != null && p.sort(i === hc ? function (n, t) { return s[t] - s[n] } : function (n, t) { return i(o[n], o[t]) }), p.forEach(function (n) { w[n] = { data: o[n], value: b = s[n], startAngle: c, endAngle: c += b * k + v, padAngle: a } }), w } var e = Number, i = hc, r = 0, u = d, f = 0; return t.value = function (n) { return arguments.length ? (e = n, t) : e }, t.sort = function (n) { return arguments.length ? (i = n, t) : i }, t.startAngle = function (n) { return arguments.length ? (r = n, t) : r }, t.endAngle = function (n) { return arguments.length ? (u = n, t) : u }, t.padAngle = function (n) { return arguments.length ? (f = n, t) : f }, t }; hc = {}; n.layout.stack = function () { function t(s, h) { var p, w, b, v, c, k; if (!(b = s.length)) return s; var a = s.map(function (n, i) { return r.call(t, n, i) }), l = a.map(function (n) { return n.map(function (n, i) { return [e.call(t, n, i), o.call(t, n, i)] }) }), y = u.call(t, l, h); for (a = n.permute(a, y), l = n.permute(l, y), p = f.call(t, l, h), w = a[0].length, c = 0; c < w; ++c)for (i.call(t, a[0][c], k = p[c], l[0][c][1]), v = 1; v < b; ++v)i.call(t, a[v][c], k += l[v - 1][c][1], l[v][c][1]); return s } var r = v, u = cc, f = lc, i = vit, e = lit, o = ait; return t.values = function (n) { return arguments.length ? (r = n, t) : r }, t.order = function (n) { return arguments.length ? (u = typeof n == "function" ? n : aw.get(n) || cc, t) : u }, t.offset = function (n) { return arguments.length ? (f = typeof n == "function" ? n : vw.get(n) || lc, t) : f }, t.x = function (n) { return arguments.length ? (e = n, t) : e }, t.y = function (n) { return arguments.length ? (o = n, t) : o }, t.out = function (n) { return arguments.length ? (i = n, t) : i }, t }; aw = n.map({ "inside-out": function (t) { for (var u = t.length, i, f = t.map(yit), e = t.map(pit), l = n.range(u).sort(function (n, t) { return f[n] - f[t] }), o = 0, s = 0, h = [], c = [], r = 0; r < u; ++r)i = l[r], o < s ? (o += e[i], h.push(i)) : (s += e[i], c.push(i)); return c.reverse().concat(h) }, reverse: function (t) { return n.range(t.length).reverse() }, "default": cc }); vw = n.map({ silhouette: function (n) { for (var s = n.length, f = n[0].length, e = [], u = 0, r, i, o = [], t = 0; t < f; ++t) { for (r = 0, i = 0; r < s; r++)i += n[r][t][1]; i > u && (u = i); e.push(i) } for (t = 0; t < f; ++t)o[t] = (u - e[t]) / 2; return o }, wiggle: function (n) { var a = n.length, h = n[0], v = h.length, i, t, r, u, c, l, f, e, o, s = []; for (s[0] = e = o = 0, t = 1; t < v; ++t) { for (i = 0, u = 0; i < a; ++i)u += n[i][t][1]; for (i = 0, c = 0, f = h[t][0] - h[t - 1][0]; i < a; ++i) { for (r = 0, l = (n[i][t][1] - n[i][t - 1][1]) / (2 * f); r < i; ++r)l += (n[r][t][1] - n[r][t - 1][1]) / f; c += l * n[i][t][1] } s[t] = e -= u ? c / u * f : 0; e < o && (o = e) } for (t = 0; t < v; ++t)s[t] -= o; return s }, expand: function (n) { for (var r = n.length, f = n[0].length, o = 1 / r, t, u, e = [], i = 0; i < f; ++i) { for (t = 0, u = 0; t < r; t++)u += n[t][i][1]; if (u) for (t = 0; t < r; t++)n[t][i][1] /= u; else for (t = 0; t < r; t++)n[t][i][1] = o } for (i = 0; i < f; ++i)e[i] = 0; return e }, zero: lc }); n.layout.histogram = function () { function t(t, e) { for (var l = [], s = t.map(r, this), a = u.call(this, s, e), h = f.call(this, a, s, e), o, e = -1, y = s.length, v = h.length - 1, p = i ? 1 : 1 / y, c; ++e < v;)o = l[e] = [], o.dx = h[e + 1] - (o.x = h[e]), o.y = 0; if (v > 0) for (e = -1; ++e < y;)c = s[e], c >= a[0] && c <= a[1] && (o = l[n.bisect(h, c, 1, v) - 1], o.y += p, o.push(t[e])); return l } var i = !0, r = Number, u = kit, f = bit; return t.value = function (n) { return arguments.length ? (r = n, t) : r }, t.range = function (n) { return arguments.length ? (u = o(n), t) : u }, t.bins = function (n) { return arguments.length ? (f = typeof n == "number" ? function (t) { return yw(t, n) } : o(n), t) : f }, t.frequency = function (n) { return arguments.length ? (i = !!n, t) : i }, t }; n.layout.pack = function () { function i(n, i) { var c = f.call(this, n, i), e = c[0], o = u[0], s = u[1], l = t == null ? Math.sqrt : typeof t == "function" ? t : function () { return t }, h; return e.x = e.y = 0, ct(e, function (n) { n.r = +l(n.value) }), ct(e, bw), r && (h = r * (t ? 1 : Math.max(2 * e.r / o, 2 * e.r / s)) / 2, ct(e, function (n) { n.r += h }), ct(e, bw), ct(e, function (n) { n.r -= h })), kw(e, o / 2, s / 2, t ? 1 : 1 / Math.max(2 * e.r / o, 2 * e.r / s)), c } var f = n.layout.hierarchy().sort(dit), r = 0, u = [1, 1], t; return i.size = function (n) { return arguments.length ? (u = n, i) : u }, i.radius = function (n) { return arguments.length ? (t = n == null || typeof n == "function" ? n : +n, i) : t }, i.padding = function (n) { return arguments.length ? (r = +n, i) : r }, lu(i, f) }; n.layout.tree = function () { function r(n, r) { var p = e.call(this, n, r), c = p[0], v = o(c); if (ct(v, s), v.parent.m = -v.z, au(v, h), u) au(c, f); else { var l = c, a = c, y = c; au(c, function (n) { n.x < l.x && (l = n); n.x > a.x && (a = n); n.depth > y.depth && (y = n) }); var w = i(l, a) / 2 - l.x, b = t[0] / (a.x + i(a, l) / 2 + w), k = t[1] / (y.depth || 1); au(c, function (n) { n.x = (n.x + w) * b; n.y = n.depth * k }) } return p } function o(n) { for (var f = { A: null, children: [n] }, e = [f], u; (u = e.pop()) != null;)for (var i = u.children, r, t = 0, o = i.length; t < o; ++t)e.push((i[t] = r = { _: i[t], parent: u, children: (r = i[t].children) && r.slice() || [], A: null, a: null, z: 0, m: 0, c: 0, s: 0, t: null, i: t }).a = r); return f.children[0] } function s(n) { var r = n.children, f = n.parent.children, t = n.i ? f[n.i - 1] : null, u; r.length ? (irt(n), u = (r[0].z + r[r.length - 1].z) / 2, t ? (n.z = t.z + i(n._, t._), n.m = n.z - u) : n.z = u) : t && (n.z = t.z + i(n._, t._)); n.parent.A = c(n, t, n.parent.A || f[0]) } function h(n) { n._.x = n.z + n.parent.m; n.m += n.parent.m } function c(n, t, r) { if (t) { for (var u = n, e = n, f = t, o = u.parent.children[0], h = u.m, c = e.m, l = f.m, a = o.m, s; f = yc(f), u = vc(u), f && u;)o = vc(o), e = yc(e), e.a = n, s = f.z + l - u.z - h + i(f._, u._), s > 0 && (trt(rrt(f, n, r), n, s), h += s, c += s), l += f.m, h += u.m, a += o.m, c += e.m; f && !yc(e) && (e.t = f, e.m += l - c); u && !vc(o) && (o.t = u, o.m += h - a, r = n) } return r } function f(n) { n.x *= t[0]; n.y = n.depth * t[1] } var e = n.layout.hierarchy().sort(null).value(null), i = gw, t = [1, 1], u = null; return r.separation = function (n) { return arguments.length ? (i = n, r) : i }, r.size = function (n) { return arguments.length ? (u = (t = n) == null ? f : null, r) : u ? null : t }, r.nodeSize = function (n) { return arguments.length ? (u = (t = n) == null ? null : f, r) : u ? t : null }, lu(r, e) }; n.layout.cluster = function () { function i(n, i) { var c = f.call(this, n, i), e = c[0], o, a = 0; ct(e, function (n) { var t = n.children; t && t.length ? (n.x = frt(t), n.y = urt(t)) : (n.x = o ? a += r(n, o) : 0, n.y = 0, o = n) }); var s = nb(e), h = tb(e), l = s.x - r(s, h) / 2, v = h.x + r(h, s) / 2; return ct(e, u ? function (n) { n.x = (n.x - e.x) * t[0]; n.y = (e.y - n.y) * t[1] } : function (n) { n.x = (n.x - l) / (v - l) * t[0]; n.y = (1 - (e.y ? n.y / e.y : 1)) * t[1] }), c } var f = n.layout.hierarchy().sort(null).value(null), r = gw, t = [1, 1], u = !1; return i.separation = function (n) { return arguments.length ? (r = n, i) : r }, i.size = function (n) { return arguments.length ? (u = (t = n) == null, i) : u ? null : t }, i.nodeSize = function (n) { return arguments.length ? (u = (t = n) != null, i) : u ? t : null }, lu(i, f) }; n.layout.treemap = function () { function c(n, t) { for (var r = -1, f = n.length, u, i; ++r < f;)i = (u = n[r]).value * (t < 0 ? 0 : t), u.area = isNaN(i) || i <= 0 ? 0 : i } function v(n) { var u = n.children; if (u && u.length) { var r = s(n), t = [], f = u.slice(), h, o = Infinity, a, e = i === "slice" ? r.dx : i === "dice" ? r.dy : i === "slice-dice" ? n.depth & 1 ? r.dy : r.dx : Math.min(r.dx, r.dy), y; for (c(f, r.dx * r.dy / n.value), t.area = 0; (y = f.length) > 0;)t.push(h = f[y - 1]), t.area += h.area, i !== "squarify" || (a = p(t, e)) <= o ? (f.pop(), o = a) : (t.area -= t.pop().area, l(t, e, r, !1), e = Math.min(r.dx, r.dy), t.length = t.area = 0, o = Infinity); t.length && (l(t, e, r, !0), t.length = t.area = 0); u.forEach(v) } } function y(n) { var u = n.children; if (u && u.length) { var i = s(n), f = u.slice(), r, t = []; for (c(f, i.dx * i.dy / n.value), t.area = 0; r = f.pop();)t.push(r), t.area += r.area, r.z != null && (l(t, r.z ? i.dx : i.dy, i, !f.length), t.length = t.area = 0); u.forEach(y) } } function p(n, t) { for (var i = n.area, r, u = 0, f = Infinity, o = -1, s = n.length; ++o < s;)(r = n[o].area) && (r < f && (f = r), r > u && (u = r)); return i *= i, t *= t, i ? Math.max(t * u * e / i, i / (t * f * e)) : Infinity } function l(n, t, i, u) { var h = -1, c = n.length, o = i.x, s = i.y, e = t ? r(n.area / t) : 0, f; if (t == i.dx) { for ((u || e > i.dy) && (e = i.dy); ++h < c;)f = n[h], f.x = o, f.y = s, f.dy = e, o += f.dx = Math.min(i.x + i.dx - o, e ? r(f.area / e) : 0); f.z = !0; f.dx += i.x + i.dx - o; i.y += e; i.dy -= e } else { for ((u || e > i.dx) && (e = i.dx); ++h < c;)f = n[h], f.x = o, f.y = s, f.dx = e, s += f.dy = Math.min(i.y + i.dy - s, e ? r(f.area / e) : 0); f.z = !1; f.dy += i.y + i.dy - s; i.x += e; i.dx -= e } } function t(n) { var i = u || o(n), t = i[0]; return t.x = t.y = 0, t.value ? (t.dx = f[0], t.dy = f[1]) : t.dx = t.dy = 0, u && o.revalue(t), c([t], t.dx * t.dy / t.value), (u ? y : v)(t), h && (u = i), i } var o = n.layout.hierarchy(), r = Math.round, f = [1, 1], a = null, s = pc, h = !1, u, i = "squarify", e = .5 * (1 + Math.sqrt(5)); return t.size = function (n) { return arguments.length ? (f = n, t) : f }, t.padding = function (n) { function u(i) { var r = n.call(t, i, i.depth); return r == null ? pc(i) : ib(i, typeof r == "number" ? [r, r, r, r] : r) } function i(t) { return ib(t, n) } if (!arguments.length) return a; var r; return s = (a = n) == null ? pc : (r = typeof n) == "function" ? u : r === "number" ? (n = [n, n, n, n], i) : i, t }, t.round = function (n) { return arguments.length ? (r = n ? Math.round : Number, t) : r != Number }, t.sticky = function (n) { return arguments.length ? (h = n, u = null, t) : h }, t.ratio = function (n) { return arguments.length ? (e = n, t) : e }, t.mode = function (n) { return arguments.length ? (i = n + "", t) : i }, lu(t, o) }; n.random = { normal: function (n, t) { var i = arguments.length; return i < 2 && (t = 1), i < 1 && (n = 0), function () { var r, u, i; do r = Math.random() * 2 - 1, u = Math.random() * 2 - 1, i = r * r + u * u; while (!i || i > 1); return n + t * r * Math.sqrt(-2 * Math.log(i) / i) } }, logNormal: function () { var t = n.random.normal.apply(n, arguments); return function () { return Math.exp(t()) } }, bates: function (t) { var i = n.random.irwinHall(t); return function () { return i() / t } }, irwinHall: function (n) { return function () { for (var t = 0, i = 0; i < n; i++)t += Math.random(); return t } } }; n.scale = {}; ub = { floor: v, ceil: v }; n.scale.linear = function () { return fb([0, 1], [0, 1], bi, !1) }; ob = { s: 1, g: 1, p: 1, r: 1, e: 1 }; n.scale.log = function () { return sb(n.scale.linear().domain([0, 1]), 10, !0, [1, 10]) }; dc = n.format(".0e"); hb = { floor: function (n) { return -Math.ceil(-n) }, ceil: function (n) { return -Math.floor(-n) } }; n.scale.pow = function () { return cb(n.scale.linear(), 1, [0, 1]) }; n.scale.sqrt = function () { return n.scale.pow().exponent(.5) }; n.scale.ordinal = function () { return lb([], { t: "range", a: [[]] }) }; n.scale.category10 = function () { return n.scale.ordinal().range(hrt) }; n.scale.category20 = function () { return n.scale.ordinal().range(crt) }; n.scale.category20b = function () { return n.scale.ordinal().range(lrt) }; n.scale.category20c = function () { return n.scale.ordinal().range(art) }; var hrt = [2062260, 16744206, 2924588, 14034728, 9725885, 9197131, 14907330, 8355711, 12369186, 1556175].map(lf), crt = [2062260, 11454440, 16744206, 16759672, 2924588, 10018698, 14034728, 16750742, 9725885, 12955861, 9197131, 12885140, 14907330, 16234194, 8355711, 13092807, 12369186, 14408589, 1556175, 10410725].map(lf), lrt = [3750777, 5395619, 7040719, 10264286, 6519097, 9216594, 11915115, 13556636, 9202993, 12426809, 15186514, 15190932, 8666169, 11356490, 14049643, 15177372, 8077683, 10834324, 13528509, 14589654].map(lf), art = [3244733, 7057110, 10406625, 13032431, 15095053, 16616764, 16625259, 16634018, 3253076, 7652470, 10607003, 13101504, 7695281, 10394312, 12369372, 14342891, 6513507, 9868950, 12434877, 14277081].map(lf); n.scale.quantile = function () { return ab([], []) }; n.scale.quantize = function () { return vb(0, 1, [0, 1]) }; n.scale.threshold = function () { return yb([.5], [0, 1]) }; n.scale.identity = function () { return pb([0, 1]) }; n.svg = {}; n.svg.arc = function () { function n() { var n = Math.max(0, +i.apply(this, arguments)), o = Math.max(0, +r.apply(this, arguments)), it = e.apply(this, arguments) - h, rt = s.apply(this, arguments) - h, pt = Math.abs(rt - it), v = it > rt ? 0 : 1, kt, dt, gt, ti, nt, tt, lt, at, vt, yt; if (o < n && (ut = o, o = n, n = ut), pt >= id) return a(o, v) + (n ? a(n, 1 - v) : "") + "Z"; var ut, st, wt, bt, ht = 0, ft = 0, y, p, w, et, k, d, g, ct, b = []; if ((bt = (+l.apply(this, arguments) || 0) / 2) && (wt = u === vu ? Math.sqrt(n * n + o * o) : +u.apply(this, arguments), v || (ft *= -1), o && (ft = ni(wt / o * Math.sin(bt))), n && (ht = ni(wt / n * Math.sin(bt)))), o ? (y = o * Math.cos(it + ft), p = o * Math.sin(it + ft), w = o * Math.cos(rt - ft), et = o * Math.sin(rt - ft), kt = Math.abs(rt - it - 2 * ft) <= f ? 0 : 1, ft && ro(y, p, w, et) === v ^ kt && (dt = (it + rt) / 2, y = o * Math.cos(dt), p = o * Math.sin(dt), w = et = null)) : y = p = 0, n ? (k = n * Math.cos(rt - ht), d = n * Math.sin(rt - ht), g = n * Math.cos(it + ht), ct = n * Math.sin(it + ht), gt = Math.abs(it - rt + 2 * ht) <= f ? 0 : 1, ht && ro(k, d, g, ct) === 1 - v ^ gt && (ti = (it + rt) / 2, k = n * Math.cos(ti), d = n * Math.sin(ti), g = ct = null)) : k = d = 0, pt > t && (ut = Math.min(Math.abs(o - n) / 2, +c.apply(this, arguments))) > .001) { if (st = n < o ^ v ? 0 : 1, nt = ut, tt = ut, pt < f) { var ot = g == null ? [k, d] : w == null ? [y, p] : tc([y, p], [g, ct], [w, et], [k, d]), ii = y - ot[0], ri = p - ot[1], ui = w - ot[0], fi = et - ot[1], ei = 1 / Math.sin(Math.acos((ii * ui + ri * fi) / (Math.sqrt(ii * ii + ri * ri) * Math.sqrt(ui * ui + fi * fi))) / 2), oi = Math.sqrt(ot[0] * ot[0] + ot[1] * ot[1]); tt = Math.min(ut, (n - oi) / (ei - 1)); nt = Math.min(ut, (o - oi) / (ei + 1)) } w != null ? (lt = uo(g == null ? [k, d] : [g, ct], [y, p], o, nt, v), at = uo([w, et], [k, d], o, nt, v), ut === nt ? b.push("M", lt[0], "A", nt, ",", nt, " 0 0,", st, " ", lt[1], "A", o, ",", o, " 0 ", 1 - v ^ ro(lt[1][0], lt[1][1], at[1][0], at[1][1]), ",", v, " ", at[1], "A", nt, ",", nt, " 0 0,", st, " ", at[0]) : b.push("M", lt[0], "A", nt, ",", nt, " 0 1,", st, " ", at[0])) : b.push("M", y, ",", p); g != null ? (vt = uo([y, p], [g, ct], n, -tt, v), yt = uo([k, d], w == null ? [y, p] : [w, et], n, -tt, v), ut === tt ? b.push("L", yt[0], "A", tt, ",", tt, " 0 0,", st, " ", yt[1], "A", n, ",", n, " 0 ", v ^ ro(yt[1][0], yt[1][1], vt[1][0], vt[1][1]), ",", 1 - v, " ", vt[1], "A", tt, ",", tt, " 0 0,", st, " ", vt[0]) : b.push("L", yt[0], "A", tt, ",", tt, " 0 0,", st, " ", vt[0])) : b.push("L", k, ",", d) } else b.push("M", y, ",", p), w != null && b.push("A", o, ",", o, " 0 ", kt, ",", v, " ", w, ",", et), b.push("L", k, ",", d), g != null && b.push("A", n, ",", n, " 0 ", gt, ",", 1 - v, " ", g, ",", ct); return b.push("Z"), b.join("") } function a(n, t) { return "M0," + n + "A" + n + "," + n + " 0 1," + t + " 0," + -n + "A" + n + "," + n + " 0 1," + t + " 0," + n } var i = yrt, r = prt, c = vrt, u = vu, e = wb, s = bb, l = wrt; return n.innerRadius = function (t) { return arguments.length ? (i = o(t), n) : i }, n.outerRadius = function (t) { return arguments.length ? (r = o(t), n) : r }, n.cornerRadius = function (t) { return arguments.length ? (c = o(t), n) : c }, n.padRadius = function (t) { return arguments.length ? (u = t == vu ? vu : o(t), n) : u }, n.startAngle = function (t) { return arguments.length ? (e = o(t), n) : e }, n.endAngle = function (t) { return arguments.length ? (s = o(t), n) : s }, n.padAngle = function (t) { return arguments.length ? (l = o(t), n) : l }, n.centroid = function () { var n = (+i.apply(this, arguments) + +r.apply(this, arguments)) / 2, t = (+e.apply(this, arguments) + +s.apply(this, arguments)) / 2 - h; return [Math.cos(t) * n, Math.sin(t) * n] }, n }; vu = "auto"; n.svg.line = function () { return kb(v) }; fo = n.map({ linear: ut, "linear-closed": db, step: brt, "step-before": gc, "step-after": nl, basis: gb, "basis-open": nut, "basis-closed": tut, bundle: iut, cardinal: grt, "cardinal-open": krt, "cardinal-closed": drt, monotone: fut }); fo.forEach(function (n, t) { t.key = n; t.closed = /-closed$/.test(n) }); var nk = [0, 2 / 3, 1 / 3, 0], tk = [0, 1 / 3, 2 / 3, 0], ei = [0, 1 / 6, 2 / 3, 1 / 6]; n.svg.line.radial = function () { var n = kb(ik); return n.radius = n.x, delete n.x, n.angle = n.y, delete n.y, n }; gc.reverse = nl; nl.reverse = gc; n.svg.area = function () { return rk(v) }; n.svg.area.radial = function () { var n = rk(ik); return n.radius = n.x, delete n.x, n.innerRadius = n.x0, delete n.x0, n.outerRadius = n.x1, delete n.x1, n.angle = n.y, delete n.y, n.startAngle = n.y0, delete n.y0, n.endAngle = n.y1, delete n.y1, n }; n.svg.chord = function () { function n(n, r) { var u = c(this, t, n, r), f = c(this, i, n, r); return "M" + u.p0 + l(u.r, u.p1, u.a1 - u.a0) + (a(u, f) ? s(u.r, u.p1, u.r, u.p0) : s(u.r, u.p1, f.r, f.p0) + l(f.r, f.p1, f.a1 - f.a0) + s(f.r, f.p1, u.r, u.p0)) + "Z" } function c(n, t, i, f) { var s = t.call(n, i, f), o = r.call(n, s, f), c = u.call(n, s, f) - h, l = e.call(n, s, f) - h; return { r: o, a0: c, a1: l, p0: [o * Math.cos(c), o * Math.sin(c)], p1: [o * Math.cos(l), o * Math.sin(l)] } } function a(n, t) { return n.a0 == t.a0 && n.a1 == t.a1 } function l(n, t, i) { return "A" + n + "," + n + " 0 " + +(i > f) + ",1 " + t } function s(n, t, i, r) { return "Q 0,0 " + r } var t = ah, i = vh, r = eut, u = wb, e = bb; return n.radius = function (t) { return arguments.length ? (r = o(t), n) : r }, n.source = function (i) { return arguments.length ? (t = o(i), n) : t }, n.target = function (t) { return arguments.length ? (i = o(t), n) : i }, n.startAngle = function (t) { return arguments.length ? (u = o(t), n) : u }, n.endAngle = function (t) { return arguments.length ? (e = o(t), n) : e }, n }; n.svg.diagonal = function () { function n(n, u) { var e = t.call(this, n, u), o = i.call(this, n, u), s = (e.y + o.y) / 2, f = [e, { x: e.x, y: s }, { x: o.x, y: s }, o]; return f = f.map(r), "M" + f[0] + "C" + f[1] + " " + f[2] + " " + f[3] } var t = ah, i = vh, r = uk; return n.source = function (i) { return arguments.length ? (t = o(i), n) : t }, n.target = function (t) { return arguments.length ? (i = o(t), n) : i }, n.projection = function (t) { return arguments.length ? (r = t, n) : r }, n }; n.svg.diagonal.radial = function () { var t = n.svg.diagonal(), i = uk, r = t.projection; return t.projection = function (n) { return arguments.length ? r(out(i = n)) : i }, t }; n.svg.symbol = function () { function n(n, r) { return (ul.get(t.call(this, n, r)) || fk)(i.call(this, n, r)) } var t = hut, i = sut; return n.type = function (i) { return arguments.length ? (t = o(i), n) : t }, n.size = function (t) { return arguments.length ? (i = o(t), n) : i }, n }; ul = n.map({ circle: fk, cross: function (n) { var t = Math.sqrt(n / 5) / 2; return "M" + -3 * t + "," + -t + "H" + -t + "V" + -3 * t + "H" + t + "V" + -t + "H" + 3 * t + "V" + t + "H" + t + "V" + 3 * t + "H" + -t + "V" + t + "H" + -3 * t + "Z" }, diamond: function (n) { var t = Math.sqrt(n / (2 * fl)), i = t * fl; return "M0," + -t + "L" + i + ",0 0," + t + " " + -i + ",0Z" }, square: function (n) { var t = Math.sqrt(n) / 2; return "M" + -t + "," + -t + "L" + t + "," + -t + " " + t + "," + t + " " + -t + "," + t + "Z" }, "triangle-down": function (n) { var t = Math.sqrt(n / yu), i = t * yu / 2; return "M0," + i + "L" + t + "," + -i + " " + -t + "," + -i + "Z" }, "triangle-up": function (n) { var t = Math.sqrt(n / yu), i = t * yu / 2; return "M0," + -i + "L" + t + "," + i + " " + -t + "," + i + "Z" } }); n.svg.symbolTypes = ul.keys(); yu = Math.sqrt(3); fl = Math.tan(30 * u); e.transition = function (n) { for (var u = ki || ++el, f = sl(n), e = [], o, t, c = oo || { time: Date.now(), ease: ttt, delay: 0, duration: 250 }, i = -1, s = this.length; ++i < s;) { e.push(o = []); for (var h = this[i], r = -1, l = h.length; ++r < l;)(t = h[r]) && so(t, r, f, u, c), o.push(t) } return wu(e, f, u) }; e.interrupt = function (n) { return this.each(n == null ? pu : ek(sl(n))) }; pu = ek(sl()); a = []; el = 0; a.call = e.call; a.empty = e.empty; a.node = e.node; a.size = e.size; n.transition = function (t, i) { return t && t.transition ? ki ? t.transition(i) : t : n.selection().transition(t) }; n.transition.prototype = a; a.select = function (n) { var f = this.id, e = this.namespace, s = [], o, i, t, r, h; for (n = go(n), r = -1, h = this.length; ++r < h;) { s.push(o = []); for (var c = this[r], u = -1, l = c.length; ++u < l;)(t = c[u]) && (i = n.call(t, t.__data__, u, r)) ? ("__data__" in t && (i.__data__ = t.__data__), so(i, u, e, f, t[e][f]), o.push(i)) : o.push(null) } return wu(s, e, f) }; a.selectAll = function (n) { var u = this.id, f = this.namespace, h = [], c, e, t, o, l, i, a, r, y; for (n = sa(n), i = -1, a = this.length; ++i < a;)for (var v = this[i], s = -1, p = v.length; ++s < p;)if (t = v[s]) for (l = t[f][u], e = n.call(t, t.__data__, s, i), h.push(c = []), r = -1, y = e.length; ++r < y;)(o = e[r]) && so(o, r, f, u, l), c.push(o); return wu(h, f, u) }; a.filter = function (n) { var f = [], e, u, i, t, o; for (typeof n != "function" && (n = ba(n)), t = 0, o = this.length; t < o; t++) { f.push(e = []); for (var u = this[t], r = 0, s = u.length; r < s; r++)(i = u[r]) && n.call(i, i.__data__, r, t) && e.push(i) } return wu(f, this.namespace, this.id) }; a.tween = function (n, t) { var i = this.id, r = this.namespace; return arguments.length < 2 ? this.node()[r][i].tween.get(n) : vt(this, t == null ? function (t) { t[r][i].tween.remove(n) } : function (u) { u[r][i].tween.set(n, t) }) }; a.attr = function (t, i) { function f() { this.removeAttribute(r) } function e() { this.removeAttributeNS(r.space, r.local) } function o(n) { return n == null ? f : (n += "", function () { var t = this.getAttribute(r), i; return t !== n && (i = u(t, n), function (n) { this.setAttribute(r, i(n)) }) }) } function s(n) { return n == null ? e : (n += "", function () { var t = this.getAttributeNS(r.space, r.local), i; return t !== n && (i = u(t, n), function (n) { this.setAttributeNS(r.space, r.local, i(n)) }) }) } if (arguments.length < 2) { for (i in t) this.attr(i, t[i]); return this } var u = t == "transform" ? hw : bi, r = n.ns.qualify(t); return ol(this, "attr." + t, i, r.local ? s : o) }; a.attrTween = function (t, i) { function u(n, t) { var u = i.call(this, n, t, this.getAttribute(r)); return u && function (n) { this.setAttribute(r, u(n)) } } function f(n, t) { var u = i.call(this, n, t, this.getAttributeNS(r.space, r.local)); return u && function (n) { this.setAttributeNS(r.space, r.local, u(n)) } } var r = n.ns.qualify(t); return this.tween("attr." + t, r.local ? f : u) }; a.style = function (n, t, i) { function u() { this.style.removeProperty(n) } function f(t) { return t == null ? u : (t += "", function () { var r = kt(this).getComputedStyle(this, null).getPropertyValue(n), u; return r !== t && (u = bi(r, t), function (t) { this.style.setProperty(n, u(t), i) }) }) } var r = arguments.length; if (r < 3) { if (typeof n != "string") { r < 2 && (t = ""); for (i in n) this.style(i, n[i], t); return this } i = "" } return ol(this, "style." + n, t, f) }; a.styleTween = function (n, t, i) { function r(r, u) { var f = t.call(this, r, u, kt(this).getComputedStyle(this, null).getPropertyValue(n)); return f && function (t) { this.style.setProperty(n, f(t), i) } } return arguments.length < 3 && (i = ""), this.tween("style." + n, r) }; a.text = function (n) { return ol(this, "text", n, cut) }; a.remove = function () { var n = this.namespace; return this.each("end.transition", function () { var t; this[n].count < 2 && (t = this.parentNode) && t.removeChild(this) }) }; a.ease = function (t) { var i = this.id, r = this.namespace; return arguments.length < 1 ? this.node()[r][i].ease : (typeof t != "function" && (t = n.ease.apply(n, arguments)), vt(this, function (n) { n[r][i].ease = t })) }; a.delay = function (n) { var t = this.id, i = this.namespace; return arguments.length < 1 ? this.node()[i][t].delay : vt(this, typeof n == "function" ? function (r, u, f) { r[i][t].delay = +n.call(r, r.__data__, u, f) } : (n = +n, function (r) { r[i][t].delay = n })) }; a.duration = function (n) { var t = this.id, i = this.namespace; return arguments.length < 1 ? this.node()[i][t].duration : vt(this, typeof n == "function" ? function (r, u, f) { r[i][t].duration = Math.max(1, n.call(r, r.__data__, u, f)) } : (n = Math.max(1, n), function (r) { r[i][t].duration = n })) }; a.each = function (t, i) { var r = this.id, u = this.namespace, f, e; if (arguments.length < 2) { f = oo; e = ki; try { ki = r; vt(this, function (n, i, f) { oo = n[u][r]; t.call(n, n.__data__, i, f) }) } finally { oo = f; ki = e } } else vt(this, function (f) { var e = f[u][r]; (e.event || (e.event = n.dispatch("start", "end", "interrupt"))).on(t, i) }); return this }; a.transition = function () { for (var c = this.id, e = ++el, u = this.namespace, o = [], s, f, t, n, i = 0, h = this.length; i < h; i++) { o.push(s = []); for (var f = this[i], r = 0, l = f.length; r < l; r++)(t = f[r]) && (n = t[u][c], so(t, r, u, e, { time: n.time, ease: n.ease, delay: n.delay + n.duration, duration: n.duration })), s.push(t) } return wu(o, u, e) }; n.svg.axis = function () { function i(i) { i.each(function () { var rt = n.select(this), a = this.__chart__ || e, i = this.__chart__ = e.copy(), ht = s == null ? i.ticks ? i.ticks.apply(i, o) : i.domain() : s, ct = h == null ? i.tickFormat ? i.tickFormat.apply(i, o) : v : h, w = rt.selectAll(".tick").data(ht, i), y = w.enter().insert("g", ".domain").attr("class", "tick").style("opacity", t), lt = n.transition(w.exit()).style("opacity", t).remove(), g = n.transition(w.order()).style("opacity", 1), ut = Math.max(r, 0) + c, p, b = ge(i), ft = rt.selectAll(".domain").data([0]), et = (ft.enter().append("path").attr("class", "domain"), n.transition(ft)), it, st; y.append("line"); y.append("text"); var at = y.select("line"), vt = g.select("line"), ot = w.select("text").text(ct), yt = y.select("text"), pt = g.select("text"), l = f === "top" || f === "left" ? -1 : 1, nt, tt, k, d; f === "bottom" || f === "top" ? (p = lut, nt = "x", k = "y", tt = "x2", d = "y2", ot.attr("dy", l < 0 ? "0em" : ".71em").style("text-anchor", "middle"), et.attr("d", "M" + b[0] + "," + l * u + "V0H" + b[1] + "V" + l * u)) : (p = aut, nt = "y", k = "x", tt = "y2", d = "x2", ot.attr("dy", ".32em").style("text-anchor", l < 0 ? "end" : "start"), et.attr("d", "M" + l * u + "," + b[0] + "H0V" + b[1] + "H" + l * u)); at.attr(d, l * r); yt.attr(k, l * ut); vt.attr(tt, 0).attr(d, l * r); pt.attr(nt, 0).attr(k, l * ut); i.rangeBand ? (it = i, st = it.rangeBand() / 2, a = i = function (n) { return it(n) + st }) : a.rangeBand ? a = i : lt.call(p, i, a); y.call(p, a, i); g.call(p, i, i) }) } var e = n.scale.linear(), f = hl, r = 6, u = 6, c = 3, o = [10], s = null, h; return i.scale = function (n) { return arguments.length ? (e = n, i) : e }, i.orient = function (n) { return arguments.length ? (f = n in ok ? n + "" : hl, i) : f }, i.ticks = function () { return arguments.length ? (o = ft(arguments), i) : o }, i.tickValues = function (n) { return arguments.length ? (s = n, i) : s }, i.tickFormat = function (n) { return arguments.length ? (h = n, i) : h }, i.tickSize = function (n) { var t = arguments.length; return t ? (r = +n, u = +arguments[t - 1], i) : r }, i.innerTickSize = function (n) { return arguments.length ? (r = +n, i) : r }, i.outerTickSize = function (n) { return arguments.length ? (u = +n, i) : u }, i.tickPadding = function (n) { return arguments.length ? (c = +n, i) : c }, i.tickSubdivide = function () { return arguments.length && i }, i }; hl = "bottom"; ok = { top: 1, right: 1, bottom: 1, left: 1 }; n.svg.brush = function () { function f(t) { t.each(function () { var i = n.select(this).style("pointer-events", "all").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)").on("mousedown.brush", w).on("touchstart.brush", w), h = i.selectAll(".background").data([0]), e, o, s, t; h.enter().append("rect").attr("class", "background").style("visibility", "hidden").style("cursor", "crosshair"); i.selectAll(".extent").data([0]).enter().append("rect").attr("class", "extent").style("cursor", "move"); e = i.selectAll(".resize").data(l, v); e.exit().remove(); e.enter().append("g").attr("class", function (n) { return "resize " + n }).style("cursor", function (n) { return vut[n] }).append("rect").attr("x", function (n) { return /[ew]$/.test(n) ? -3 : null }).attr("y", function (n) { return /^[ns]/.test(n) ? -3 : null }).attr("width", 6).attr("height", 6).style("visibility", "hidden"); e.style("display", f.empty() ? "none" : null); o = n.transition(i); s = n.transition(h); r && (t = ge(r), s.attr("x", t[0]).attr("width", t[1] - t[0]), y(o)); u && (t = ge(u), s.attr("y", t[0]).attr("height", t[1] - t[0]), p(o)); a(o) }) } function a(n) { n.selectAll(".resize").attr("transform", function (n) { return "translate(" + t[+/e$/.test(n)] + "," + i[+/^s/.test(n)] + ")" }) } function y(n) { n.select(".extent").attr("x", t[0]); n.selectAll(".extent,.n>rect,.s>rect").attr("width", t[1] - t[0]) } function p(n) { n.select(".extent").attr("y", i[0]); n.selectAll(".extent,.e>rect,.w>rect").attr("height", i[1] - i[0]) } function w() { function lt() { n.event.keyCode == 32 && (v || (w = null, l[0] -= t[1], l[1] -= i[1], v = 2), dt()) } function at() { n.event.keyCode == 32 && v == 2 && (l[0] += t[1], l[1] += i[1], v = 0, dt()) } function nt() { var f = n.mouse(b), e = !1; g && (f[0] += g[0], f[1] += g[1]); v || (n.event.altKey ? (w || (w = [(t[0] + t[1]) / 2, (i[0] + i[1]) / 2]), l[0] = t[+(f[0] < w[0])], l[1] = i[+(f[1] < w[1])]) : w = null); st && et(f, r, 0) && (y(k), e = !0); ht && et(f, u, 1) && (p(k), e = !0); e && (a(k), it({ type: "brush", mode: v ? "move" : "resize" })) } function et(n, r, u) { var k = ge(r), p = k[0], b = k[1], c = l[u], a = u ? i : t, d = a[1] - a[0], f, y; return v && (p -= c, b -= d + c), f = (u ? h : s) ? Math.max(p, Math.min(b, n[u])) : n[u], v ? y = (f += c) + d : (w && (c = Math.max(p, Math.min(b, 2 * w[u] - f))), c < f ? (y = f, f = c) : y = c), a[0] != f || a[1] != y ? (u ? o = null : e = null, a[0] = f, a[1] = y, !0) : void 0 } function ot() { nt(); k.style("pointer-events", "all").selectAll(".resize").style("display", f.empty() ? "none" : null); n.select("body").style("cursor", null); rt.on("mousemove.brush", null).on("mouseup.brush", null).on("touchmove.brush", null).on("touchend.brush", null).on("keydown.brush", null).on("keyup.brush", null); ct(); it({ type: "brushend" }) } var b = this, tt = n.select(n.event.target), it = c.of(b, arguments), k = n.select(b), d = tt.datum(), st = !/^(n|s)$/.test(d) && r, ht = !/^(e|w)$/.test(d) && u, v = tt.classed("extent"), ct = uf(b), w, l = n.mouse(b), g, rt = n.select(kt(b)).on("keydown.brush", lt).on("keyup.brush", at), ut, ft; if (n.event.changedTouches) rt.on("touchmove.brush", nt).on("touchend.brush", ot); else rt.on("mousemove.brush", nt).on("mouseup.brush", ot); k.interrupt().selectAll("*").interrupt(); v ? (l[0] = t[0] - l[0], l[1] = i[0] - l[1]) : d ? (ut = +/w$/.test(d), ft = +/^n/.test(d), g = [t[1 - ut] - l[0], i[1 - ft] - l[1]], l[0] = t[ut], l[1] = i[ft]) : n.event.altKey && (w = l.slice()); k.style("pointer-events", "none").selectAll(".resize").style("display", null); n.select("body").style("cursor", tt.style("cursor")); it({ type: "brushstart" }); nt() } var c = wo(f, "brushstart", "brush", "brushend"), r = null, u = null, t = [0, 0], i = [0, 0], e, o, s = !0, h = !0, l = cl[0]; return f.event = function (r) { r.each(function () { var u = c.of(this, arguments), r = { x: t, y: i, i: e, j: o }, f = this.__chart__ || r; this.__chart__ = r; ki ? n.select(this).transition().each("start.brush", function () { e = f.i; o = f.j; t = f.x; i = f.y; u({ type: "brushstart" }) }).tween("brush:brush", function () { var n = de(t, r.x), f = de(i, r.y); return e = o = null, function (e) { t = r.x = n(e); i = r.y = f(e); u({ type: "brush", mode: "resize" }) } }).each("end.brush", function () { e = r.i; o = r.j; u({ type: "brush", mode: "resize" }); u({ type: "brushend" }) }) : (u({ type: "brushstart" }), u({ type: "brush", mode: "resize" }), u({ type: "brushend" })) }) }, f.x = function (n) { return arguments.length ? (r = n, l = cl[!r << 1 | !u], f) : r }, f.y = function (n) { return arguments.length ? (u = n, l = cl[!r << 1 | !u], f) : u }, f.clamp = function (n) { return arguments.length ? (r && u ? (s = !!n[0], h = !!n[1]) : r ? s = !!n : u && (h = !!n), f) : r && u ? [s, h] : r ? s : u ? h : null }, f.extent = function (n) { var s, h, c, l, a; return arguments.length ? (r && (s = n[0], h = n[1], u && (s = s[0], h = h[0]), e = [s, h], r.invert && (s = r(s), h = r(h)), h < s && (a = s, s = h, h = a), (s != t[0] || h != t[1]) && (t = [s, h])), u && (c = n[0], l = n[1], r && (c = c[1], l = l[1]), o = [c, l], u.invert && (c = u(c), l = u(l)), l < c && (a = c, c = l, l = a), (c != i[0] || l != i[1]) && (i = [c, l])), f) : (r && (e ? (s = e[0], h = e[1]) : (s = t[0], h = t[1], r.invert && (s = r.invert(s), h = r.invert(h)), h < s && (a = s, s = h, h = a))), u && (o ? (c = o[0], l = o[1]) : (c = i[0], l = i[1], u.invert && (c = u.invert(c), l = u.invert(l)), l < c && (a = c, c = l, l = a))), r && u ? [[s, c], [h, l]] : r ? [s, h] : u && [c, l]) }, f.clear = function () { return f.empty() || (t = [0, 0], i = [0, 0], e = o = null), f }, f.empty = function () { return !!r && t[0] == t[1] || !!u && i[0] == i[1] }, n.rebind(f, c, "on") }; var vut = { n: "ns-resize", e: "ew-resize", s: "ns-resize", w: "ew-resize", nw: "nwse-resize", ne: "nesw-resize", se: "nwse-resize", sw: "nesw-resize" }, cl = [["n", "e", "s", "w", "nw", "ne", "se", "sw"], ["e", "w"], ["n", "s"], []], ll = i.format = ds.timeFormat, sk = ll.utc, hk = sk("%Y-%m-%dT%H:%M:%S.%LZ"); ll.iso = Date.prototype.toISOString && +new Date("2000-01-01T00:00:00.000Z") ? al : hk; al.parse = function (n) { var t = new Date(n); return isNaN(t) ? null : t }; al.toString = hk.toString; i.second = ci(function (n) { return new y(Math.floor(n / 1e3) * 1e3) }, function (n, t) { n.setTime(n.getTime() + Math.floor(t) * 1e3) }, function (n) { return n.getSeconds() }); i.seconds = i.second.range; i.seconds.utc = i.second.utc.range; i.minute = ci(function (n) { return new y(Math.floor(n / 6e4) * 6e4) }, function (n, t) { n.setTime(n.getTime() + Math.floor(t) * 6e4) }, function (n) { return n.getMinutes() }); i.minutes = i.minute.range; i.minutes.utc = i.minute.utc.range; i.hour = ci(function (n) { var t = n.getTimezoneOffset() / 60; return new y((Math.floor(n / 36e5 - t) + t) * 36e5) }, function (n, t) { n.setTime(n.getTime() + Math.floor(t) * 36e5) }, function (n) { return n.getHours() }); i.hours = i.hour.range; i.hours.utc = i.hour.utc.range; i.month = ci(function (n) { return n = i.day(n), n.setDate(1), n }, function (n, t) { n.setMonth(n.getMonth() + t) }, function (n) { return n.getMonth() }); i.months = i.month.range; i.months.utc = i.month.utc.range; var ho = [1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6], yl = [[i.second, 1], [i.second, 5], [i.second, 15], [i.second, 30], [i.minute, 1], [i.minute, 5], [i.minute, 15], [i.minute, 30], [i.hour, 1], [i.hour, 3], [i.hour, 6], [i.hour, 12], [i.day, 1], [i.day, 2], [i.week, 1], [i.month, 1], [i.month, 3], [i.year, 1]], yut = ll.multi([[".%L", function (n) { return n.getMilliseconds() }], [":%S", function (n) { return n.getSeconds() }], ["%I:%M", function (n) { return n.getMinutes() }], ["%I %p", function (n) { return n.getHours() }], ["%a %d", function (n) { return n.getDay() && n.getDate() != 1 }], ["%b %d", function (n) { return n.getDate() != 1 }], ["%B", function (n) { return n.getMonth() }], ["%Y", gr]]), put = { range: function (t, i, r) { return n.range(Math.ceil(t / r) * r, +i, r).map(di) }, floor: v, ceil: v }; yl.year = i.year; i.scale = function () { return vl(n.scale.linear(), yl, yut) }; pl = yl.map(function (n) { return [n[0].utc, n[1]] }); ck = sk.multi([[".%L", function (n) { return n.getUTCMilliseconds() }], [":%S", function (n) { return n.getUTCSeconds() }], ["%I:%M", function (n) { return n.getUTCMinutes() }], ["%I %p", function (n) { return n.getUTCHours() }], ["%a %d", function (n) { return n.getUTCDay() && n.getUTCDate() != 1 }], ["%b %d", function (n) { return n.getUTCDate() != 1 }], ["%B", function (n) { return n.getUTCMonth() }], ["%Y", gr]]); pl.year = i.year.utc; i.scale.utc = function () { return vl(n.scale.linear(), pl, ck) }; n.text = ys(function (n) { return n.responseText }); n.json = function (n, t) { return af(n, "application/json", wut, t) }; n.html = function (n, t) { return af(n, "text/html", but, t) }; n.xml = ys(function (n) { return n.responseXML }); typeof define == "function" && define.amd ? (this.d3 = n, define(n)) : typeof module == "object" && module.exports ? module.exports = n : this.d3 = n }(), function (n, t) { typeof define == "function" && define.amd ? define(["d3"], function (i) { return n.Rickshaw = t(i) }) : typeof exports == "object" ? module.exports = t(require("d3")) : n.Rickshaw = t(d3) }(this, function (n) { var t = { version: "1.6.6", namespace: function (n) { for (var f = n.split("."), i = t, u, r = 1, e = f.length; r < e; r++)u = f[r], i[u] = i[u] || {}, i = i[u]; return i }, keys: function (n) { var t = [], i; for (i in n) t.push(i); return t }, extend: function (n, t) { for (var i in t) n[i] = t[i]; return n }, clone: function (n) { return JSON.parse(JSON.stringify(n)) } }; return function (n) { function u(n) { return o.call(n) === v } function y(n, t) { for (var i in t) t.hasOwnProperty(i) && (n[i] = t[i]); return n } function p(n) { var t, i; if (w(n) !== r) throw new TypeError; t = []; for (i in n) n.hasOwnProperty(i) && t.push(i); return t } function w(n) { switch (n) { case null: return s; case void 0: return h }var t = typeof n; switch (t) { case "boolean": return c; case "number": return l; case "string": return a }return r } function b(n) { return typeof n == "undefined" } function k(n) { var t = n.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g, "").replace(/\s+/g, "").split(","); return t.length == 1 && !t[0] ? [] : t } function d(n, i) { var r = n; return function () { var n = e([t(r, this)], arguments); return i.apply(this, n) } } function e(n, t) { for (var r = n.length, i = t.length; i--;)n[r + i] = t[i]; return n } function g(n, t) { return n = f.call(n, 0), e(n, t) } function t(n, t) { if (arguments.length < 2 && b(arguments[0])) return this; var i = n, r = f.call(arguments, 2); return function () { var n = g(r, arguments); return i.apply(t, n) } } var o = Object.prototype.toString, s = "Null", h = "Undefined", c = "Boolean", l = "Number", a = "String", r = "Object", v = "[object Function]", f = Array.prototype.slice, nt = function () { }, i = function () { function n() { } function f() { function t() { this.initialize.apply(this, arguments) } var r = null, f = [].slice.apply(arguments), e, o; if (u(f[0]) && (r = f.shift()), y(t, i.Methods), t.superclass = r, t.subclasses = [], r) { n.prototype = r.prototype; t.prototype = new n; try { r.subclasses.push(t) } catch (s) { } } for (e = 0, o = f.length; e < o; e++)t.addMethods(f[e]); return t.prototype.initialize || (t.prototype.initialize = nt), t.prototype.constructor = t, t } function e(n) { var h = this.superclass && this.superclass.prototype, e = p(n), o, c, s, i, f; for (r && (n.toString != Object.prototype.toString && e.push("toString"), n.valueOf != Object.prototype.valueOf && e.push("valueOf")), o = 0, c = e.length; o < c; o++)s = e[o], i = n[s], h && u(i) && k(i)[0] == "$super" && (f = i, i = d(function (n) { return function () { return h[n].apply(this, arguments) } }(s), f), i.valueOf = t(f.valueOf, f), i.toString = t(f.toString, f)), this.prototype[s] = i; return this } var r = function () { for (var n in { toString: 1 }) if (n === "toString") return !1; return !0 }(); return { create: f, Methods: { addMethods: e } } }(); n.exports ? n.exports.Class = i : n.Class = i }(t), t.namespace("Rickshaw.Compat.ClassList"), t.Compat.ClassList = function () { typeof document == "undefined" || "classList" in document.createElement("a") || function (n) { "use strict"; var e = "classList", t = "prototype", o = (n.HTMLElement || n.Element)[t], r = Object, l = String[t].trim || function () { return this.replace(/^\s+|\s+$/g, "") }, a = Array[t].indexOf || function (n) { for (var t = 0, i = this.length; t < i; t++)if (t in this && this[t] === n) return t; return -1 }, s = function (n, t) { this.name = n; this.code = DOMException[n]; this.message = t }, u = function (n, t) { if (t === "") throw new s("SYNTAX_ERR", "An invalid or illegal string was specified"); if (/\s/.test(t)) throw new s("INVALID_CHARACTER_ERR", "String contains an invalid character"); return a.call(n, t) }, h = function (n) { for (var i = l.call(n.className), r = i ? i.split(/\s+/) : [], t = 0, u = r.length; t < u; t++)this.push(r[t]); this._updateClassName = function () { n.className = this.toString() } }, i = h[t] = [], c = function () { return new h(this) }, f; if (s[t] = Error[t], i.item = function (n) { return this[n] || null }, i.contains = function (n) { return n += "", u(this, n) !== -1 }, i.add = function (n) { n += ""; u(this, n) === -1 && (this.push(n), this._updateClassName()) }, i.remove = function (n) { n += ""; var t = u(this, n); t !== -1 && (this.splice(t, 1), this._updateClassName()) }, i.toggle = function (n) { n += ""; u(this, n) === -1 ? this.add(n) : this.remove(n) }, i.toString = function () { return this.join(" ") }, r.defineProperty) { f = { get: c, enumerable: !0, configurable: !0 }; try { r.defineProperty(o, e, f) } catch (v) { v.number === -2146823252 && (f.enumerable = !1, r.defineProperty(o, e, f)) } } else r[t].__defineGetter__ && o.__defineGetter__(e, c) }(window) }, (typeof RICKSHAW_NO_COMPAT == "undefined" || RICKSHAW_NO_COMPAT) && typeof RICKSHAW_NO_COMPAT != "undefined" || new t.Compat.ClassList, t.namespace("Rickshaw.Graph"), t.Graph = function (i) { var r = this; this.initialize = function (t) { if (!t.element) throw "Rickshaw.Graph needs a reference to an element"; if (t.element.nodeType !== 1) throw "Rickshaw.Graph element was defined but not an HTML element"; this.element = t.element; this.series = t.series; this.window = {}; this.updateCallbacks = []; this.configureCallbacks = []; this.defaults = { interpolation: "cardinal", offset: "zero", min: undefined, max: undefined, preserve: !1, xScale: undefined, yScale: undefined, stack: !0 }; this._loadRenderers(); this.configure(t); this.setSeries(t.series); this.setSize({ width: t.width, height: t.height }); this.element.classList.add("rickshaw_graph"); this.vis = n.select(this.element).append("svg:svg").attr("width", this.width).attr("height", this.height); this.discoverRange() }; this._loadRenderers = function () { var i, n; for (i in t.Graph.Renderer) i && t.Graph.Renderer.hasOwnProperty(i) && (n = t.Graph.Renderer[i], n && n.prototype && n.prototype.render) && r.registerRenderer(new n({ graph: r })) }; this.validateSeries = function (n) { var i; if (!Array.isArray(n) && !(n instanceof t.Series)) { i = Object.prototype.toString.apply(n); throw "series is not an array: " + i; } n.forEach(function (n) { if (!(n instanceof Object)) throw "series element is not an object: " + n; if (!n.data) throw "series has no data: " + JSON.stringify(n); if (!Array.isArray(n.data)) throw "series data is not an array: " + JSON.stringify(n.data); if (n.data.length > 0) { var i = n.data[0].x, t = n.data[0].y; if (typeof i != "number" || typeof t != "number" && t !== null) throw "x and y properties of points should be numbers instead of " + typeof i + " and " + typeof t; } if (n.data.length >= 3 && (n.data[2].x < n.data[1].x || n.data[1].x < n.data[0].x || n.data[n.data.length - 1].x < n.data[0].x)) throw "series data needs to be sorted on x values for series name: " + n.name; }, this) }; this.setSeries = function (n) { this.validateSeries(n); this.series = n; this.series.active = function () { return r.series.filter(function (n) { return !n.disabled }) } }; this.dataDomain = function () { var t = this.series.map(function (n) { return n.data }), i = n.min(t.map(function (n) { return n[0].x })), r = n.max(t.map(function (n) { return n[n.length - 1].x })); return [i, r] }; this.discoverRange = function () { var t = this.renderer.domain(); this.x = (this.xScale || n.scale.linear()).copy().domain(t.x).range([0, this.width]); this.y = (this.yScale || n.scale.linear()).copy().domain(t.y).range([this.height, 0]); this.x.magnitude = n.scale.linear().domain([t.x[0] - t.x[0], t.x[1] - t.x[0]]).range([0, this.width]); this.y.magnitude = n.scale.linear().domain([t.y[0] - t.y[0], t.y[1] - t.y[0]]).range([0, this.height]) }; this.render = function () { var n = this.stackData(); this.discoverRange(); this.renderer.render(); this.updateCallbacks.forEach(function (n) { n() }) }; this.update = this.render; this.stackData = function () { var i = this.series.active().map(function (n) { return n.data }).map(function (n) { return n.filter(function (n) { return this._slice(n) }, this) }, this), f = this.preserve, u, e, o; return f || this.series.forEach(function (n) { n.scale && (f = !0) }), i = f ? t.clone(i) : i, this.series.active().forEach(function (n, t) { if (n.scale) { var r = i[t]; r && r.forEach(function (t) { t.y = n.scale(t.y) }) } }), this.stackData.hooks.data.forEach(function (n) { i = n.f.apply(r, [i]) }), this.renderer.unstack || (this._validateStackable(), e = n.layout.stack(), e.offset(r.offset), u = e(i)), u = u || i, this.renderer.unstack && u.forEach(function (n) { n.forEach(function (n) { n.y0 = n.y0 === undefined ? 0 : n.y0 }) }), this.stackData.hooks.after.forEach(function (n) { u = n.f.apply(r, [i]) }), o = 0, this.series.forEach(function (n) { n.disabled || (n.stack = u[o++]) }), this.stackedData = u, u }; this._validateStackable = function () { var t = this.series, n; t.forEach(function (t) { if (n = n || t.data.length, n && t.data.length != n) throw "stacked series cannot have differing numbers of points: " + n + " vs " + t.data.length + "; see Rickshaw.Series.fill()"; }, this) }; this.stackData.hooks = { data: [], after: [] }; this._slice = function (n) { if (this.window.xMin || this.window.xMax) { var t = !0; return this.window.xMin && n.x < this.window.xMin && (t = !1), this.window.xMax && n.x > this.window.xMax && (t = !1), t } return !0 }; this.onUpdate = function (n) { this.updateCallbacks.push(n) }; this.onConfigure = function (n) { this.configureCallbacks.push(n) }; this.registerRenderer = function (n) { this._renderers = this._renderers || {}; this._renderers[n.name] = n }; this.configure = function (n) { this.config = this.config || {}; (n.width || n.height) && this.setSize(n); t.keys(this.defaults).forEach(function (t) { this.config[t] = t in n ? n[t] : t in this ? this[t] : this.defaults[t] }, this); t.keys(this.config).forEach(function (n) { this[n] = this.config[n] }, this); "stack" in n && (n.unstack = !n.stack); var i = n.renderer || this.renderer && this.renderer.name || "stack"; this.setRenderer(i, n); this.configureCallbacks.forEach(function (t) { t(n) }) }; this.setRenderer = function (n, t) { if (typeof n == "function") this.renderer = new n({ graph: r }), this.registerRenderer(this.renderer); else { if (!this._renderers[n]) throw "couldn't find renderer " + n; this.renderer = this._renderers[n] } typeof t == "object" && this.renderer.configure(t) }; this.setSize = function (n) { if (n = n || {}, n.width && n.height) this.width = n.width, this.height = n.height; else { if (typeof window != "undefined") var t = window.getComputedStyle(this.element, null), i = parseInt(t.getPropertyValue("width"), 10), r = parseInt(t.getPropertyValue("height"), 10); this.width = n.width || i || 400; this.height = n.height || r || 250 } this.vis && this.vis.attr("width", this.width).attr("height", this.height) }; this.initialize(i) }, t.namespace("Rickshaw.Fixtures.Color"), t.Fixtures.Color = function () { this.schemes = {}; this.schemes.spectrum14 = ["#ecb796", "#dc8f70", "#b2a470", "#92875a", "#716c49", "#d2ed82", "#bbe468", "#a1d05d", "#e7cbe6", "#d8aad6", "#a888c2", "#9dc2d3", "#649eb9", "#387aa3"].reverse(); this.schemes.spectrum2000 = ["#57306f", "#514c76", "#646583", "#738394", "#6b9c7d", "#84b665", "#a7ca50", "#bfe746", "#e2f528", "#fff726", "#ecdd00", "#d4b11d", "#de8800", "#de4800", "#c91515", "#9a0000", "#7b0429", "#580839", "#31082b"]; this.schemes.spectrum2001 = ["#2f243f", "#3c2c55", "#4a3768", "#565270", "#6b6b7c", "#72957f", "#86ad6e", "#a1bc5e", "#b8d954", "#d3e04e", "#ccad2a", "#cc8412", "#c1521d", "#ad3821", "#8a1010", "#681717", "#531e1e", "#3d1818", "#320a1b"]; this.schemes.classic9 = ["#423d4f", "#4a6860", "#848f39", "#a2b73c", "#ddcb53", "#c5a32f", "#7d5836", "#963b20", "#7c2626", "#491d37", "#2f254a"].reverse(); this.schemes.httpStatus = { 503: "#ea5029", 502: "#d23f14", 500: "#bf3613", 410: "#efacea", 409: "#e291dc", 403: "#f457e8", 408: "#e121d2", 401: "#b92dae", 405: "#f47ceb", 404: "#a82a9f", 400: "#b263c6", 301: "#6fa024", 302: "#87c32b", 307: "#a0d84c", 304: "#28b55c", 200: "#1a4f74", 206: "#27839f", 201: "#52adc9", 202: "#7c979f", 203: "#a5b8bd", 204: "#c1cdd1" }; this.schemes.colorwheel = ["#b5b6a9", "#858772", "#785f43", "#96557e", "#4682b4", "#65b9ac", "#73c03a", "#cb513a"].reverse(); this.schemes.cool = ["#5e9d2f", "#73c03a", "#4682b4", "#7bc3b8", "#a9884e", "#c1b266", "#a47493", "#c09fb5"]; this.schemes.munin = ["#00cc00", "#0066b3", "#ff8000", "#ffcc00", "#330099", "#990099", "#ccff00", "#ff0000", "#808080", "#008f00", "#00487d", "#b35a00", "#b38f00", "#6b006b", "#8fb300", "#b30000", "#bebebe", "#80ff80", "#80c9ff", "#ffc080", "#ffe680", "#aa80ff", "#ee00cc", "#ff8080", "#666600", "#ffbfff", "#00ffcc", "#cc6699", "#999900"] }, t.namespace("Rickshaw.Fixtures.RandomData"), t.Fixtures.RandomData = function (n) { var t, i; n = n || 1; t = 200; i = Math.floor((new Date).getTime() / 1e3); this.addData = function (r) { var f = Math.random() * 100 + 15 + t, u = r[0].length, e = 1; r.forEach(function (t) { var r = Math.random() * 20, o = f / 25 + e++ + (Math.cos(u * e * 11 / 960) + 2) * 15 + (Math.cos(u / 7) + 2) * 7 + (Math.cos(u / 17) + 2) * 1; t.push({ x: u * n + i, y: o + r }) }); t = f * .85 }; this.removeData = function (t) { t.forEach(function (n) { n.shift() }); i += n } }, t.namespace("Rickshaw.Fixtures.Time"), t.Fixtures.Time = function () { var t = this; this.months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]; this.units = [{ name: "decade", seconds: 86400 * 365.25 * 10, formatter: function (n) { return parseInt(n.getUTCFullYear() / 10, 10) * 10 } }, { name: "year", seconds: 86400 * 365.25, formatter: function (n) { return n.getUTCFullYear() } }, { name: "month", seconds: 86400 * 30.5, formatter: function (n) { return t.months[n.getUTCMonth()] } }, { name: "week", seconds: 604800, formatter: function (n) { return t.formatDate(n) } }, { name: "day", seconds: 86400, formatter: function (n) { return n.getUTCDate() } }, { name: "6 hour", seconds: 21600, formatter: function (n) { return t.formatTime(n) } }, { name: "hour", seconds: 3600, formatter: function (n) { return t.formatTime(n) } }, { name: "15 minute", seconds: 900, formatter: function (n) { return t.formatTime(n) } }, { name: "minute", seconds: 60, formatter: function (n) { return n.getUTCMinutes() + "m" } }, { name: "15 second", seconds: 15, formatter: function (n) { return n.getUTCSeconds() + "s" } }, { name: "second", seconds: 1, formatter: function (n) { return n.getUTCSeconds() + "s" } }, { name: "decisecond", seconds: 1 / 10, formatter: function (n) { return n.getUTCMilliseconds() + "ms" } }, { name: "centisecond", seconds: 1 / 100, formatter: function (n) { return n.getUTCMilliseconds() + "ms" } }]; this.unit = function (n) { return this.units.filter(function (t) { return n == t.name }).shift() }; this.formatDate = function (t) { return n.time.format("%b %e")(t) }; this.formatTime = function (n) { return n.toUTCString().match(/(\d+:\d+):/)[1] }; this.ceil = function (n, t) { var i, f, r, u; return t.name == "month" ? (i = new Date(n * 1e3), f = Date.UTC(i.getUTCFullYear(), i.getUTCMonth()) / 1e3, f == n) ? n : (r = i.getUTCFullYear(), u = i.getUTCMonth(), u == 11 ? (u = 0, r = r + 1) : u += 1, Date.UTC(r, u) / 1e3) : t.name == "year" ? (i = new Date(n * 1e3), f = Date.UTC(i.getUTCFullYear(), 0) / 1e3, f == n) ? n : (r = i.getUTCFullYear() + 1, Date.UTC(r, 0) / 1e3) : Math.ceil(n / t.seconds) * t.seconds } }, t.namespace("Rickshaw.Fixtures.Time.Local"), t.Fixtures.Time.Local = function () { var t = this; this.months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]; this.units = [{ name: "decade", seconds: 86400 * 365.25 * 10, formatter: function (n) { return parseInt(n.getFullYear() / 10, 10) * 10 } }, { name: "year", seconds: 86400 * 365.25, formatter: function (n) { return n.getFullYear() } }, { name: "month", seconds: 86400 * 30.5, formatter: function (n) { return t.months[n.getMonth()] } }, { name: "week", seconds: 604800, formatter: function (n) { return t.formatDate(n) } }, { name: "day", seconds: 86400, formatter: function (n) { return n.getDate() } }, { name: "6 hour", seconds: 21600, formatter: function (n) { return t.formatTime(n) } }, { name: "hour", seconds: 3600, formatter: function (n) { return t.formatTime(n) } }, { name: "15 minute", seconds: 900, formatter: function (n) { return t.formatTime(n) } }, { name: "minute", seconds: 60, formatter: function (n) { return n.getMinutes() } }, { name: "15 second", seconds: 15, formatter: function (n) { return n.getSeconds() + "s" } }, { name: "second", seconds: 1, formatter: function (n) { return n.getSeconds() + "s" } }, { name: "decisecond", seconds: 1 / 10, formatter: function (n) { return n.getMilliseconds() + "ms" } }, { name: "centisecond", seconds: 1 / 100, formatter: function (n) { return n.getMilliseconds() + "ms" } }]; this.unit = function (n) { return this.units.filter(function (t) { return n == t.name }).shift() }; this.formatDate = function (t) { return n.time.format("%b %e")(t) }; this.formatTime = function (n) { return n.toString().match(/(\d+:\d+):/)[1] }; this.ceil = function (n, t) { var r, e, u, s, o, i, f; return t.name == "day" ? (o = new Date((n + t.seconds - 1) * 1e3), i = new Date(0), i.setFullYear(o.getFullYear()), i.setMonth(o.getMonth()), i.setDate(o.getDate()), i.setMilliseconds(0), i.setSeconds(0), i.setMinutes(0), i.setHours(0), i.getTime() / 1e3) : t.name == "month" ? (r = new Date(n * 1e3), e = new Date(r.getFullYear(), r.getMonth()).getTime() / 1e3, e == n) ? n : (u = r.getFullYear(), f = r.getMonth(), f == 11 ? (f = 0, u = u + 1) : f += 1, new Date(u, f).getTime() / 1e3) : t.name == "year" ? (r = new Date(n * 1e3), e = new Date(r.getUTCFullYear(), 0).getTime() / 1e3, e == n) ? n : (u = r.getFullYear() + 1, new Date(u, 0).getTime() / 1e3) : (s = new Date(n * 1e3).getTimezoneOffset() * 60, Math.ceil((n - s) / t.seconds) * t.seconds + s) } }, t.namespace("Rickshaw.Fixtures.Number"), t.Fixtures.Number.formatKMBT = function (n) { var t = Math.abs(n); return t >= 1e12 ? n / 1e12 + "T" : t >= 1e9 ? n / 1e9 + "B" : t >= 1e6 ? n / 1e6 + "M" : t >= 1e3 ? n / 1e3 + "K" : t < 1 && t > 0 ? n.toFixed(2) : t === 0 ? "" : n }, t.Fixtures.Number.formatBase1024KMGTP = function (n) { var t = Math.abs(n); return t >= 0x4000000000000 ? n / 0x4000000000000 + "P" : t >= 1099511627776 ? n / 1099511627776 + "T" : t >= 1073741824 ? n / 1073741824 + "G" : t >= 1048576 ? n / 1048576 + "M" : t >= 1024 ? n / 1024 + "K" : t < 1 && t > 0 ? n.toFixed(2) : t === 0 ? "" : n }, t.namespace("Rickshaw.Color.Palette"), t.Color.Palette = function (i) { var e = new t.Fixtures.Color, o, r, f, u, s; if (i = i || {}, this.schemes = {}, this.scheme = e.schemes[i.scheme] || i.scheme || e.schemes.colorwheel, this.runningIndex = 0, this.generatorIndex = 0, i.interpolatedStopCount) { for (o = this.scheme.length - 1, u = [], r = 0; r < o; r++)for (u.push(this.scheme[r]), s = n.interpolateHsl(this.scheme[r], this.scheme[r + 1]), f = 1; f < i.interpolatedStopCount; f++)u.push(s(1 / i.interpolatedStopCount * f)); u.push(this.scheme[this.scheme.length - 1]); this.scheme = u } this.rotateCount = this.scheme.length; this.color = function (n) { return this.scheme[n] || this.scheme[this.runningIndex++] || this.interpolateColor() || "#808080" }; this.interpolateColor = function () { if (Array.isArray(this.scheme)) { var t; return this.generatorIndex == this.rotateCount * 2 - 1 ? (t = n.interpolateHsl(this.scheme[this.generatorIndex], this.scheme[0])(.5), this.generatorIndex = 0, this.rotateCount *= 2) : (t = n.interpolateHsl(this.scheme[this.generatorIndex], this.scheme[this.generatorIndex + 1])(.5), this.generatorIndex++), this.scheme.push(t), t } } }, t.namespace("Rickshaw.Graph.Ajax"), t.Graph.Ajax = t.Class.create({ initialize: function (n) { this.dataURL = n.dataURL; this.onData = n.onData || function (n) { return n }; this.onComplete = n.onComplete || function () { }; this.onError = n.onError || function () { }; this.args = n; this.request() }, request: function () { jQuery.ajax({ url: this.dataURL, dataType: "json", success: this.success.bind(this), error: this.error.bind(this) }) }, error: function () { console.log("error loading dataURL: " + this.dataURL); this.onError(this) }, success: function (n) { n = this.onData(n); this.args.series = this._splice({ data: n, series: this.args.series }); this.graph = this.graph || new t.Graph(this.args); this.graph.render(); this.onComplete(this) }, _splice: function (n) { var t = n.data, i = n.series; return n.series ? (i.forEach(function (n) { var i = n.key || n.name; if (!i) throw "series needs a key or a name"; t.forEach(function (t) { var r = t.key || t.name, u; if (!r) throw "data needs a key or a name"; i == r && (u = ["color", "name", "data"], u.forEach(function (i) { t[i] && (n[i] = t[i]) })) }) }), i) : t } }), t.namespace("Rickshaw.Graph.Annotate"), t.Graph.Annotate = function (n) { var r = this.graph = n.graph, i; this.elements = { timeline: n.element }; i = this; this.data = {}; this.elements.timeline.classList.add("rickshaw_annotation_timeline"); this.add = function (n, t, r) { i.data[n] = i.data[n] || { boxes: [] }; i.data[n].boxes.push({ content: t, end: r }) }; this.update = function () { t.keys(i.data).forEach(function (n) { var t = i.data[n], r = i.graph.x(n), u; if (r < 0 || r > i.graph.x.range()[1]) { t.element && (t.line.classList.add("offscreen"), t.element.style.display = "none"); t.boxes.forEach(function (n) { n.rangeElement && n.rangeElement.classList.add("offscreen") }); return } t.element || (u = t.element = document.createElement("div"), u.classList.add("annotation"), this.elements.timeline.appendChild(u), u.addEventListener("click", function () { u.classList.toggle("active"); t.line.classList.toggle("active"); t.boxes.forEach(function (n) { n.rangeElement && n.rangeElement.classList.toggle("active") }) }, !1)); t.element.style.left = r + "px"; t.element.style.display = "block"; t.boxes.forEach(function (n) { var u = n.element, f, e, o; u || (u = n.element = document.createElement("div"), u.classList.add("content"), u.innerHTML = n.content, t.element.appendChild(u), t.line = document.createElement("div"), t.line.classList.add("annotation_line"), i.graph.element.appendChild(t.line), n.end && (n.rangeElement = document.createElement("div"), n.rangeElement.classList.add("annotation_range"), i.graph.element.appendChild(n.rangeElement))); n.end && (f = r, e = Math.min(i.graph.x(n.end), i.graph.x.range()[1]), f > e && (e = r, f = Math.max(i.graph.x(n.end), i.graph.x.range()[0])), o = e - f, n.rangeElement.style.left = f + "px", n.rangeElement.style.width = o + "px", n.rangeElement.classList.remove("offscreen")); t.line.classList.remove("offscreen"); t.line.style.left = r + "px" }) }, this) }; this.graph.onUpdate(function () { i.update() }) }, t.namespace("Rickshaw.Graph.Axis.Time"), t.Graph.Axis.Time = function (n) { var i = this, r; this.graph = n.graph; this.elements = []; this.ticksTreatment = n.ticksTreatment || "plain"; this.fixedTimeUnit = n.timeUnit; r = n.timeFixture || new t.Fixtures.Time; this.appropriateTimeUnit = function () { var n, i = r.units, t = this.graph.x.domain(), u = t[1] - t[0]; return i.forEach(function (t) { Math.floor(u / t.seconds) >= 2 && (n = n || t) }), n || r.units[r.units.length - 1] }; this.tickOffsets = function () { for (var t = this.graph.x.domain(), n = this.fixedTimeUnit || this.appropriateTimeUnit(), o = Math.ceil((t[1] - t[0]) / n.seconds), f = t[0], e = [], u, i = 0; i < o; i++)u = r.ceil(f, n), f = u + n.seconds / 2, e.push({ value: u, unit: n }); return e }; this.render = function () { this.elements.forEach(function (n) { n.parentNode.removeChild(n) }); this.elements = []; var n = this.tickOffsets(); n.forEach(function (n) { var t, r; i.graph.x(n.value) > i.graph.x.range()[1] || (t = document.createElement("div"), t.style.left = i.graph.x(n.value) + "px", t.classList.add("x_tick"), t.classList.add(i.ticksTreatment), r = document.createElement("div"), r.classList.add("title"), r.innerHTML = n.unit.formatter(new Date(n.value * 1e3)), t.appendChild(r), i.graph.element.appendChild(t), i.elements.push(t)) }) }; this.graph.onUpdate(function () { i.render() }) }, t.namespace("Rickshaw.Graph.Axis.X"), t.Graph.Axis.X = function (t) { var r = this, i = .1; this.initialize = function (t) { this.graph = t.graph; this.orientation = t.orientation || "top"; this.pixelsPerTick = t.pixelsPerTick || 75; t.ticks && (this.staticTicks = t.ticks); t.tickValues && (this.tickValues = t.tickValues); this.tickSize = t.tickSize || 4; this.ticksTreatment = t.ticksTreatment || "plain"; t.element ? (this.element = t.element, this._discoverSize(t.element, t), this.vis = n.select(t.element).append("svg:svg").attr("height", this.height).attr("width", this.width).attr("class", "rickshaw_graph x_axis_d3"), this.element = this.vis[0][0], this.element.style.position = "relative", this.setSize({ width: t.width, height: t.height })) : this.vis = this.graph.vis; this.graph.onUpdate(function () { r.render() }) }; this.setSize = function (n) { if (n = n || {}, this.element) { this._discoverSize(this.element.parentNode, n); this.vis.attr("height", this.height).attr("width", this.width * (1 + i)); var t = Math.floor(this.width * i / 2); this.element.style.left = -1 * t + "px" } }; this.render = function () { var r, u, f, e, o, s; this._renderWidth !== undefined && this.graph.width !== this._renderWidth && this.setSize({ auto: !0 }); r = n.svg.axis().scale(this.graph.x).orient(this.orientation); r.tickFormat(t.tickFormat || function (n) { return n }); this.tickValues && r.tickValues(this.tickValues); this.ticks = this.staticTicks || Math.floor(this.graph.width / this.pixelsPerTick); u = Math.floor(this.width * i / 2) || 0; f = this.graph.renderer.name == "bar" && Math.ceil(this.graph.width * .95 / this.graph.series[0].data.length / 2) || 0; this.orientation == "top" ? (o = this.height || this.graph.height, e = "translate(" + (u + f) + "," + o + ")") : e = "translate(" + (u + f) + ", 0)"; this.element && this.vis.selectAll("*").remove(); this.vis.append("svg:g").attr("class", ["x_ticks_d3", this.ticksTreatment].join(" ")).attr("transform", e).call(r.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)); s = (this.orientation == "bottom" ? 1 : -1) * this.graph.height; this.graph.vis.append("svg:g").attr("class", "x_grid_d3").call(r.ticks(this.ticks).tickSubdivide(0).tickSize(s)).selectAll("text").each(function () { this.parentNode.setAttribute("data-x-value", this.textContent) }); this._renderHeight = this.graph.height }; this._discoverSize = function (n, t) { var r, u, f; typeof window != "undefined" && (r = window.getComputedStyle(n, null), u = parseInt(r.getPropertyValue("height"), 10), t.auto || (f = parseInt(r.getPropertyValue("width"), 10))); this.width = (t.width || f || this.graph.width) * (1 + i); this.height = t.height || u || 40 }; this.initialize(t) }, t.namespace("Rickshaw.Graph.Axis.Y"), t.Graph.Axis.Y = t.Class.create({ initialize: function (t) { this.graph = t.graph; this.orientation = t.orientation || "right"; this.pixelsPerTick = t.pixelsPerTick || 75; t.ticks && (this.staticTicks = t.ticks); t.tickValues && (this.tickValues = t.tickValues); this.tickSize = t.tickSize || 4; this.ticksTreatment = t.ticksTreatment || "plain"; this.tickFormat = t.tickFormat || function (n) { return n }; this.berthRate = .1; t.element ? (this.element = t.element, this.vis = n.select(t.element).append("svg:svg").attr("class", "rickshaw_graph y_axis"), this.element = this.vis[0][0], this.element.style.position = "relative", this.setSize({ width: t.width, height: t.height })) : this.vis = this.graph.vis; var i = this; this.graph.onUpdate(function () { i.render() }) }, setSize: function (n) { var t, i, r, u; (n = n || {}, this.element) && (typeof window != "undefined" && (t = window.getComputedStyle(this.element.parentNode, null), i = parseInt(t.getPropertyValue("width"), 10), n.auto || (r = parseInt(t.getPropertyValue("height"), 10))), this.width = n.width || i || this.graph.width * this.berthRate, this.height = n.height || r || this.graph.height, this.vis.attr("width", this.width).attr("height", this.height * (1 + this.berthRate)), u = this.height * this.berthRate, this.orientation == "left" && (this.element.style.top = -1 * u + "px")) }, render: function () { this._renderHeight !== undefined && this.graph.height !== this._renderHeight && this.setSize({ auto: !0 }); this.ticks = this.staticTicks || Math.floor(this.graph.height / this.pixelsPerTick); var n = this._drawAxis(this.graph.y); this._drawGrid(n); this._renderHeight = this.graph.height }, _drawAxis: function (t) { var i = n.svg.axis().scale(t).orient(this.orientation), r, u; return i.tickFormat(this.tickFormat), this.tickValues && i.tickValues(this.tickValues), this.orientation == "left" && (r = this.height * this.berthRate, u = "translate(" + this.width + ", " + r + ")"), this.element && this.vis.selectAll("*").remove(), this.vis.append("svg:g").attr("class", ["y_ticks", this.ticksTreatment].join(" ")).attr("transform", u).call(i.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)), i }, _drawGrid: function (n) { var t = (this.orientation == "right" ? 1 : -1) * this.graph.width; this.graph.vis.append("svg:g").attr("class", "y_grid").call(n.ticks(this.ticks).tickSubdivide(0).tickSize(t)).selectAll("text").each(function () { this.parentNode.setAttribute("data-y-value", this.textContent) }) } }), t.namespace("Rickshaw.Graph.Axis.Y.Scaled"), t.Graph.Axis.Y.Scaled = t.Class.create(t.Graph.Axis.Y, { initialize: function ($super, n) { if (typeof n.scale == "undefined") throw new Error("Scaled requires scale"); this.scale = n.scale; this.grid = typeof n.grid == "undefined" ? !0 : n.grid; $super(n) }, _drawAxis: function ($super, t) { var i = this.scale.domain(), r = this.graph.renderer.domain().y, u = [Math.min.apply(Math, i), Math.max.apply(Math, i)], f = n.scale.linear().domain([0, 1]).range(u), e = [f(r[0]), f(r[1])], o = n.scale.linear().domain(u).range(e), s = this.scale.copy().domain(i.map(o)).range(t.range()); return $super(s) }, _drawGrid: function ($super, n) { this.grid && $super(n) } }), t.namespace("Rickshaw.Graph.Behavior.Series.Highlight"), t.Graph.Behavior.Series.Highlight = function (t) { this.graph = t.graph; this.legend = t.legend; var i = this, r = {}, u = null, f = t.disabledColor || function (t) { return n.interpolateRgb(t, n.rgb("#d8d8d8"))(.8).toString() }; this.addHighlightEvents = function (n) { n.element.addEventListener("mouseover", function () { u || (u = n, i.legend.lines.forEach(function (t) { var u, e; if (n === t) { i.graph.renderer.unstack && (t.series.renderer ? t.series.renderer.unstack : !0) && (u = i.graph.series.indexOf(t.series), t.originalIndex = u, e = i.graph.series.splice(u, 1)[0], i.graph.series.push(e)); return } r[t.series.name] = r[t.series.name] || t.series.color; t.series.color = f(t.series.color) }), i.graph.update()) }, !1); n.element.addEventListener("mouseout", function () { if (u) u = null; else return; i.legend.lines.forEach(function (t) { if (n === t && t.hasOwnProperty("originalIndex")) { var u = i.graph.series.pop(); i.graph.series.splice(t.originalIndex, 0, u); delete t.originalIndex } r[t.series.name] && (t.series.color = r[t.series.name]) }); i.graph.update() }, !1) }; this.legend && this.legend.lines.forEach(function (n) { i.addHighlightEvents(n) }) }, t.namespace("Rickshaw.Graph.Behavior.Series.Order"), t.Graph.Behavior.Series.Order = function (n) { this.graph = n.graph; this.legend = n.legend; var t = this; if (typeof window.jQuery == "undefined") throw "couldn't find jQuery at window.jQuery"; if (typeof window.jQuery.ui == "undefined") throw "couldn't find jQuery UI at window.jQuery.ui"; jQuery(function () { jQuery(t.legend.list).sortable({ containment: "parent", tolerance: "pointer", update: function () { var i = [], n; for (jQuery(t.legend.list).find("li").each(function (n, t) { t.series && i.push(t.series) }), n = t.graph.series.length - 1; n >= 0; n--)t.graph.series[n] = i.shift(); t.graph.update() } }); jQuery(t.legend.list).disableSelection() }); this.graph.onUpdate(function () { var n = window.getComputedStyle(t.legend.element).height; t.legend.element.style.height = n }) }, t.namespace("Rickshaw.Graph.Behavior.Series.Toggle"), t.Graph.Behavior.Series.Toggle = function (n) { this.graph = n.graph; this.legend = n.legend; var t = this; this.addAnchor = function (n) { var i = document.createElement("a"), r; i.innerHTML = "&#10004;"; i.classList.add("action"); n.element.insertBefore(i, n.element.firstChild); i.onclick = function () { if (n.series.disabled) n.series.enable(), n.element.classList.remove("disabled"); else { if (this.graph.series.filter(function (n) { return !n.disabled }).length <= 1) return; n.series.disable(); n.element.classList.add("disabled") } t.graph.update() }.bind(this); r = n.element.getElementsByTagName("span")[0]; r.onclick = function () { var r = n.series.disabled, i, u; if (!r) for (i = 0; i < t.legend.lines.length; i++)if (u = t.legend.lines[i], n.series !== u.series && !u.series.disabled) { r = !0; break } r ? (n.series.enable(), n.element.classList.remove("disabled"), t.legend.lines.forEach(function (t) { n.series === t.series || (t.series.disable(), t.element.classList.add("disabled")) })) : t.legend.lines.forEach(function (n) { n.series.enable(); n.element.classList.remove("disabled") }); t.graph.update() } }; this.legend && (typeof jQuery != "undefined" && jQuery(this.legend.list).sortable && jQuery(this.legend.list).sortable({ start: function (n, t) { t.item.bind("no.onclick", function (n) { n.preventDefault() }) }, stop: function (n, t) { setTimeout(function () { t.item.unbind("no.onclick") }, 250) } }), this.legend.lines.forEach(function (n) { t.addAnchor(n) })); this._addBehavior = function () { this.graph.series.forEach(function (n) { n.disable = function () { if (t.graph.series.length <= 1) throw "only one series left"; n.disabled = !0 }; n.enable = function () { n.disabled = !1 } }) }; this._addBehavior(); this.updateBehaviour = function () { this._addBehavior() } }, t.namespace("Rickshaw.Graph.DragZoom"), t.Graph.DragZoom = t.Class.create({ initialize: function (t) { if (!t || !t.graph) throw new Error("Rickshaw.Graph.DragZoom needs a reference to a graph"); var i = { opacity: .5, fill: "steelblue", minimumTimeSelection: 60, callback: function () { } }; this.graph = t.graph; this.svg = n.select(this.graph.element).select("svg"); this.svgWidth = parseInt(this.svg.attr("width"), 10); this.opacity = t.opacity || i.opacity; this.fill = t.fill || i.fill; this.minimumTimeSelection = t.minimumTimeSelection || i.minimumTimeSelection; this.callback = t.callback || i.callback; this.registerMouseEvents() }, registerMouseEvents: function () { function s() { var o, s, r; (i.stopDt = e(n.event), o = [i.startDt, i.stopDt].sort(f), t.graph.window.xMin = o[0], t.graph.window.xMax = o[1], s = t.graph.window.xMax, r = t.graph.window.xMax - t.graph.window.xMin, u(this), r < t.minimumTimeSelection || isNaN(r)) || (t.graph.update(), t.callback({ range: r, endTime: s })) } function h() { var o = i.stopPX = n.event.offsetX || n.event.layerX, e, s; if (!(o > t.svgWidth - 1) && !(o < 1)) { if (e = [i.startPX, o].sort(f), s = e[1] - e[0], isNaN(s)) return u(this); r.attr("fill", t.fill).attr("x", e[0]).attr("width", s) } } function c() { var f = n.select(this); r = f.append("rect").style("opacity", t.opacity).attr("y", 0).attr("height", "100%"); n.event.preventDefault ? n.event.preventDefault() : n.event.returnValue = !1; i.target = n.event.target; i.startDt = e(n.event); i.startPX = n.event.offsetX || n.event.layerX; f.on("mousemove", h); n.select(document).on("mouseup", s); n.select(document).on("keyup", function () { n.event.keyCode === o && u(this) }) } function u(t) { var u = n.select(t); u.on("mousemove", null); n.select(document).on("mouseup", null); i = {}; r.remove() } function f(n, t) { return n - t } function e(n) { return Math.floor(t.graph.x.invert(n.offsetX || n.layerX)) } var t = this, o = 27, r, i = { startDt: null, stopDt: null, startPX: null, stopPX: null }; this.svg.on("mousedown", c) } }), t.namespace("Rickshaw.Graph.HoverDetail"), t.Graph.HoverDetail = t.Class.create({ initialize: function (n) { var i = this.graph = n.graph, t; this.xFormatter = n.xFormatter || function (n) { return new Date(n * 1e3).toUTCString() }; this.yFormatter = n.yFormatter || function (n) { return n === null ? n : n.toFixed(2) }; t = this.element = document.createElement("div"); t.className = "detail inactive"; this.visible = !0; i.element.appendChild(t); this.lastEvent = null; this._addListeners(); this.onShow = n.onShow; this.onHide = n.onHide; this.onRender = n.onRender; this.formatter = n.formatter || this.formatter }, formatter: function (n, t, i, r, u) { return n.name + ":&nbsp;" + u }, update: function (t) { var e, c; if ((t = t || this.lastEvent, t) && (this.lastEvent = t, t.target.nodeName.match(/^(path|svg|rect|circle)$/))) { var r = this.graph, o = r.element.getBoundingClientRect(), u = t.clientX - o.left, s = t.clientY - o.top, h = 0, f = [], i; (this.graph.series.active().forEach(function (t) { var e = this.graph.stackedData[h++], a, o; if (e.length) { var l = r.x.invert(u), w = n.scale.linear().domain([e[0].x, e.slice(-1)[0].x]).range([0, e.length - 1]), v = Math.round(w(l)); for (v == e.length - 1 && v--, a = Math.min(v || 0, e.length - 1), o = v; o < e.length - 1;) { if (!e[o] || !e[o + 1]) break; if (e[o].x <= l && e[o + 1].x > l) { a = Math.abs(l - e[o].x) < Math.abs(l - e[o + 1].x) ? o : o + 1; break } e[o + 1].x <= l ? o++ : o-- } a < 0 && (a = 0); var c = e[a], y = Math.sqrt(Math.pow(Math.abs(r.x(c.x) - u), 2) + Math.pow(Math.abs(r.y(c.y + c.y0) - s), 2)), b = t.xFormatter || this.xFormatter, k = t.yFormatter || this.yFormatter, p = { formattedXValue: b(c.x), formattedYValue: k(t.scale ? t.scale.invert(c.y) : c.y), series: t, value: c, distance: y, order: h, name: t.name }; (!i || y < i.distance) && (i = p); f.push(p) } }, this), i) && (i.active = !0, e = i.value.x, c = i.formattedXValue, this.element.innerHTML = "", this.element.style.left = r.x(e) + "px", this.visible && this.render({ points: f, detail: f, mouseX: u, mouseY: s, formattedXValue: c, domainX: e })) } }, hide: function () { this.visible = !1; this.element.classList.add("inactive"); typeof this.onHide == "function" && this.onHide() }, show: function () { this.visible = !0; this.element.classList.remove("inactive"); typeof this.onShow == "function" && this.onShow() }, render: function (n) { var a = this.graph, v = n.points, t = v.filter(function (n) { return n.active }).shift(), o, h, f, i, e, c, r, u, s, l; if (t.value.y !== null && (o = t.formattedXValue, h = t.formattedYValue, this.element.innerHTML = "", this.element.style.left = a.x(t.value.x) + "px", f = document.createElement("div"), f.className = "x_label", f.innerHTML = o, this.element.appendChild(f), i = document.createElement("div"), i.className = "item", e = t.series, c = e.scale ? e.scale.invert(t.value.y) : t.value.y, i.innerHTML = this.formatter(e, t.value.x, c, o, h, t), i.style.top = this.graph.y(t.value.y0 + t.value.y) + "px", this.element.appendChild(i), r = document.createElement("div"), r.className = "dot", r.style.top = i.style.top, r.style.borderColor = e.color, this.element.appendChild(r), t.active && (i.classList.add("active"), r.classList.add("active")), u = [f, i], u.forEach(function (n) { n.classList.add("left") }), this.show(), s = this._calcLayoutError(u), s > 0 && (u.forEach(function (n) { n.classList.remove("left"); n.classList.add("right") }), l = this._calcLayoutError(u), l > s && u.forEach(function (n) { n.classList.remove("right"); n.classList.add("left") })), typeof this.onRender == "function")) this.onRender(n) }, _calcLayoutError: function (n) { var t = this.element.parentNode.getBoundingClientRect(), i = 0, r = n.forEach(function (n) { var r = n.getBoundingClientRect(); r.width && (r.right > t.right && (i += r.right - t.right), r.left < t.left && (i += t.left - r.left)) }); return i }, _addListeners: function () { this.mousemoveListener = function (n) { this.visible = !0; this.update(n) }.bind(this); this.graph.element.addEventListener("mousemove", this.mousemoveListener, !1); this.graph.onUpdate(function () { this.update() }.bind(this)); this.mouseoutListener = function (n) { !n.relatedTarget || n.relatedTarget.compareDocumentPosition(this.graph.element) & Node.DOCUMENT_POSITION_CONTAINS || this.hide() }.bind(this); this.graph.element.addEventListener("mouseout", this.mouseoutListener, !1) }, _removeListeners: function () { this.mousemoveListener && this.graph.element.removeEventListener("mousemove", this.mousemoveListener, !1); this.mouseoutListener && this.graph.element.removeEventListener("mouseout", this.mouseoutListener, !1) } }), t.namespace("Rickshaw.Graph.JSONP"), t.Graph.JSONP = t.Class.create(t.Graph.Ajax, { request: function () { jQuery.ajax({ url: this.dataURL, dataType: "jsonp", success: this.success.bind(this), error: this.error.bind(this) }) } }), t.namespace("Rickshaw.Graph.Legend"), t.Graph.Legend = t.Class.create({ className: "rickshaw_legend", initialize: function (n) { this.element = n.element; this.graph = n.graph; this.naturalOrder = n.naturalOrder; this.element.classList.add(this.className); this.list = document.createElement("ul"); this.element.appendChild(this.list); this.render(); this.graph.onUpdate(function () { }) }, render: function () { for (var t = this, n; this.list.firstChild;)this.list.removeChild(this.list.firstChild); this.lines = []; n = this.graph.series.map(function (n) { return n }); this.naturalOrder || (n = n.reverse()); n.forEach(function (n) { t.addLine(n) }) }, addLine: function (t) { var i = document.createElement("li"), r, u, f; return i.className = "line", t.disabled && (i.className += " disabled"), t.className && n.select(i).classed(t.className, !0), r = document.createElement("div"), r.className = "swatch", r.style.backgroundColor = t.color, i.appendChild(r), u = document.createElement("span"), u.className = "label", u.innerHTML = t.name, i.appendChild(u), this.list.appendChild(i), i.series = t, t.noLegend && (i.style.display = "none"), f = { element: i, series: t }, this.shelving && (this.shelving.addAnchor(f), this.shelving.updateBehaviour()), this.highlighter && this.highlighter.addHighlightEvents(f), this.lines.push(f), i } }), t.namespace("Rickshaw.Graph.RangeSlider"), t.Graph.RangeSlider = t.Class.create({ initialize: function (n) { var u = jQuery, r = this, f = this.element = n.element, t = this.graphs = n.graphs, i; for (t || (t = this.graph = n.graph), t.constructor !== Array && (t = [t]), this.graph = t[0], this.slideCallbacks = [], this.build(), i = 0; i < t.length; i++) { t[i].onUpdate(function () { r.update() }.bind(r)); (function (n) { t[n].onConfigure(function () { u(this.element)[0].style.width = t[n].width + "px" }.bind(r)) })(i) } }, build: function () { var t, u = this.element, r = jQuery, i = this, n = this.graphs || this.graph; n.constructor !== Array && (n = [n]); this.graph = n[0]; t = n[0].dataDomain(); r(function () { r(u).slider({ range: !0, min: t[0], max: t[1], values: [t[0], t[1]], start: function (n, t) { i.slideStarted({ event: n, ui: t }) }, stop: function (n, t) { i.slideFinished({ event: n, ui: t }) }, slide: function (t, r) { if (i.slideShouldUpdate(t, r) && !(r.values[1] <= r.values[0])) for (var u = 0; u < n.length; u++)i.processSlideChange({ event: t, ui: r, graph: n[u] }) } }) }); n[0].onConfigure(function () { r(this.element)[0].style.width = n[0].width + "px" }.bind(this)) }, update: function () { var n = this.element, r = this.graph, t = jQuery, u = t(n).slider("option", "values"), i = r.dataDomain(); t(n).slider("option", "min", i[0]); t(n).slider("option", "max", i[1]); r.window.xMin == null && (u[0] = i[0]); r.window.xMax == null && (u[1] = i[1]); t(n).slider("option", "values", u) }, onSlide: function (n) { this.slideCallbacks.push(n) }, processSlideChange: function (n) { var u = n.event, i = n.ui, t = n.graph, r; t.window.xMin = i.values[0]; t.window.xMax = i.values[1]; t.update(); r = t.dataDomain(); r[0] == i.values[0] && (t.window.xMin = undefined); r[1] == i.values[1] && (t.window.xMax = undefined); this.slideCallbacks.forEach(function (n) { n(t, t.window.xMin, t.window.xMax) }) }, slideShouldUpdate: function () { return !0 }, slideStarted: function () { return }, slideFinished: function () { return } }), t.namespace("Rickshaw.Graph.RangeSlider.Preview"), t.Graph.RangeSlider.Preview = t.Class.create({ initialize: function (t) { if (!t.element) throw "Rickshaw.Graph.RangeSlider.Preview needs a reference to an element"; if (!t.graph && !t.graphs) throw "Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs"; if (this.element = t.element, this.element.style.position = "relative", this.graphs = t.graph ? [t.graph] : t.graphs, this.defaults = { height: 75, width: 400, gripperColor: undefined, frameTopThickness: 3, frameHandleThickness: 10, frameColor: "#d4d4d4", frameOpacity: 1, minimumFrameWidth: 0, heightRatio: .2 }, this.heightRatio = t.heightRatio || this.defaults.heightRatio, this.defaults.gripperColor = n.rgb(this.defaults.frameColor).darker().toString(), this.configureCallbacks = [], this.slideCallbacks = [], this.previews = [], t.width || (this.widthFromGraph = !0), t.height || (this.heightFromGraph = !0), this.widthFromGraph || this.heightFromGraph) this.graphs[0].onConfigure(function () { this.configure(t); this.render() }.bind(this)); t.width = t.width || this.graphs[0].width || this.defaults.width; t.height = t.height || this.graphs[0].height * this.heightRatio || this.defaults.height; this.configure(t); this.render() }, onSlide: function (n) { this.slideCallbacks.push(n) }, onConfigure: function (n) { this.configureCallbacks.push(n) }, configure: function (n) { this.config = this.config || {}; this.configureCallbacks.forEach(function (t) { t(n) }); t.keys(this.defaults).forEach(function (t) { this.config[t] = t in n ? n[t] : t in this.config ? this.config[t] : this.defaults[t] }, this); ("width" in n || "height" in n) && (this.widthFromGraph && (this.config.width = this.graphs[0].width), this.heightFromGraph && (this.config.height = this.graphs[0].height * this.heightRatio, this.previewHeight = this.config.height), this.previews.forEach(function (n) { var t = this.previewHeight / this.graphs.length - this.config.frameTopThickness * 2, i = this.config.width - this.config.frameHandleThickness * 2, r, u; n.setSize({ width: i, height: t }); this.svg && (r = t + this.config.frameHandleThickness * 2, u = i + this.config.frameHandleThickness * 2, this.svg.style("width", u + "px"), this.svg.style("height", r + "px")) }, this)) }, render: function () { var i = this; this.svg = n.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]); this.previewHeight = this.config.height - this.config.frameTopThickness * 2; this.previewWidth = this.config.width - this.config.frameHandleThickness * 2; this.currentFrame = [0, this.previewWidth]; var s = function (n) { var u = t.extend({}, n.config), f = i.previewHeight / i.graphs.length, e = n.renderer.name, r; t.extend(u, { element: this.appendChild(document.createElement("div")), height: f, width: i.previewWidth, series: n.series, renderer: e }); r = new t.Graph(u); i.previews.push(r); n.onUpdate(function () { r.render(); i.render() }); n.onConfigure(function (n) { delete n.height; n.width = n.width - i.config.frameHandleThickness * 2; r.configure(n); r.render() }); r.render() }, e = n.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs), r = "translate(" + this.config.frameHandleThickness + "px, " + this.config.frameTopThickness + "px)"; e.enter().append("div").classed("rickshaw_range_slider_preview_container", !0).style("-webkit-transform", r).style("-moz-transform", r).style("-ms-transform", r).style("transform", r).each(s); e.exit().remove(); var f = this.graphs[0], o = n.scale.linear().domain([0, this.previewWidth]).range(f.dataDomain()), u = [f.window.xMin, f.window.xMax]; this.currentFrame[0] = u[0] === undefined ? 0 : Math.round(o.invert(u[0])); this.currentFrame[0] < 0 && (this.currentFrame[0] = 0); this.currentFrame[1] = u[1] === undefined ? this.previewWidth : o.invert(u[1]); this.currentFrame[1] - this.currentFrame[0] < i.config.minimumFrameWidth && (this.currentFrame[1] = (this.currentFrame[0] || 0) + i.config.minimumFrameWidth); this.svg.enter().append("svg").classed("rickshaw_range_slider_preview", !0).style("height", this.config.height + "px").style("width", this.config.width + "px").style("position", "absolute").style("top", 0); this._renderDimming(); this._renderFrame(); this._renderGrippers(); this._renderHandles(); this._renderMiddle(); this._registerMouseEvents() }, _renderDimming: function () { var t = this.svg.selectAll("path.dimming").data([null]), n; t.enter().append("path").attr("fill", "white").attr("fill-opacity", "0.7").attr("fill-rule", "evenodd").classed("dimming", !0); n = ""; n += " M " + this.config.frameHandleThickness + " " + this.config.frameTopThickness; n += " h " + this.previewWidth; n += " v " + this.previewHeight; n += " h " + -this.previewWidth; n += " z "; n += " M " + Math.max(this.currentFrame[0], this.config.frameHandleThickness) + " " + this.config.frameTopThickness; n += " H " + Math.min(this.currentFrame[1] + this.config.frameHandleThickness * 2, this.previewWidth + this.config.frameHandleThickness); n += " v " + this.previewHeight; n += " H " + Math.max(this.currentFrame[0], this.config.frameHandleThickness); n += " z"; t.attr("d", n) }, _renderFrame: function () { var t = this.svg.selectAll("path.frame").data([null]), n; t.enter().append("path").attr("stroke", "white").attr("stroke-width", "1px").attr("stroke-linejoin", "round").attr("fill", this.config.frameColor).attr("fill-opacity", this.config.frameOpacity).attr("fill-rule", "evenodd").classed("frame", !0); n = ""; n += " M " + this.currentFrame[0] + " 0"; n += " H " + (this.currentFrame[1] + this.config.frameHandleThickness * 2); n += " V " + this.config.height; n += " H " + this.currentFrame[0]; n += " z"; n += " M " + (this.currentFrame[0] + this.config.frameHandleThickness) + " " + this.config.frameTopThickness; n += " H " + (this.currentFrame[1] + this.config.frameHandleThickness); n += " v " + this.previewHeight; n += " H " + (this.currentFrame[0] + this.config.frameHandleThickness); n += " z"; t.attr("d", n) }, _renderGrippers: function () { var t = this.svg.selectAll("path.gripper").data([null]), n; t.enter().append("path").attr("stroke", this.config.gripperColor).classed("gripper", !0); n = "";[.4, .6].forEach(function (t) { n += " M " + Math.round(this.currentFrame[0] + this.config.frameHandleThickness * t) + " " + Math.round(this.config.height * .3); n += " V " + Math.round(this.config.height * .7); n += " M " + Math.round(this.currentFrame[1] + this.config.frameHandleThickness * (1 + t)) + " " + Math.round(this.config.height * .3); n += " V " + Math.round(this.config.height * .7) }.bind(this)); t.attr("d", n) }, _renderHandles: function () { var t = this.svg.selectAll("rect.left_handle").data([null]), n; t.enter().append("rect").attr("width", this.config.frameHandleThickness).style("cursor", "ew-resize").style("fill-opacity", "0").classed("left_handle", !0); t.attr("x", this.currentFrame[0]).attr("height", this.config.height); n = this.svg.selectAll("rect.right_handle").data([null]); n.enter().append("rect").attr("width", this.config.frameHandleThickness).style("cursor", "ew-resize").style("fill-opacity", "0").classed("right_handle", !0); n.attr("x", this.currentFrame[1] + this.config.frameHandleThickness).attr("height", this.config.height) }, _renderMiddle: function () { var n = this.svg.selectAll("rect.middle_handle").data([null]); n.enter().append("rect").style("cursor", "move").style("fill-opacity", "0").classed("middle_handle", !0); n.attr("width", Math.max(0, this.currentFrame[1] - this.currentFrame[0])).attr("x", this.currentFrame[0] + this.config.frameHandleThickness).attr("height", this.config.height) }, _registerMouseEvents: function () { function e() { var e; t.stop = i._getClientXFromEvent(n.event, t); var f = t.stop - t.start, r = i.frameBeforeDrag.slice(0), u = i.config.minimumFrameWidth; t.rigid && (u = i.frameBeforeDrag[1] - i.frameBeforeDrag[0]); t.left && (r[0] = Math.max(r[0] + f, 0)); t.right && (r[1] = Math.min(r[1] + f, i.previewWidth)); e = r[1] - r[0]; e <= u && (t.left && (r[0] = r[1] - u), t.right && (r[1] = r[0] + u), r[0] <= 0 && (r[1] -= r[0], r[0] = 0), r[1] >= i.previewWidth && (r[0] -= r[1] - i.previewWidth, r[1] = i.previewWidth)); i.graphs.forEach(function (t) { var f = n.scale.linear().interpolate(n.interpolateNumber).domain([0, i.previewWidth]).range(t.dataDomain()), u = [f(r[0]), f(r[1])]; i.slideCallbacks.forEach(function (n) { n(t, u[0], u[1]) }); r[0] === 0 && (u[0] = undefined); r[1] === i.previewWidth && (u[1] = undefined); t.window.xMin = u[0]; t.window.xMax = u[1]; t.update() }) } function u() { t.target = n.event.target; t.start = i._getClientXFromEvent(n.event, t); i.frameBeforeDrag = i.currentFrame.slice(); n.event.preventDefault ? n.event.preventDefault() : n.event.returnValue = !1; n.select(document).on("mousemove.rickshaw_range_slider_preview", e); n.select(document).on("mouseup.rickshaw_range_slider_preview", f); n.select(document).on("touchmove.rickshaw_range_slider_preview", e); n.select(document).on("touchend.rickshaw_range_slider_preview", f); n.select(document).on("touchcancel.rickshaw_range_slider_preview", f) } function o() { t.left = !0; u() } function s() { t.right = !0; u() } function h() { t.left = !0; t.right = !0; t.rigid = !0; u() } function f() { n.select(document).on("mousemove.rickshaw_range_slider_preview", null); n.select(document).on("mouseup.rickshaw_range_slider_preview", null); n.select(document).on("touchmove.rickshaw_range_slider_preview", null); n.select(document).on("touchend.rickshaw_range_slider_preview", null); n.select(document).on("touchcancel.rickshaw_range_slider_preview", null); delete i.frameBeforeDrag; t.left = !1; t.right = !1; t.rigid = !1 } var r = n.select(this.element), t = { target: null, start: null, stop: null, left: !1, right: !1, rigid: !1 }, i = this; r.select("rect.left_handle").on("mousedown", o); r.select("rect.right_handle").on("mousedown", s); r.select("rect.middle_handle").on("mousedown", h); r.select("rect.left_handle").on("touchstart", o); r.select("rect.right_handle").on("touchstart", s); r.select("rect.middle_handle").on("touchstart", h) }, _getClientXFromEvent: function (n, t) { var r, u, i; switch (n.type) { case "touchstart": case "touchmove": for (r = n.changedTouches, u = null, i = 0; i < r.length; i++)if (r[i].target === t.target) { u = r[i]; break } return u !== null ? u.clientX : undefined; default: return n.clientX } } }), t.namespace("Rickshaw.Graph.Renderer"), t.Graph.Renderer = t.Class.create({ initialize: function (n) { this.graph = n.graph; this.tension = n.tension || this.tension; this.configure(n) }, seriesPathFactory: function () { }, seriesStrokeFactory: function () { }, defaults: function () { return { tension: .8, strokeWidth: 2, unstack: !0, padding: { top: .01, right: 0, bottom: .01, left: 0 }, stroke: !1, fill: !1, opacity: 1 } }, domain: function (n) { var f = n || this.graph.stackedData || this.graph.stackData(); f = f.filter(function (n) { return n && n.length !== 0 }); var r = +Infinity, u = -Infinity, t = +Infinity, i = -Infinity; return f.forEach(function (n) { (n.forEach(function (n) { if (n.y != null) { var r = n.y + n.y0; r < t && (t = r); r > i && (i = r) } }), n.length) && (n[0].x < r && (r = n[0].x), n[n.length - 1].x > u && (u = n[n.length - 1].x)) }), r -= (u - r) * this.padding.left, u += (u - r) * this.padding.right, t = this.graph.min === "auto" ? t : this.graph.min || 0, i = this.graph.max === undefined ? i : this.graph.max, (this.graph.min === "auto" || t < 0) && (t -= (i - t) * this.padding.bottom), this.graph.max === undefined && (i += (i - t) * this.padding.top), { x: [r, u], y: [t, i] } }, render: function (n) { var r, e, o, t; n = n || {}; var u = this.graph, f = n.series || u.series, i = n.vis || u.vis; i.selectAll("*").remove(); r = f.filter(function (n) { return !n.disabled }).map(function (n) { return n.stack }); e = i.selectAll("path.path").data(r).enter().append("svg:path").classed("path", !0).attr("d", this.seriesPathFactory()); this.stroke && (o = i.selectAll("path.stroke").data(r).enter().append("svg:path").classed("stroke", !0).attr("d", this.seriesStrokeFactory())); t = 0; f.forEach(function (n) { n.disabled || (n.path = e[0][t], this.stroke && (n.stroke = o[0][t]), this._styleSeries(n), t++) }, this) }, _styleSeries: function (t) { var i = this.fill ? t.color : "none", r = this.stroke ? t.color : "none", u = t.strokeWidth ? t.strokeWidth : this.strokeWidth, f = t.opacity ? t.opacity : this.opacity; t.path.setAttribute("fill", i); t.path.setAttribute("stroke", r); t.path.setAttribute("stroke-width", u); t.path.setAttribute("opacity", f); t.className && n.select(t.path).classed(t.className, !0); t.className && this.stroke && n.select(t.stroke).classed(t.className, !0) }, configure: function (n) { n = n || {}; t.keys(this.defaults()).forEach(function (i) { if (!n.hasOwnProperty(i)) { this[i] = this[i] || this.graph[i] || this.defaults()[i]; return } typeof this.defaults()[i] == "object" ? t.keys(this.defaults()[i]).forEach(function (t) { this[i][t] = n[i][t] !== undefined ? n[i][t] : this[i][t] !== undefined ? this[i][t] : this.defaults()[i][t] }, this) : this[i] = n[i] !== undefined ? n[i] : this[i] !== undefined ? this[i] : this.graph[i] !== undefined ? this.graph[i] : this.defaults()[i] }, this) }, setStrokeWidth: function (n) { n !== undefined && (this.strokeWidth = n) }, setTension: function (n) { n !== undefined && (this.tension = n) } }), t.namespace("Rickshaw.Graph.Renderer.Line"), t.Graph.Renderer.Line = t.Class.create(t.Graph.Renderer, { name: "line", defaults: function ($super) { return t.extend($super(), { unstack: !0, fill: !1, stroke: !0 }) }, seriesPathFactory: function () { var i = this.graph, t = n.svg.line().x(function (n) { return i.x(n.x) }).y(function (n) { return i.y(n.y) }).interpolate(this.graph.interpolation).tension(this.tension); return t.defined && t.defined(function (n) { return n.y !== null }), t } }), t.namespace("Rickshaw.Graph.Renderer.Stack"), t.Graph.Renderer.Stack = t.Class.create(t.Graph.Renderer, { name: "stack", defaults: function ($super) { return t.extend($super(), { fill: !0, stroke: !1, unstack: !1 }) }, seriesPathFactory: function () { var t = this.graph, i = n.svg.area().x(function (n) { return t.x(n.x) }).y0(function (n) { return t.y(n.y0) }).y1(function (n) { return t.y(n.y + n.y0) }).interpolate(this.graph.interpolation).tension(this.tension); return i.defined && i.defined(function (n) { return n.y !== null }), i } }), t.namespace("Rickshaw.Graph.Renderer.Bar"), t.Graph.Renderer.Bar = t.Class.create(t.Graph.Renderer, { name: "bar", defaults: function ($super) { var n = t.extend($super(), { gapSize: .05, unstack: !1, opacity: 1 }); return delete n.tension, n }, initialize: function ($super, n) { n = n || {}; this.gapSize = n.gapSize || this.gapSize; $super(n) }, domain: function ($super) { var n = $super(), t = this._frequentInterval(this.graph.stackedData.slice(-1).shift()); return n.x[1] += Number(t.magnitude), n }, barWidth: function (n) { var t = this._frequentInterval(n.stack); return this.graph.x.magnitude(t.magnitude) * (1 - this.gapSize) }, render: function (n) { n = n || {}; var t = this.graph, i = n.series || t.series, r = n.vis || t.vis; r.selectAll("*").remove(); var u = this.barWidth(i.active()[0]), f = 0, o = i.filter(function (n) { return !n.disabled }).length, e = this.unstack ? u / o : u, s = function (n) { var i = [1, 0, 0, n.y < 0 ? -1 : 1, 0, n.y < 0 ? t.y.magnitude(Math.abs(n.y)) * 2 : 0]; return "matrix(" + i.join(",") + ")" }; i.forEach(function (n) { if (!n.disabled) { var u = this.barWidth(n), i = r.selectAll("path").data(n.stack.filter(function (n) { return n.y !== null })).enter().append("svg:rect").attr("x", function (n) { return t.x(n.x) + f }).attr("y", function (n) { return t.y(n.y0 + Math.abs(n.y)) * (n.y < 0 ? -1 : 1) }).attr("width", e).attr("height", function (n) { return t.y.magnitude(Math.abs(n.y)) }).attr("opacity", n.opacity).attr("transform", s); Array.prototype.forEach.call(i[0], function (t) { t.setAttribute("fill", n.color) }); this.unstack && (f += e) } }, this) }, _frequentInterval: function (n) { for (var i = {}, u, f, e, r = 0; r < n.length - 1; r++)u = n[r + 1].x - n[r].x, i[u] = i[u] || 0, i[u]++; return f = { count: 0, magnitude: 1 }, e = t.keys(i).sort(function (n, t) { return Number(n) - Number(t) }), e.forEach(function (n) { f.count < i[n] && (f = { count: i[n], magnitude: n }) }), f } }), t.namespace("Rickshaw.Graph.Renderer.Area"), t.Graph.Renderer.Area = t.Class.create(t.Graph.Renderer, { name: "area", defaults: function ($super) { return t.extend($super(), { unstack: !1, fill: !1, stroke: !1 }) }, seriesPathFactory: function () { var t = this.graph, i = n.svg.area().x(function (n) { return t.x(n.x) }).y0(function (n) { return t.y(n.y0) }).y1(function (n) { return t.y(n.y + n.y0) }).interpolate(t.interpolation).tension(this.tension); return i.defined && i.defined(function (n) { return n.y !== null }), i }, seriesStrokeFactory: function () { var t = this.graph, i = n.svg.line().x(function (n) { return t.x(n.x) }).y(function (n) { return t.y(n.y + n.y0) }).interpolate(t.interpolation).tension(this.tension); return i.defined && i.defined(function (n) { return n.y !== null }), i }, render: function (n) { var f; n = n || {}; var i = this.graph, r = n.series || i.series, u = n.vis || i.vis; u.selectAll("*").remove(); var e = this.unstack ? "append" : "insert", o = r.filter(function (n) { return !n.disabled }).map(function (n) { return n.stack }), t = u.selectAll("path").data(o).enter()[e]("svg:g", "g"); t.append("svg:path").attr("d", this.seriesPathFactory()).attr("class", "area"); this.stroke && t.append("svg:path").attr("d", this.seriesStrokeFactory()).attr("class", "line"); f = 0; r.forEach(function (n) { n.disabled || (n.path = t[0][f++], this._styleSeries(n)) }, this) }, _styleSeries: function (t) { t.path && (n.select(t.path).select(".area").attr("fill", t.color), this.stroke && n.select(t.path).select(".line").attr("fill", "none").attr("stroke", t.stroke || n.interpolateRgb(t.color, "black")(.125)).attr("stroke-width", this.strokeWidth), t.className && t.path.setAttribute("class", t.className)) } }), t.namespace("Rickshaw.Graph.Renderer.ScatterPlot"), t.Graph.Renderer.ScatterPlot = t.Class.create(t.Graph.Renderer, { name: "scatterplot", defaults: function ($super) { return t.extend($super(), { unstack: !0, fill: !0, stroke: !1, padding: { top: .01, right: .01, bottom: .01, left: .01 }, dotSize: 4 }) }, initialize: function ($super, n) { $super(n) }, render: function (n) { n = n || {}; var t = this.graph, r = n.series || t.series, i = n.vis || t.vis, u = this.dotSize; i.selectAll("*").remove(); r.forEach(function (n) { if (!n.disabled) { var f = n.opacity ? n.opacity : 1, r = i.selectAll("path").data(n.stack.filter(function (n) { return n.y !== null })).enter().append("svg:circle").attr("cx", function (n) { return t.x(n.x) }).attr("cy", function (n) { return t.y(n.y) }).attr("r", function (n) { return "r" in n ? n.r : u }).attr("opacity", function (n) { return "opacity" in n ? n.opacity : f }); n.className && r.classed(n.className, !0); Array.prototype.forEach.call(r[0], function (t) { t.setAttribute("fill", n.color) }) } }, this) } }), t.namespace("Rickshaw.Graph.Renderer.Multi"), t.Graph.Renderer.Multi = t.Class.create(t.Graph.Renderer, { name: "multi", initialize: function ($super, n) { $super(n) }, defaults: function ($super) { return t.extend($super(), { unstack: !0, fill: !1, stroke: !0 }) }, configure: function ($super, n) { n = n || {}; this.config = n; $super(n) }, domain: function ($super) { var t, i; this.graph.stackData(); t = []; i = this._groups(); this._stack(i); i.forEach(function (n) { var i = n.series.filter(function (n) { return !n.disabled }).map(function (n) { return n.stack }), r; i.length && (r = null, r = n.renderer && n.renderer.domain ? n.renderer.domain(i) : $super(i), t.push(r)) }); var r = n.min(t.map(function (n) { return n.x[0] })), u = n.max(t.map(function (n) { return n.x[1] })), f = n.min(t.map(function (n) { return n.y[0] })), e = n.max(t.map(function (n) { return n.y[1] })); return { x: [r, u], y: [f, e] } }, _groups: function () { var r = this.graph, i = {}, u; return r.series.forEach(function (u) { var o, f; if (!u.disabled) { if (!i[u.renderer]) { o = "http://www.w3.org/2000/svg"; f = document.createElementNS(o, "g"); r.vis[0][0].appendChild(f); var e = r._renderers[u.renderer], s = {}, h = [this.defaults(), e.defaults(), this.config, this.graph]; h.forEach(function (n) { t.extend(s, n) }); e.configure(s); i[u.renderer] = { renderer: e, series: [], vis: n.select(f) } } i[u.renderer].series.push(u) } }, this), u = [], Object.keys(i).forEach(function (n) { var t = i[n]; u.push(t) }), u }, _stack: function (i) { return i.forEach(function (i) { var r = i.series.filter(function (n) { return !n.disabled }), e = r.map(function (n) { return n.stack }), u, f; i.renderer.unstack || (u = n.layout.stack(), f = t.clone(u(e)), r.forEach(function (n, i) { n._stack = t.clone(f[i]) })) }, this), i }, render: function () { this.graph.series.forEach(function (n) { if (!n.renderer) throw new Error("Each series needs a renderer for graph 'multi' renderer"); }); this.graph.vis.selectAll("*").remove(); var n = this._groups(); n = this._stack(n); n.forEach(function (n) { var t = n.series.filter(function (n) { return !n.disabled }); t.active = function () { return t }; n.renderer.render({ series: t, vis: n.vis }); t.forEach(function (n) { n.stack = n._stack || n.stack || n.data }) }) } }), t.namespace("Rickshaw.Graph.Renderer.LinePlot"), t.Graph.Renderer.LinePlot = t.Class.create(t.Graph.Renderer, { name: "lineplot", defaults: function ($super) { return t.extend($super(), { unstack: !0, fill: !1, stroke: !0, padding: { top: .01, right: .01, bottom: .01, left: .01 }, dotSize: 3, strokeWidth: 2 }) }, seriesPathFactory: function () { var i = this.graph, t = n.svg.line().x(function (n) { return i.x(n.x) }).y(function (n) { return i.y(n.y) }).interpolate(this.graph.interpolation).tension(this.tension); return t.defined && t.defined(function (n) { return n.y !== null }), t }, render: function (n) { n = n || {}; var t = this.graph, i = n.series || t.series, r = n.vis || t.vis, u = this.dotSize; r.selectAll("*").remove(); var f = i.filter(function (n) { return !n.disabled }).map(function (n) { return n.stack }), e = r.selectAll("path").data(f).enter().append("svg:path").attr("d", this.seriesPathFactory()), o = 0; i.forEach(function (n) { n.disabled || (n.path = e[0][o++], this._styleSeries(n)) }, this); i.forEach(function (n) { if (!n.disabled) { var i = r.selectAll("x").data(n.stack.filter(function (n) { return n.y !== null })).enter().append("svg:circle").attr("cx", function (n) { return t.x(n.x) }).attr("cy", function (n) { return t.y(n.y) }).attr("r", function (n) { return "r" in n ? n.r : u }); Array.prototype.forEach.call(i[0], function (t) { t && (t.setAttribute("data-color", n.color), t.setAttribute("fill", "white"), t.setAttribute("stroke", n.color), t.setAttribute("stroke-width", this.strokeWidth)) }.bind(this)) } }, this) } }), t.namespace("Rickshaw.Graph.Smoother"), t.Graph.Smoother = t.Class.create({ initialize: function (n) { this.graph = n.graph; this.element = n.element; this.aggregationScale = 1; this.build(); this.graph.stackData.hooks.data.push({ name: "smoother", orderPosition: 50, f: this.transformer.bind(this) }) }, build: function () { var n = this, t = jQuery; this.element && t(function () { t(n.element).slider({ min: 1, max: 100, slide: function (t, i) { n.setScale(i.value) } }) }) }, setScale: function (n) { if (n < 1) throw "scale out of range: " + n; this.aggregationScale = n; this.graph.update() }, transformer: function (n) { if (this.aggregationScale == 1) return n; var t = []; return n.forEach(function (n) { for (var r = []; n.length;) { var u = 0, f = 0, i = n.splice(0, this.aggregationScale); i.forEach(function (n) { u += n.x / i.length; f += n.y / i.length }); r.push({ x: u, y: f }) } t.push(r) }.bind(this)), t } }), t.namespace("Rickshaw.Graph.Socketio"), t.Graph.Socketio = t.Class.create(t.Graph.Ajax, { request: function () { var n = io.connect(this.dataURL), t = this; n.on("rickshaw", function (n) { t.success(n) }) } }), t.namespace("Rickshaw.Series"), t.Series = t.Class.create(Array, { initialize: function (n, i, r) { r = r || {}; this.palette = new t.Color.Palette(i); this.timeBase = typeof r.timeBase == "undefined" ? Math.floor((new Date).getTime() / 1e3) : r.timeBase; var u = typeof r.timeInterval == "undefined" ? 1e3 : r.timeInterval; this.setTimeInterval(u); n && typeof n == "object" && Array.isArray(n) && n.forEach(function (n) { this.addItem(n) }, this) }, addItem: function (n) { if (typeof n.name == "undefined") throw "addItem() needs a name"; n.color = n.color || this.palette.color(n.name); n.data = n.data || []; n.data.length === 0 && this.length && this.getIndex() > 0 ? this[0].data.forEach(function (t) { n.data.push({ x: t.x, y: 0 }) }) : n.data.length === 0 && n.data.push({ x: this.timeBase - (this.timeInterval || 0), y: 0 }); this.push(n); this.legend && this.legend.addLine(this.itemByName(n.name)) }, addData: function (n, i) { var r = this.getIndex(); t.keys(n).forEach(function (n) { this.itemByName(n) || this.addItem({ name: n }) }, this); this.forEach(function (t) { t.data.push({ x: i || (r * this.timeInterval || 1) + this.timeBase, y: n[t.name] || 0 }) }, this) }, getIndex: function () { return this[0] && this[0].data && this[0].data.length ? this[0].data.length : 0 }, itemByName: function (n) { for (var t = 0; t < this.length; t++)if (this[t].name == n) return this[t] }, setTimeInterval: function (n) { this.timeInterval = n / 1e3 }, setTimeBase: function (n) { this.timeBase = n }, dump: function () { var n = { timeBase: this.timeBase, timeInterval: this.timeInterval, items: [] }; return this.forEach(function (t) { var i = { color: t.color, name: t.name, data: [] }; t.data.forEach(function (n) { i.data.push({ x: n.x, y: n.y }) }); n.items.push(i) }), n }, load: function (n) { n.timeInterval && (this.timeInterval = n.timeInterval); n.timeBase && (this.timeBase = n.timeBase); n.items && n.items.forEach(function (n) { this.push(n); this.legend && this.legend.addLine(this.itemByName(n.name)) }, this) } }), t.Series.zeroFill = function (n) { t.Series.fill(n, 0) }, t.Series.fill = function (n, t) { for (var r, i = 0, u = n.map(function (n) { return n.data }); i < Math.max.apply(null, u.map(function (n) { return n.length }));)r = Math.min.apply(null, u.filter(function (n) { return n[i] }).map(function (n) { return n[i].x })), u.forEach(function (n) { n[i] && n[i].x == r || n.splice(i, 0, { x: r, y: t }) }), i++ }, t.namespace("Rickshaw.Series.FixedDuration"), t.Series.FixedDuration = t.Class.create(t.Series, { initialize: function (n, i, r) { if (r = r || {}, typeof r.timeInterval == "undefined") throw new Error("FixedDuration series requires timeInterval"); if (typeof r.maxDataPoints == "undefined") throw new Error("FixedDuration series requires maxDataPoints"); if (this.palette = new t.Color.Palette(i), this.timeBase = typeof r.timeBase == "undefined" ? Math.floor((new Date).getTime() / 1e3) : r.timeBase, this.setTimeInterval(r.timeInterval), this[0] && this[0].data && this[0].data.length ? (this.currentSize = this[0].data.length, this.currentIndex = this[0].data.length) : (this.currentSize = 0, this.currentIndex = 0), this.maxDataPoints = r.maxDataPoints, n && typeof n == "object" && Array.isArray(n) && (n.forEach(function (n) { this.addItem(n) }, this), this.currentSize += 1, this.currentIndex += 1), this.timeBase -= (this.maxDataPoints - this.currentSize) * this.timeInterval, typeof this.maxDataPoints != "undefined" && this.currentSize < this.maxDataPoints) for (var u = this.maxDataPoints - this.currentSize - 1; u > 1; u--)this.currentSize += 1, this.currentIndex += 1, this.forEach(function (n) { n.data.unshift({ x: ((u - 1) * this.timeInterval || 1) + this.timeBase, y: 0, i: u }) }, this) }, addData: function ($super, n, t) { if ($super(n, t), this.currentSize += 1, this.currentIndex += 1, this.maxDataPoints !== undefined) while (this.currentSize > this.maxDataPoints) this.dropData() }, dropData: function () { this.forEach(function (n) { n.data.splice(0, 1) }); this.currentSize -= 1 }, getIndex: function () { return this.currentIndex } }), t }), function (n, t) { typeof exports == "object" ? module.exports = t() : typeof define == "function" && define.amd ? define(["jquery", "googlemaps!"], t) : n.GMaps = t() }(this, function () { var t = function (n, t) { var i; if (n === t) return n; for (i in t) t[i] !== undefined && (n[i] = t[i]); return n }, a = function (n, t) { var i; if (n === t) return n; for (i in t) n[i] != undefined && (n[i] = t[i]); return n }, o = function (n, t) { var u = Array.prototype.slice.call(arguments, 2), r = [], f = n.length, i; if (Array.prototype.map && n.map === Array.prototype.map) r = Array.prototype.map.call(n, function (n) { var i = u.slice(0); return i.splice(0, 0, n), t.apply(this, i) }); else for (i = 0; i < f; i++)callback_params = u, callback_params.splice(0, 0, n[i]), r.push(t.apply(this, callback_params)); return r }, s = function (n) { for (var i = [], t = 0; t < n.length; t++)i = i.concat(n[t]); return i }, h = function (n, t) { var i = n[0], r = n[1]; return t && (i = n[1], r = n[0]), new google.maps.LatLng(i, r) }, u = function (n, t) { for (var i = 0; i < n.length; i++)n[i] instanceof google.maps.LatLng || (n[i] = n[i].length > 0 && typeof n[i][0] == "object" ? u(n[i], t) : h(n[i], t)); return n }, c = function (n, t) { var i = n.replace(".", ""); return "jQuery" in this && t ? $("." + i, t)[0] : document.getElementsByClassName(i)[0] }, i = function (n, t) { var n = n.replace("#", ""); return "jQuery" in window && t ? $("#" + n, t)[0] : document.getElementById(n) }, l = function (n) { var t = 0, i = 0; if (n.getBoundingClientRect) { var r = n.getBoundingClientRect(), u = -(window.scrollX ? window.scrollX : window.pageXOffset), f = -(window.scrollY ? window.scrollY : window.pageYOffset); return [r.left - u, r.top - f] } if (n.offsetParent) do t += n.offsetLeft, i += n.offsetTop; while (n = n.offsetParent); return [t, i] }, n = function () { "use strict"; var n = document, r = function (u) { var d, g, o, s, w, b; if (!(typeof window.google == "object" && window.google.maps)) return typeof window.console == "object" && window.console.error && console.error("Google Maps API is required. Please register the following JavaScript library https://maps.googleapis.com/maps/api/js."), function () { }; if (!this) return new r(u); u.zoom = u.zoom || 15; u.mapType = u.mapType || "roadmap"; var h = function (n, t) { return n === undefined ? t : n }, e = this, f, a = ["bounds_changed", "center_changed", "click", "dblclick", "drag", "dragend", "dragstart", "idle", "maptypeid_changed", "projection_changed", "resize", "tilesloaded", "zoom_changed"], v = ["mousemove", "mouseout", "mouseover"], nt = ["el", "lat", "lng", "mapType", "width", "height", "markerClusterer", "enableNewStyle"], y = u.el || u.div, tt = u.markerClusterer, ut = google.maps.MapTypeId[u.mapType.toUpperCase()], ft = new google.maps.LatLng(u.lat, u.lng), et = h(u.zoomControl, !0), it = u.zoomControlOpt || { style: "DEFAULT", position: "TOP_LEFT" }, ot = it.style || "DEFAULT", st = it.position || "TOP_LEFT", ht = h(u.panControl, !0), ct = h(u.mapTypeControl, !0), lt = h(u.scaleControl, !0), at = h(u.streetViewControl, !0), rt = h(rt, !0), p = {}, k = { zoom: this.zoom, center: ft, mapTypeId: ut }, vt = { panControl: ht, zoomControl: et, zoomControlOptions: { style: google.maps.ZoomControlStyle[ot], position: google.maps.ControlPosition[st] }, mapTypeControl: ct, scaleControl: lt, streetViewControl: at, overviewMapControl: rt }; if (this.el = typeof u.el == "string" || typeof u.div == "string" ? y.indexOf("#") > -1 ? i(y, u.context) : c.apply(this, [y, u.context]) : y, typeof this.el == "undefined" || this.el === null) throw "No element defined."; for (window.context_menu = window.context_menu || {}, window.context_menu[e.el.id] = {}, this.controls = [], this.overlays = [], this.layers = [], this.singleLayers = {}, this.markers = [], this.polylines = [], this.routes = [], this.polygons = [], this.infoWindow = null, this.overlay_el = null, this.zoom = u.zoom, this.registered_events = {}, this.el.style.width = u.width || this.el.scrollWidth || this.el.offsetWidth, this.el.style.height = u.height || this.el.scrollHeight || this.el.offsetHeight, google.maps.visualRefresh = u.enableNewStyle, f = 0; f < nt.length; f++)delete u[nt[f]]; for (u.disableDefaultUI != !0 && (k = t(k, vt)), p = t(k, u), f = 0; f < a.length; f++)delete p[a[f]]; for (f = 0; f < v.length; f++)delete p[v[f]]; for (this.map = new google.maps.Map(this.el, p), tt && (this.markerClusterer = tt.apply(this, [this.map])), d = function (n, t) { var h = "", f = window.context_menu[e.el.id][n], c, u, o, a, r, s, v; for (r in f) f.hasOwnProperty(r) && (c = f[r], h += '<li><a id="' + n + "_" + r + '" href="#">' + c.title + "<\/a><\/li>"); if (i("gmaps_context_menu")) { for (u = i("gmaps_context_menu"), u.innerHTML = h, o = u.getElementsByTagName("a"), a = o.length, r = 0; r < a; r++)s = o[r], v = function (i) { i.preventDefault(); f[this.id.replace(n + "_", "")].action.apply(e, [t]); e.hideContextMenu() }, google.maps.event.clearListeners(s, "click"), google.maps.event.addDomListenerOnce(s, "click", v, !1); var y = l.apply(this, [e.el]), p = y[0] + t.pixel.x - 15, w = y[1] + t.pixel.y - 15; u.style.left = p + "px"; u.style.top = w + "px" } }, this.buildContextMenu = function (n, t) { var r, u; n === "marker" ? (t.pixel = {}, r = new google.maps.OverlayView, r.setMap(e.map), r.draw = function () { var i = r.getProjection(), u = t.marker.getPosition(); t.pixel = i.fromLatLngToContainerPixel(u); d(n, t) }) : d(n, t); u = i("gmaps_context_menu"); setTimeout(function () { u.style.display = "block" }, 0) }, this.setContextMenu = function (t) { var f, r, u, o; window.context_menu[e.el.id][t.control] = {}; r = n.createElement("ul"); for (f in t.options) t.options.hasOwnProperty(f) && (u = t.options[f], window.context_menu[e.el.id][t.control][u.name] = { title: u.title, action: u.action }); r.id = "gmaps_context_menu"; r.style.display = "none"; r.style.position = "absolute"; r.style.minWidth = "100px"; r.style.background = "white"; r.style.listStyle = "none"; r.style.padding = "8px"; r.style.boxShadow = "2px 2px 6px #ccc"; i("gmaps_context_menu") || n.body.appendChild(r); o = i("gmaps_context_menu"); google.maps.event.addDomListener(o, "mouseout", function (n) { n.relatedTarget && this.contains(n.relatedTarget) || window.setTimeout(function () { o.style.display = "none" }, 400) }, !1) }, this.hideContextMenu = function () { var n = i("gmaps_context_menu"); n && (n.style.display = "none") }, g = function (n, t) { google.maps.event.addListener(n, t, function (n) { n == undefined && (n = this); u[t].apply(this, [n]); e.hideContextMenu() }) }, google.maps.event.addListener(this.map, "zoom_changed", this.hideContextMenu), o = 0; o < a.length; o++)s = a[o], s in u && g(this.map, s); for (o = 0; o < v.length; o++)s = v[o], s in u && g(this.map, s); google.maps.event.addListener(this.map, "rightclick", function (n) { u.rightclick && u.rightclick.apply(this, [n]); window.context_menu[e.el.id].map != undefined && e.buildContextMenu("map", n) }); this.refresh = function () { google.maps.event.trigger(this.map, "resize") }; this.fitZoom = function () { for (var t = [], i = this.markers.length, n = 0; n < i; n++)typeof this.markers[n].visible == "boolean" && this.markers[n].visible && t.push(this.markers[n].getPosition()); this.fitLatLngBounds(t) }; this.fitLatLngBounds = function (n) { for (var r = n.length, i = new google.maps.LatLngBounds, t = 0; t < r; t++)i.extend(n[t]); this.map.fitBounds(i) }; this.setCenter = function (n, t, i) { this.map.panTo(new google.maps.LatLng(n, t)); i && i() }; this.getElement = function () { return this.el }; this.zoomIn = function (n) { n = n || 1; this.zoom = this.map.getZoom() + n; this.map.setZoom(this.zoom) }; this.zoomOut = function (n) { n = n || 1; this.zoom = this.map.getZoom() - n; this.map.setZoom(this.zoom) }; w = []; for (b in this.map) typeof this.map[b] != "function" || this[b] || w.push(b); for (f = 0; f < w.length; f++)(function (n, t, i) { n[i] = function () { return t[i].apply(t, arguments) } })(this, this.map, w[f]) }; return r }(this), r, f; return n.prototype.createControl = function (n) { var t = document.createElement("div"), i, r; t.style.cursor = "pointer"; n.disableDefaultStyles !== !0 && (t.style.fontFamily = "Roboto, Arial, sans-serif", t.style.fontSize = "11px", t.style.boxShadow = "rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px"); for (i in n.style) t.style[i] = n.style[i]; n.id && (t.id = n.id); n.title && (t.title = n.title); n.classes && (t.className = n.classes); n.content && (typeof n.content == "string" ? t.innerHTML = n.content : n.content instanceof HTMLElement && t.appendChild(n.content)); n.position && (t.position = google.maps.ControlPosition[n.position.toUpperCase()]); for (r in n.events) (function (t, i) { google.maps.event.addDomListener(t, i, function () { n.events[i].apply(this, [this]) }) })(t, r); return t.index = 1, t }, n.prototype.addControl = function (n) { var t = this.createControl(n); return this.controls.push(t), this.map.controls[t.position].push(t), t }, n.prototype.removeControl = function (n) { for (var r = null, i, t = 0; t < this.controls.length; t++)this.controls[t] == n && (r = this.controls[t].position, this.controls.splice(t, 1)); if (r) for (t = 0; t < this.map.controls.length; t++)if (i = this.map.controls[n.position], i.getAt(t) == n) { i.removeAt(t); break } return n }, n.prototype.createMarker = function (n) { var i, e, o, s, r; if (n.lat == undefined && n.lng == undefined && n.position == undefined) throw "No latitude or longitude defined."; var u = this, h = n.details, c = n.fences, l = n.outside, a = { position: new google.maps.LatLng(n.lat, n.lng), map: null }, f = t(a, n); if (delete f.lat, delete f.lng, delete f.fences, delete f.outside, i = new google.maps.Marker(f), i.fences = c, n.infoWindow) for (i.infoWindow = new google.maps.InfoWindow(n.infoWindow), e = ["closeclick", "content_changed", "domready", "position_changed", "zindex_changed"], r = 0; r < e.length; r++)(function (t, i) { n.infoWindow[i] && google.maps.event.addListener(t, i, function (t) { n.infoWindow[i].apply(this, [t]) }) })(i.infoWindow, e[r]); for (o = ["animation_changed", "clickable_changed", "cursor_changed", "draggable_changed", "flat_changed", "icon_changed", "position_changed", "shadow_changed", "shape_changed", "title_changed", "visible_changed", "zindex_changed"], s = ["dblclick", "drag", "dragend", "dragstart", "mousedown", "mouseout", "mouseover", "mouseup"], r = 0; r < o.length; r++)(function (t, i) { n[i] && google.maps.event.addListener(t, i, function () { n[i].apply(this, [this]) }) })(i, o[r]); for (r = 0; r < s.length; r++)(function (t, i, r) { n[r] && google.maps.event.addListener(i, r, function (i) { i.pixel || (i.pixel = t.getProjection().fromLatLngToPoint(i.latLng)); n[r].apply(this, [i]) }) })(this.map, i, s[r]); return google.maps.event.addListener(i, "click", function () { this.details = h; n.click && n.click.apply(this, [this]); i.infoWindow && (u.hideInfoWindows(), i.infoWindow.open(u.map, i)) }), google.maps.event.addListener(i, "rightclick", function (t) { t.marker = this; n.rightclick && n.rightclick.apply(this, [t]); window.context_menu[u.el.id].marker != undefined && u.buildContextMenu("marker", t) }), i.fences && google.maps.event.addListener(i, "dragend", function () { u.checkMarkerGeofence(i, function (n, t) { l(n, t) }) }), i }, n.prototype.addMarker = function (t) { var i; if (t.hasOwnProperty("gm_accessors_")) i = t; else if (t.hasOwnProperty("lat") && t.hasOwnProperty("lng") || t.position) i = this.createMarker(t); else throw "No latitude or longitude defined."; return i.setMap(this.map), this.markerClusterer && this.markerClusterer.addMarker(i), this.markers.push(i), n.fire("marker_added", i, this), i }, n.prototype.addMarkers = function (n) { for (var t = 0, i; i = n[t]; t++)this.addMarker(i); return this.markers }, n.prototype.hideInfoWindows = function () { for (var t = 0, n; n = this.markers[t]; t++)n.infoWindow && n.infoWindow.close() }, n.prototype.removeMarker = function (t) { for (var i = 0; i < this.markers.length; i++)if (this.markers[i] === t) { this.markers[i].setMap(null); this.markers.splice(i, 1); this.markerClusterer && this.markerClusterer.removeMarker(t); n.fire("marker_removed", t, this); break } return t }, n.prototype.removeMarkers = function (t) { var u = [], f, i, r; if (typeof t == "undefined") { for (i = 0; i < this.markers.length; i++)r = this.markers[i], r.setMap(null), n.fire("marker_removed", r, this); this.markerClusterer && this.markerClusterer.clearMarkers && this.markerClusterer.clearMarkers(); this.markers = u } else { for (i = 0; i < t.length; i++)f = this.markers.indexOf(t[i]), f > -1 && (r = this.markers[f], r.setMap(null), this.markerClusterer && this.markerClusterer.removeMarker(r), n.fire("marker_removed", r, this)); for (i = 0; i < this.markers.length; i++)r = this.markers[i], r.getMap() != null && u.push(r); this.markers = u } }, n.prototype.drawOverlay = function (n) { var t = new google.maps.OverlayView, i = !0; return t.setMap(this.map), n.auto_show != null && (i = n.auto_show), t.onAdd = function () { var i = document.createElement("div"), r; i.style.borderStyle = "none"; i.style.borderWidth = "0px"; i.style.position = "absolute"; i.style.zIndex = 100; i.innerHTML = n.content; t.el = i; n.layer || (n.layer = "overlayLayer"); var u = this.getPanes(), e = u[n.layer], f = ["contextmenu", "DOMMouseScroll", "dblclick", "mousedown"]; for (e.appendChild(i), r = 0; r < f.length; r++)(function (n, t) { google.maps.event.addDomListener(n, t, function (n) { navigator.userAgent.toLowerCase().indexOf("msie") != -1 && document.all ? (n.cancelBubble = !0, n.returnValue = !1) : n.stopPropagation() }) })(i, f[r]); n.click && (u.overlayMouseTarget.appendChild(t.el), google.maps.event.addDomListener(t.el, "click", function () { n.click.apply(t, [t]) })); google.maps.event.trigger(this, "ready") }, t.draw = function () { var s = this.getProjection(), u = s.fromLatLngToDivPixel(new google.maps.LatLng(n.lat, n.lng)); n.horizontalOffset = n.horizontalOffset || 0; n.verticalOffset = n.verticalOffset || 0; var r = t.el, f = r.children[0], e = f.clientHeight, o = f.clientWidth; switch (n.verticalAlign) { case "top": r.style.top = u.y - e + n.verticalOffset + "px"; break; default: case "middle": r.style.top = u.y - e / 2 + n.verticalOffset + "px"; break; case "bottom": r.style.top = u.y + n.verticalOffset + "px" }switch (n.horizontalAlign) { case "left": r.style.left = u.x - o + n.horizontalOffset + "px"; break; default: case "center": r.style.left = u.x - o / 2 + n.horizontalOffset + "px"; break; case "right": r.style.left = u.x + n.horizontalOffset + "px" }r.style.display = i ? "block" : "none"; i || n.show.apply(this, [r]) }, t.onRemove = function () { var i = t.el; n.remove ? n.remove.apply(this, [i]) : (t.el.parentNode.removeChild(t.el), t.el = null) }, this.overlays.push(t), t }, n.prototype.removeOverlay = function (n) { for (var t = 0; t < this.overlays.length; t++)if (this.overlays[t] === n) { this.overlays[t].setMap(null); this.overlays.splice(t, 1); break } }, n.prototype.removeOverlays = function () { for (var n = 0, t; t = this.overlays[n]; n++)t.setMap(null); this.overlays = [] }, n.prototype.drawPolyline = function (t) { var e = [], u = t.path, o, s, i, r, h, f; if (u.length) if (u[0][0] === undefined) e = u; else for (o = 0; s = u[o]; o++)e.push(new google.maps.LatLng(s[0], s[1])); for (i = { map: this.map, path: e, strokeColor: t.strokeColor, strokeOpacity: t.strokeOpacity, strokeWeight: t.strokeWeight, geodesic: t.geodesic, clickable: !0, editable: !1, visible: !0 }, t.hasOwnProperty("clickable") && (i.clickable = t.clickable), t.hasOwnProperty("editable") && (i.editable = t.editable), t.hasOwnProperty("icons") && (i.icons = t.icons), t.hasOwnProperty("zIndex") && (i.zIndex = t.zIndex), r = new google.maps.Polyline(i), h = ["click", "dblclick", "mousedown", "mousemove", "mouseout", "mouseover", "mouseup", "rightclick"], f = 0; f < h.length; f++)(function (n, i) { t[i] && google.maps.event.addListener(n, i, function (n) { t[i].apply(this, [n]) }) })(r, h[f]); return this.polylines.push(r), n.fire("polyline_added", r, this), r }, n.prototype.removePolyline = function (t) { for (var i = 0; i < this.polylines.length; i++)if (this.polylines[i] === t) { this.polylines[i].setMap(null); this.polylines.splice(i, 1); n.fire("polyline_removed", t, this); break } }, n.prototype.removePolylines = function () { for (var n = 0, t; t = this.polylines[n]; n++)t.setMap(null); this.polylines = [] }, n.prototype.drawCircle = function (n) { var i, u, r; for (n = t({ map: this.map, center: new google.maps.LatLng(n.lat, n.lng) }, n), delete n.lat, delete n.lng, i = new google.maps.Circle(n), u = ["click", "dblclick", "mousedown", "mousemove", "mouseout", "mouseover", "mouseup", "rightclick"], r = 0; r < u.length; r++)(function (t, i) { n[i] && google.maps.event.addListener(t, i, function (t) { n[i].apply(this, [t]) }) })(i, u[r]); return this.polygons.push(i), i }, n.prototype.drawRectangle = function (n) { var f, i, u, r; for (n = t({ map: this.map }, n), f = new google.maps.LatLngBounds(new google.maps.LatLng(n.bounds[0][0], n.bounds[0][1]), new google.maps.LatLng(n.bounds[1][0], n.bounds[1][1])), n.bounds = f, i = new google.maps.Rectangle(n), u = ["click", "dblclick", "mousedown", "mousemove", "mouseout", "mouseover", "mouseup", "rightclick"], r = 0; r < u.length; r++)(function (t, i) { n[i] && google.maps.event.addListener(t, i, function (t) { n[i].apply(this, [t]) }) })(i, u[r]); return this.polygons.push(i), i }, n.prototype.drawPolygon = function (i) { var e = !1, r, h, f; for (i.hasOwnProperty("useGeoJSON") && (e = i.useGeoJSON), delete i.useGeoJSON, i = t({ map: this.map }, i), e == !1 && (i.paths = [i.paths.slice(0)]), i.paths.length > 0 && i.paths[0].length > 0 && (i.paths = s(o(i.paths, u, e))), r = new google.maps.Polygon(i), h = ["click", "dblclick", "mousedown", "mousemove", "mouseout", "mouseover", "mouseup", "rightclick"], f = 0; f < h.length; f++)(function (n, t) { i[t] && google.maps.event.addListener(n, t, function (n) { i[t].apply(this, [n]) }) })(r, h[f]); return this.polygons.push(r), n.fire("polygon_added", r, this), r }, n.prototype.removePolygon = function (t) { for (var i = 0; i < this.polygons.length; i++)if (this.polygons[i] === t) { this.polygons[i].setMap(null); this.polygons.splice(i, 1); n.fire("polygon_removed", t, this); break } }, n.prototype.removePolygons = function () { for (var n = 0, t; t = this.polygons[n]; n++)t.setMap(null); this.polygons = [] }, n.prototype.getFromFusionTables = function (n) { var i = n.events, r, t, u; delete n.events; r = n; t = new google.maps.FusionTablesLayer(r); for (u in i) (function (n, t) { google.maps.event.addListener(n, t, function (n) { i[t].apply(this, [n]) }) })(t, u); return this.layers.push(t), t }, n.prototype.loadFromFusionTables = function (n) { var t = this.getFromFusionTables(n); return t.setMap(this.map), t }, n.prototype.getFromKML = function (n) { var f = n.url, i = n.events, r, t, u; delete n.url; delete n.events; r = n; t = new google.maps.KmlLayer(f, r); for (u in i) (function (n, t) { google.maps.event.addListener(n, t, function (n) { i[t].apply(this, [n]) }) })(t, u); return this.layers.push(t), t }, n.prototype.loadFromKML = function (n) { var t = this.getFromKML(n); return t.setMap(this.map), t }, n.prototype.addLayer = function (n, t) { var i, r, u; t = t || {}; switch (n) { case "weather": this.singleLayers.weather = i = new google.maps.weather.WeatherLayer; break; case "clouds": this.singleLayers.clouds = i = new google.maps.weather.CloudLayer; break; case "traffic": this.singleLayers.traffic = i = new google.maps.TrafficLayer; break; case "transit": this.singleLayers.transit = i = new google.maps.TransitLayer; break; case "bicycling": this.singleLayers.bicycling = i = new google.maps.BicyclingLayer; break; case "panoramio": this.singleLayers.panoramio = i = new google.maps.panoramio.PanoramioLayer; i.setTag(t.filter); delete t.filter; t.click && google.maps.event.addListener(i, "click", function (n) { t.click(n); delete t.click }); break; case "places": this.singleLayers.places = i = new google.maps.places.PlacesService(this.map); (t.search || t.nearbySearch || t.radarSearch) && (r = { bounds: t.bounds || null, keyword: t.keyword || null, location: t.location || null, name: t.name || null, radius: t.radius || null, rankBy: t.rankBy || null, types: t.types || null }, t.radarSearch && i.radarSearch(r, t.radarSearch), t.search && i.search(r, t.search), t.nearbySearch && i.nearbySearch(r, t.nearbySearch)); t.textSearch && (u = { bounds: t.bounds || null, location: t.location || null, query: t.query || null, radius: t.radius || null }, i.textSearch(u, t.textSearch)) }if (i !== undefined) return typeof i.setOptions == "function" && i.setOptions(t), typeof i.setMap == "function" && i.setMap(this.map), i }, n.prototype.removeLayer = function (n) { if (typeof n == "string" && this.singleLayers[n] !== undefined) this.singleLayers[n].setMap(null), delete this.singleLayers[n]; else for (var t = 0; t < this.layers.length; t++)if (this.layers[t] === n) { this.layers[t].setMap(null); this.layers.splice(t, 1); break } }, n.prototype.getRoutes = function (n) { var u, i; switch (n.travelMode) { case "bicycling": r = google.maps.TravelMode.BICYCLING; break; case "transit": r = google.maps.TravelMode.TRANSIT; break; case "driving": r = google.maps.TravelMode.DRIVING; break; default: r = google.maps.TravelMode.WALKING }f = n.unitSystem === "imperial" ? google.maps.UnitSystem.IMPERIAL : google.maps.UnitSystem.METRIC; u = { avoidHighways: !1, avoidTolls: !1, optimizeWaypoints: !1, waypoints: [] }; i = t(u, n); i.origin = /string/.test(typeof n.origin) ? n.origin : new google.maps.LatLng(n.origin[0], n.origin[1]); i.destination = /string/.test(typeof n.destination) ? n.destination : new google.maps.LatLng(n.destination[0], n.destination[1]); i.travelMode = r; i.unitSystem = f; delete i.callback; delete i.error; var s = this, e = [], o = new google.maps.DirectionsService; o.route(i, function (t, i) { if (i === google.maps.DirectionsStatus.OK) { for (var r in t.routes) t.routes.hasOwnProperty(r) && e.push(t.routes[r]); n.callback && n.callback(e, t, i) } else n.error && n.error(t, i) }) }, n.prototype.removeRoutes = function () { this.routes.length = 0 }, n.prototype.getElevations = function (n) { var i, r, f; n = t({ locations: [], path: !1, samples: 256 }, n); n.locations.length > 0 && n.locations[0].length > 0 && (n.locations = s(o([n.locations], u, !1))); i = n.callback; delete n.callback; r = new google.maps.ElevationService; n.path ? (f = { path: n.locations, samples: n.samples }, r.getElevationAlongPath(f, function (n, t) { i && typeof i == "function" && i(n, t) })) : (delete n.path, delete n.samples, r.getElevationForLocations(n, function (n, t) { i && typeof i == "function" && i(n, t) })) }, n.prototype.cleanRoute = n.prototype.removePolylines, n.prototype.renderRoute = function (n, i) { var f = this, u = typeof i.panel == "string" ? document.getElementById(i.panel.replace("#", "")) : i.panel, r; i.panel = u; i = t({ map: this.map }, i); r = new google.maps.DirectionsRenderer(i); this.getRoutes({ origin: n.origin, destination: n.destination, travelMode: n.travelMode, waypoints: n.waypoints, unitSystem: n.unitSystem, error: n.error, avoidHighways: n.avoidHighways, avoidTolls: n.avoidTolls, optimizeWaypoints: n.optimizeWaypoints, callback: function (n, t, i) { i === google.maps.DirectionsStatus.OK && r.setDirections(t) } }) }, n.prototype.drawRoute = function (n) { var t = this; this.getRoutes({ origin: n.origin, destination: n.destination, travelMode: n.travelMode, waypoints: n.waypoints, unitSystem: n.unitSystem, error: n.error, avoidHighways: n.avoidHighways, avoidTolls: n.avoidTolls, optimizeWaypoints: n.optimizeWaypoints, callback: function (i) { if (i.length > 0) { var r = { path: i[i.length - 1].overview_path, strokeColor: n.strokeColor, strokeOpacity: n.strokeOpacity, strokeWeight: n.strokeWeight }; n.hasOwnProperty("icons") && (r.icons = n.icons); t.drawPolyline(r); n.callback && n.callback(i[i.length - 1]) } } }) }, n.prototype.travelRoute = function (n) { var r, t, i; if (n.origin && n.destination) this.getRoutes({ origin: n.origin, destination: n.destination, travelMode: n.travelMode, waypoints: n.waypoints, unitSystem: n.unitSystem, error: n.error, callback: function (t) { var i, f, r, u; if (t.length > 0 && n.start && n.start(t[t.length - 1]), t.length > 0 && n.step && (i = t[t.length - 1], i.legs.length > 0)) for (f = i.legs[0].steps, r = 0; u = f[r]; r++)u.step_number = r, n.step(u, i.legs[0].steps.length - 1); t.length > 0 && n.end && n.end(t[t.length - 1]) } }); else if (n.route && n.route.legs.length > 0) for (r = n.route.legs[0].steps, t = 0; i = r[t]; t++)i.step_number = t, n.step(i) }, n.prototype.drawSteppedRoute = function (n) { var u = this, f, t, i, r; if (n.origin && n.destination) this.getRoutes({ origin: n.origin, destination: n.destination, travelMode: n.travelMode, waypoints: n.waypoints, error: n.error, callback: function (t) { var i, o, r, f, e; if (t.length > 0 && n.start && n.start(t[t.length - 1]), t.length > 0 && n.step && (i = t[t.length - 1], i.legs.length > 0)) for (o = i.legs[0].steps, r = 0; f = o[r]; r++)f.step_number = r, e = { path: f.path, strokeColor: n.strokeColor, strokeOpacity: n.strokeOpacity, strokeWeight: n.strokeWeight }, n.hasOwnProperty("icons") && (e.icons = n.icons), u.drawPolyline(e), n.step(f, i.legs[0].steps.length - 1); t.length > 0 && n.end && n.end(t[t.length - 1]) } }); else if (n.route && n.route.legs.length > 0) for (f = n.route.legs[0].steps, t = 0; i = f[t]; t++)i.step_number = t, r = { path: i.path, strokeColor: n.strokeColor, strokeOpacity: n.strokeOpacity, strokeWeight: n.strokeWeight }, n.hasOwnProperty("icons") && (r.icons = n.icons), u.drawPolyline(r), n.step(i) }, n.Route = function (n) { this.origin = n.origin; this.destination = n.destination; this.waypoints = n.waypoints; this.map = n.map; this.route = n.route; this.step_count = 0; this.steps = this.route.legs[0].steps; this.steps_length = this.steps.length; var t = { path: new google.maps.MVCArray, strokeColor: n.strokeColor, strokeOpacity: n.strokeOpacity, strokeWeight: n.strokeWeight }; n.hasOwnProperty("icons") && (t.icons = n.icons); this.polyline = this.map.drawPolyline(t).getPath() }, n.Route.prototype.getRoute = function (n) { var t = this; this.map.getRoutes({ origin: this.origin, destination: this.destination, travelMode: n.travelMode, waypoints: this.waypoints || [], error: n.error, callback: function () { t.route = e[0]; n.callback && n.callback.call(t) } }) }, n.Route.prototype.back = function () { var n, t; if (this.step_count > 0) { this.step_count--; n = this.route.legs[0].steps[this.step_count].path; for (t in n) n.hasOwnProperty(t) && this.polyline.pop() } }, n.Route.prototype.forward = function () { var n, t; if (this.step_count < this.steps_length) { n = this.route.legs[0].steps[this.step_count].path; for (t in n) n.hasOwnProperty(t) && this.polyline.push(n[t]); this.step_count++ } }, n.prototype.checkGeofence = function (n, t, i) { return i.containsLatLng(new google.maps.LatLng(n, t)) }, n.prototype.checkMarkerGeofence = function (n, t) { var i, r, u; if (n.fences) for (i = 0; r = n.fences[i]; i++)u = n.getPosition(), this.checkGeofence(u.lat(), u.lng(), r) || t(n, r) }, n.prototype.toImage = function (t) { var t = t || {}, i = {}, r, u; if (i.size = t.size || [this.el.clientWidth, this.el.clientHeight], i.lat = this.getCenter().lat(), i.lng = this.getCenter().lng(), this.markers.length > 0) for (i.markers = [], r = 0; r < this.markers.length; r++)i.markers.push({ lat: this.markers[r].getPosition().lat(), lng: this.markers[r].getPosition().lng() }); return this.polylines.length > 0 && (u = this.polylines[0], i.polyline = {}, i.polyline.path = google.maps.geometry.encoding.encodePath(u.getPath()), i.polyline.strokeColor = u.strokeColor, i.polyline.strokeOpacity = u.strokeOpacity, i.polyline.strokeWeight = u.strokeWeight), n.staticMapURL(i) }, n.staticMapURL = function (n) { function g(n, t) { if (n[0] === "#" && (n = n.replace("#", "0x"), t)) { if (t = parseFloat(t), t = Math.min(1, Math.max(t, 0)), t === 0) return "0x00000000"; t = (t * 255).toString(16); t.length === 1 && (t += t); n = n.slice(0, 8) + t } return n } var i = [], t, p = (location.protocol === "file:" ? "http:" : location.protocol) + "//maps.googleapis.com/maps/api/staticmap", c, e, f, k, h, d, u, w, s, r, l, a, v, b, nt, tt, y, o, it, rt; n.url && (p = n.url, delete n.url); p += "?"; c = n.markers; delete n.markers; !c && n.marker && (c = [n.marker], delete n.marker); e = n.styles; delete n.styles; f = n.polyline; delete n.polyline; n.center ? (i.push("center=" + n.center), delete n.center) : n.address ? (i.push("center=" + n.address), delete n.address) : n.lat ? (i.push(["center=", n.lat, ",", n.lng].join("")), delete n.lat, delete n.lng) : n.visible && (k = encodeURI(n.visible.join("|")), i.push("visible=" + k)); h = n.size; h ? (h.join && (h = h.join("x")), delete n.size) : h = "630x300"; i.push("size=" + h); n.zoom || n.zoom === !1 || (n.zoom = 15); d = n.hasOwnProperty("sensor") ? !!n.sensor : !0; delete n.sensor; i.push("sensor=" + d); for (s in n) n.hasOwnProperty(s) && i.push(s + "=" + n[s]); if (c) for (r = 0; t = c[r]; r++) { u = []; t.size && t.size !== "normal" ? (u.push("size:" + t.size), delete t.size) : t.icon && (u.push("icon:" + encodeURI(t.icon)), delete t.icon); t.color && (u.push("color:" + t.color.replace("#", "0x")), delete t.color); t.label && (u.push("label:" + t.label[0].toUpperCase()), delete t.label); w = t.address ? t.address : t.lat + "," + t.lng; delete t.address; delete t.lat; delete t.lng; for (s in t) t.hasOwnProperty(s) && u.push(s + ":" + t[s]); u.length || r === 0 ? (u.push(w), u = u.join("|"), i.push("markers=" + encodeURI(u))) : (u = i.pop() + encodeURI("|" + w), i.push(u)) } if (e) for (r = 0; r < e.length; r++) { for (l = [], e[r].featureType && l.push("feature:" + e[r].featureType.toLowerCase()), e[r].elementType && l.push("element:" + e[r].elementType.toLowerCase()), o = 0; o < e[r].stylers.length; o++)for (a in e[r].stylers[o]) v = e[r].stylers[o][a], (a == "hue" || a == "color") && (v = "0x" + v.substring(1)), l.push(a + ":" + v); b = l.join("|"); b != "" && i.push("style=" + b) } if (f) { if (t = f, f = [], t.strokeWeight && f.push("weight:" + parseInt(t.strokeWeight, 10)), t.strokeColor && (nt = g(t.strokeColor, t.strokeOpacity), f.push("color:" + nt)), t.fillColor && (tt = g(t.fillColor, t.fillOpacity), f.push("fillcolor:" + tt)), y = t.path, y.join) for (o = 0; it = y[o]; o++)f.push(it.join(",")); else f.push("enc:" + y); f = f.join("|"); i.push("path=" + encodeURI(f)) } return rt = window.devicePixelRatio || 1, i.push("scale=" + rt), i = i.join("&"), p + i }, n.prototype.addMapType = function (n, t) { if (t.hasOwnProperty("getTileUrl") && typeof t.getTileUrl == "function") { t.tileSize = t.tileSize || new google.maps.Size(256, 256); var i = new google.maps.ImageMapType(t); this.map.mapTypes.set(n, i) } else throw "'getTileUrl' function required."; }, n.prototype.addOverlayMapType = function (n) { if (n.hasOwnProperty("getTile") && typeof n.getTile == "function") { var t = n.index; delete n.index; this.map.overlayMapTypes.insertAt(t, n) } else throw "'getTile' function required."; }, n.prototype.removeOverlayMapType = function (n) { this.map.overlayMapTypes.removeAt(n) }, n.prototype.addStyle = function (n) { var t = new google.maps.StyledMapType(n.styles, { name: n.styledMapName }); this.map.mapTypes.set(n.mapTypeId, t) }, n.prototype.setStyle = function (n) { this.map.setMapTypeId(n) }, n.prototype.createPanorama = function (t) { return t.hasOwnProperty("lat") && t.hasOwnProperty("lng") || (t.lat = this.getCenter().lat(), t.lng = this.getCenter().lng()), this.panorama = n.createPanorama(t), this.map.setStreetView(this.panorama), this.panorama }, n.createPanorama = function (n) { var o = i(n.el, n.context), u, f, e, r; for (n.position = new google.maps.LatLng(n.lat, n.lng), delete n.el, delete n.context, delete n.lat, delete n.lng, u = ["closeclick", "links_changed", "pano_changed", "position_changed", "pov_changed", "resize", "visible_changed"], f = t({ visible: !0 }, n), r = 0; r < u.length; r++)delete f[u[r]]; for (e = new google.maps.StreetViewPanorama(o, f), r = 0; r < u.length; r++)(function (t, i) { n[i] && google.maps.event.addListener(t, i, function () { n[i].apply(this) }) })(e, u[r]); return e }, n.prototype.on = function (t, i) { return n.on(t, this, i) }, n.prototype.off = function (t) { n.off(t, this) }, n.prototype.once = function (t, i) { return n.once(t, this, i) }, n.custom_events = ["marker_added", "marker_removed", "polyline_added", "polyline_removed", "polygon_added", "polygon_removed", "geolocated", "geolocation_failed"], n.on = function (t, i, r) { if (n.custom_events.indexOf(t) == -1) return i instanceof n && (i = i.map), google.maps.event.addListener(i, t, r); var u = { handler: r, eventName: t }; return i.registered_events[t] = i.registered_events[t] || [], i.registered_events[t].push(u), u }, n.off = function (t, i) { n.custom_events.indexOf(t) == -1 ? (i instanceof n && (i = i.map), google.maps.event.clearListeners(i, t)) : i.registered_events[t] = [] }, n.once = function (t, i, r) { if (n.custom_events.indexOf(t) == -1) return i instanceof n && (i = i.map), google.maps.event.addListenerOnce(i, t, r) }, n.fire = function (t, i, r) { var f, u; if (n.custom_events.indexOf(t) == -1) google.maps.event.trigger(i, t, Array.prototype.slice.apply(arguments).slice(2)); else if (t in r.registered_events) for (f = r.registered_events[t], u = 0; u < f.length; u++)(function (n, t, i) { n.apply(t, [i]) })(f[u].handler, r, i) }, n.geolocate = function (n) { var t = n.always || n.complete; navigator.geolocation ? navigator.geolocation.getCurrentPosition(function (i) { n.success(i); t && t() }, function (i) { n.error(i); t && t() }, n.options) : (n.not_supported(), t && t()) }, n.geocode = function (n) { this.geocoder = new google.maps.Geocoder; var t = n.callback; n.hasOwnProperty("lat") && n.hasOwnProperty("lng") && (n.latLng = new google.maps.LatLng(n.lat, n.lng)); delete n.lat; delete n.lng; delete n.callback; this.geocoder.geocode(n, function (n, i) { t(n, i) }) }, typeof window.google == "object" && window.google.maps && (google.maps.Polygon.prototype.getBounds || (google.maps.Polygon.prototype.getBounds = function () { for (var r = new google.maps.LatLngBounds, u = this.getPaths(), i, t, n = 0; n < u.getLength(); n++)for (i = u.getAt(n), t = 0; t < i.getLength(); t++)r.extend(i.getAt(t)); return r }), google.maps.Polygon.prototype.containsLatLng || (google.maps.Polygon.prototype.containsLatLng = function (n) { var o = this.getBounds(), u, s, f, i, t, r; if (o !== null && !o.contains(n)) return !1; for (u = !1, s = this.getPaths().getLength(), f = 0; f < s; f++) { var e = this.getPaths().getAt(f), h = e.getLength(), c = h - 1; for (i = 0; i < h; i++)t = e.getAt(i), r = e.getAt(c), (t.lng() < n.lng() && r.lng() >= n.lng() || r.lng() < n.lng() && t.lng() >= n.lng()) && t.lat() + (n.lng() - t.lng()) / (r.lng() - t.lng()) * (r.lat() - t.lat()) < n.lat() && (u = !u), c = i } return u }), google.maps.Circle.prototype.containsLatLng || (google.maps.Circle.prototype.containsLatLng = function (n) { return google.maps.geometry ? google.maps.geometry.spherical.computeDistanceBetween(this.getCenter(), n) <= this.getRadius() : !0 }), google.maps.Rectangle.prototype.containsLatLng = function (n) { return this.getBounds().contains(n) }, google.maps.LatLngBounds.prototype.containsLatLng = function (n) { return this.contains(n) }, google.maps.Marker.prototype.setFences = function (n) { this.fences = n }, google.maps.Marker.prototype.addFence = function (n) { this.fences.push(n) }, google.maps.Marker.prototype.getId = function () { return this.__gm_id }), Array.prototype.indexOf || (Array.prototype.indexOf = function (n) { "use strict"; var u, r, t, i; if (this == null) throw new TypeError; if ((u = Object(this), r = u.length >>> 0, r === 0) || (t = 0, arguments.length > 1 && (t = Number(arguments[1]), t != t ? t = 0 : t != 0 && t != Infinity && t != -Infinity && (t = (t > 0 || -1) * Math.floor(Math.abs(t)))), t >= r)) return -1; for (i = t >= 0 ? t : Math.max(r - Math.abs(t), 0); i < r; i++)if (i in u && u[i] === n) return i; return -1 }), n }), function (n, t, i, r) { var u = n.fn.peity = function (t, i) { return s && this.each(function () { var f = n(this), r = f.data("_peity"); r ? (t && (r.type = t), n.extend(r.opts, i)) : (r = new o(f, t, n.extend({}, u.defaults[t], f.data("peity"), i)), f.change(function () { r.draw() }).data("_peity", r)); r.draw() }), this }, o = function (n, t, i) { this.$el = n; this.type = t; this.opts = i }, e = o.prototype, f = e.svgElement = function (i, r) { return n(t.createElementNS("http://www.w3.org/2000/svg", i)).attr(r) }, s = "createElementNS" in t && f("svg", {})[0].createSVGRect; e.draw = function () { var n = this.opts; u.graphers[this.type].call(this, n); n.after && n.after.call(this, n) }; e.fill = function () { var t = this.opts.fill; return n.isFunction(t) ? t : function (n, i) { return t[i % t.length] } }; e.prepare = function (n, t) { return this.$svg || this.$el.hide().after(this.$svg = f("svg", { "class": "peity" })), this.$svg.empty().data("_peity", this).attr({ height: t, width: n }) }; e.values = function () { return n.map(this.$el.text().split(this.opts.delimiter), function (n) { return parseFloat(n) }) }; u.defaults = {}; u.graphers = {}; u.register = function (n, t, i) { this.defaults[n] = t; this.graphers[n] = i }; u.register("pie", { fill: ["#ff9900", "#fff4dd", "#ffc66e"], radius: 8 }, function (t) { var b, u, k, tt, s, a, v, nt, y; t.delimiter || (b = this.$el.text().match(/[^0-9\.]/), t.delimiter = b ? b[0] : ","); u = n.map(this.values(), function (n) { return n > 0 ? n : 0 }); t.delimiter == "/" && (k = u[0], tt = u[1], u = [k, i.max(0, tt - k)]); for (var o = 0, d = u.length, l = 0; o < d; o++)l += u[o]; l || (d = 2, l = 1, u = [0, 1]); var it = t.radius * 2, g = this.prepare(t.width || it, t.height || it), ot = g.width(), st = g.height(), h = ot / 2, c = st / 2, e = i.min(h, c), r = t.innerRadius; this.type != "donut" || r || (r = e * .5); var rt = i.PI, ht = this.fill(), p = this.scale = function (n, t) { var r = n / l * rt * 2 - rt / 2; return [t * i.cos(r) + h, t * i.sin(r) + c] }, w = 0; for (o = 0; o < d; o++)if (s = u[o], a = s / l, a != 0) { if (a == 1) if (r) { var ut = h - .01, ft = c - e, et = c - r; v = f("path", { d: ["M", h, ft, "A", e, e, 0, 1, 1, ut, ft, "L", ut, et, "A", r, r, 0, 1, 0, h, et].join(" "), "data-value": s }) } else v = f("circle", { cx: h, cy: c, "data-value": s, r: e }); else nt = w + s, y = ["M"].concat(p(w, e), "A", e, e, 0, a > .5 ? 1 : 0, 1, p(nt, e), "L"), r ? y = y.concat(p(nt, r), "A", r, r, 0, a > .5 ? 1 : 0, 0, p(w, r)) : y.push(h, c), w += s, v = f("path", { d: y.join(" "), "data-value": s }); v.attr("fill", ht.call(this, s, o, u)); g.append(v) } }); u.register("donut", n.extend(!0, {}, u.defaults.pie), function (n) { u.graphers.pie.call(this, n) }); u.register("line", { delimiter: ",", fill: "#c6d9fd", height: 16, min: 0, stroke: "#4d89f9", strokeWidth: 1, width: 32 }, function (n) { var t = this.values(), e; t.length == 1 && t.push(t[0]); var p = i.max.apply(i, n.max == r ? t : t.concat(n.max)), h = i.min.apply(i, n.min == r ? t : t.concat(n.min)), o = this.prepare(n.width, n.height), s = n.strokeWidth, c = o.width(), l = o.height() - s, a = p - h, w = this.x = function (n) { return n * (c / (t.length - 1)) }, v = this.y = function (n) { var t = l; return a && (t -= (n - h) / a * l), t + s / 2 }, y = v(i.max(h, 0)), u = [0, y]; for (e = 0; e < t.length; e++)u.push(w(e), v(t[e])); u.push(c, y); n.fill && o.append(f("polygon", { fill: n.fill, points: u.join(" ") })); s && o.append(f("polyline", { fill: "none", points: u.slice(2, u.length - 2).join(" "), stroke: n.stroke, "stroke-width": s, "stroke-linecap": "square" })) }); u.register("bar", { delimiter: ",", fill: ["#4D89F9"], height: 16, min: 0, padding: .1, width: 32 }, function (n) { for (var t = this.values(), c = i.max.apply(i, n.max == r ? t : t.concat(n.max)), l = i.min.apply(i, n.min == r ? t : t.concat(n.min)), a = this.prepare(n.width, n.height), g = a.width(), y = a.height(), o = c - l, p = n.padding, nt = this.fill(), w = this.x = function (n) { return n * g / t.length }, v = this.y = function (n) { return y - (o ? (n - l) / o * y : 1) }, u = 0; u < t.length; u++) { var b = w(u + p), tt = w(u + 1 - p) - b, s = t[u], k = v(s), h = k, d = k, e; o ? s < 0 ? h = v(i.min(c, 0)) : d = v(i.max(l, 0)) : e = 1; e = d - h; e == 0 && (e = 1, c > 0 && o && h--); a.append(f("rect", { "data-value": s, fill: nt.call(this, s, u, t), x: b, y: h, width: tt, height: e })) } }) }(jQuery, document, Math); $(function () { "use strict"; $(".sidebar-nav-link").on("click", function (n) { var t = $(this).next(); $(this).parent().siblings().find(".sidebar-nav-sub").slideUp(); $(".sub-with-sub ul").slideUp(); t.length && (n.preventDefault(), t.slideToggle()) }); $(".sub-with-sub .nav-sub-link").on("click", function (n) { n.preventDefault(); $(this).parent().siblings().find("ul").slideUp(); $(this).next().slideDown() }); $("#slimSidebarMenu").on("click", function (n) { n.preventDefault(); window.matchMedia("(min-width: 1200px)").matches ? $("body").toggleClass("hide-sidebar") : $("body").toggleClass("show-sidebar") }); $.fn.perfectScrollbar && $(".slim-sidebar").perfectScrollbar({ suppressScrollX: !0 }); $('[data-toggle="tooltip"]').tooltip({ trigger: "hover" }); var i = window.location.pathname, t = i.split("/"), u = t[1].indexOf("rtl") >= 0 ? !0 : !1, r = t[1].indexOf("sidebar") >= 0 ? !0 : !1, n = ""; $("head").append('<link id="headerSkin" rel="stylesheet" href="">'); $.get("../settings.html", function (n) { if ($("body").append(n), $.fn.perfectScrollbar && $(".template-options-inner").perfectScrollbar({ suppressScrollX: !0 }), u ? $('.slim-direction[value="rtl"]').prop("checked", !0) : $('.slim-direction[value="ltr"]').prop("checked", !0), r ? $('.nav-layout[value="vertical"]').prop("checked", !0) : $('.nav-layout[value="horizontal"]').prop("checked", !0), $.cookie("sticky-header") ? ($("body").addClass("slim-sticky-header"), $('.sticky-header[value="yes"]').prop("checked", !0)) : $('.sticky-header[value="no"]').prop("checked", !0), $.cookie("header-skin")) { var t = $.cookie("header-skin"); $("body").addClass(t); $("#headerSkin").attr("href", "../css/slim." + t + ".css"); $('.header-skin[value="' + t + '"]').prop("checked", !0) } else $('.header-skin[value="default"]').prop("checked", !0); $.cookie("full-width") ? ($("body").addClass("slim-full-width"), $('.full-width[value="yes"]').prop("checked", !0)) : $('.full-width[value="no"]').prop("checked", !0); $.cookie("sticky-sidebar") && $(".slim-sidebar").length ? ($("body").addClass("slim-sticky-sidebar"), $('.sticky-sidebar[value="yes"]').prop("checked", !0)) : $('.sticky-sidebar[value="no"]').prop("checked", !0) }); $("body").on("click", ".template-options-btn", function (n) { n.preventDefault(); $(".template-options-wrapper").toggleClass("show") }); $("body").on("click", ".skin-light-mode", function (t) { t.preventDefault(); n = i.replace("template-dark", "template"); r && (n = i.replace("sidebar-dark", "sidebar")); $(location).attr("href", n) }); $("body").on("click", ".skin-dark-mode", function (t) { t.preventDefault(); i.indexOf("template-dark") >= 0 ? n = i : (n = i.replace("template", "template-dark"), r && (n = i.replace("sidebar", "sidebar-dark"))); $(location).attr("href", n) }); $("body").on("click", ".slim-direction", function () { var i = $(this).val(); i === "rtl" ? u || (n = t[2] ? "/" + t[1] + "-rtl/" + t[2] : "/" + t[1] + "-rtl/", $(location).attr("href", n)) : u && (n = t[2] ? "/" + t[1].replace("-rtl", "") + "/" + t[2] : "/" + t[1].replace("-rtl", "") + "/", $(location).attr("href", n)) }); $("body").on("click", ".nav-layout", function () { var u = $(this).val(); u === "vertical" ? r || (n = i.indexOf("-dark") >= 0 ? t[2] ? "/sidebar-dark/" + t[2] : "/sidebar-dark/" : t[2] ? "/sidebar/" + t[2] : "/sidebar/", $(location).attr("href", n)) : r && (n = t[2] ? "/" + t[1].replace("sidebar", "template") + "/" + t[2] : "/" + t[1].replace("sidebar", "template") + "/", $(location).attr("href", n)) }); $("body").on("click", ".sticky-header", function () { var n = $(this).val(); n === "yes" ? ($.cookie("sticky-header", "true"), $("body").addClass("slim-sticky-header")) : ($.removeCookie("sticky-header"), $("body").removeClass("slim-sticky-header")) }); $("body").on("click", ".sticky-sidebar", function () { if ($(".slim-sidebar").length) { var n = $(this).val(); n === "yes" ? ($.cookie("sticky-sidebar", "true"), $("body").addClass("slim-sticky-sidebar")) : ($.removeCookie("sticky-sidebar"), $("body").removeClass("slim-sticky-sidebar")) } else alert("Can only be used when navigation is set to vertical"), $('.sticky-sidebar[value="no"]').prop("checked", !0) }); $("body").on("click", ".header-skin", function () { var n = $(this).val(); n !== "default" ? ($.cookie("header-skin", n), $("#headerSkin").attr("href", "../css/slim." + n + ".css")) : ($.removeCookie("header-skin"), $("#headerSkin").attr("href", "")) }); $("body").on("click", ".full-width", function () { var n = $(this).val(); n === "yes" ? ($.cookie("full-width", "true"), $("body").addClass("slim-full-width")) : ($.removeCookie("full-width"), $("body").removeClass("slim-full-width")) }) }), function (n, t) { typeof define == "function" && define.amd ? define(t) : typeof exports == "object" ? module.exports = t() : n.ResizeSensor = t() }(typeof window != "undefined" ? window : this, function () { function i(n, t) { var i = Object.prototype.toString.call(n), u = "[object Array]" === i || "[object NodeList]" === i || "[object HTMLCollection]" === i || "[object Object]" === i || "undefined" != typeof jQuery && n instanceof jQuery || "undefined" != typeof Elements && n instanceof Elements, r = 0, f = n.length; if (u) for (; r < f; r++)t(n[r]); else t(n) } var t, n; return typeof window == "undefined" ? null : (t = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function (n) { return window.setTimeout(n, 20) }, n = function (r, u) { function f() { var t = [], n, i; this.add = function (n) { t.push(n) }; this.call = function () { for (n = 0, i = t.length; n < i; n++)t[n].call() }; this.remove = function (r) { var u = []; for (n = 0, i = t.length; n < i; n++)t[n] !== r && u.push(t[n]); t = u }; this.length = function () { return t.length } } function e(n, i) { var r, e; if (n) { if (n.resizedAttached) { n.resizedAttached.add(i); return } n.resizedAttached = new f; n.resizedAttached.add(i); n.resizeSensor = document.createElement("div"); n.resizeSensor.className = "resize-sensor"; r = "position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;"; e = "position: absolute; left: 0; top: 0; transition: 0s;"; n.resizeSensor.style.cssText = r; n.resizeSensor.innerHTML = '<div class="resize-sensor-expand" style="' + r + '"><div style="' + e + '"><\/div><\/div><div class="resize-sensor-shrink" style="' + r + '"><div style="' + e + ' width: 200%; height: 200%"><\/div><\/div>'; n.appendChild(n.resizeSensor); n.resizeSensor.offsetParent !== n && (n.style.position = "relative"); var u = n.resizeSensor.childNodes[0], a = u.childNodes[0], o = n.resizeSensor.childNodes[1], s, h, c, l, v = n.offsetWidth, y = n.offsetHeight, p = function () { a.style.width = "100000px"; a.style.height = "100000px"; u.scrollLeft = 1e5; u.scrollTop = 1e5; o.scrollLeft = 1e5; o.scrollTop = 1e5 }; p(); var k = function () { (h = 0, s) && (v = c, y = l, n.resizedAttached && n.resizedAttached.call()) }, w = function () { c = n.offsetWidth; l = n.offsetHeight; s = c != v || l != y; s && !h && (h = t(k)); p() }, b = function (n, t, i) { n.attachEvent ? n.attachEvent("on" + t, i) : n.addEventListener(t, i) }; b(u, "scroll", w); b(o, "scroll", w) } } i(r, function (n) { e(n, u) }); this.detach = function (t) { n.detach(r, t) } }, n.detach = function (n, t) { i(n, function (n) { n && (n.resizedAttached && typeof t == "function" && (n.resizedAttached.remove(t), n.resizedAttached.length()) || n.resizeSensor && (n.contains(n.resizeSensor) && n.removeChild(n.resizeSensor), delete n.resizeSensor, delete n.resizedAttached)) }) }, n) }); $(function () { "use strict"; var r = GMaps.staticMapURL({ size: [600, 400], zoom: 14, lat: 40.702247, lng: -73.996349, key: "AIzaSyAEt_DBLTknLexNbTVwbXyq2HSf2UbRBU8", styles: [{ featureType: "water", stylers: [{ saturation: 43 }, { lightness: -11 }, { hue: "#0088ff" }] }, { featureType: "road", elementType: "geometry.fill", stylers: [{ hue: "#ff0000" }, { saturation: -100 }, { lightness: 99 }] }, { featureType: "road", elementType: "geometry.stroke", stylers: [{ color: "#808080" }, { lightness: 54 }] }, { featureType: "landscape.man_made", elementType: "geometry.fill", stylers: [{ color: "#ece2d9" }] }, { featureType: "poi.park", elementType: "geometry.fill", stylers: [{ color: "#ccdca1" }] }, { featureType: "road", elementType: "labels.text.fill", stylers: [{ color: "#767676" }] }, { featureType: "road", elementType: "labels.text.stroke", stylers: [{ color: "#ffffff" }] }, { featureType: "poi", stylers: [{ visibility: "off" }] }, { featureType: "landscape.natural", elementType: "geometry.fill", stylers: [{ visibility: "on" }, { color: "#b8cb93" }] }, { featureType: "poi.park", stylers: [{ visibility: "on" }] }, { featureType: "poi.sports_complex", stylers: [{ visibility: "on" }] }, { featureType: "poi.medical", stylers: [{ visibility: "on" }] }, { featureType: "poi.business", stylers: [{ visibility: "simplified" }] }] }), n, t, i; $('<img class="img-fluid" alt="">').attr("src", r).appendTo("#map1"); n = new Rickshaw.Graph({ element: document.querySelector("#rs1"), renderer: "area", series: [{ data: [{ x: 0, y: 13 }, { x: 1, y: 12 }, { x: 2, y: 10 }, { x: 3, y: 11 }, { x: 4, y: 12 }, { x: 5, y: 10 }, { x: 6, y: 12 }, { x: 7, y: 10 }, { x: 8, y: 12 }, { x: 9, y: 14 }, { x: 10, y: 8 }, { x: 11, y: 15 }, { x: 12, y: 7 }, { x: 13, y: 10 }], color: "#6F42C5" }] }); n.render(); new ResizeSensor($(".slim-mainpanel"), function () { n.configure({ width: $("#rs1").width(), height: $("#rs1").height() }); n.render() }); t = new Rickshaw.Graph({ element: document.querySelector("#rs2"), renderer: "bar", series: [{ data: [{ x: 0, y: 5 }, { x: 1, y: 7 }, { x: 2, y: 10 }, { x: 3, y: 11 }, { x: 4, y: 12 }, { x: 5, y: 10 }, { x: 6, y: 9 }, { x: 7, y: 7 }, { x: 8, y: 6 }, { x: 9, y: 8 }, { x: 10, y: 9 }, { x: 11, y: 10 }, { x: 12, y: 7 }, { x: 13, y: 10 }], color: "#5B93DB" }] }); t.render(); new ResizeSensor($(".slim-mainpanel"), function () { t.configure({ width: $("#rs2").width(), height: $("#rs2").height() }); t.render() }); i = new Rickshaw.Graph({ element: document.querySelector("#rs3"), renderer: "line", series: [{ data: [{ x: 0, y: 5 }, { x: 1, y: 7 }, { x: 2, y: 10 }, { x: 3, y: 11 }, { x: 4, y: 12 }, { x: 5, y: 10 }, { x: 6, y: 9 }, { x: 7, y: 7 }, { x: 8, y: 6 }, { x: 9, y: 8 }, { x: 10, y: 9 }, { x: 11, y: 10 }, { x: 12, y: 7 }, { x: 13, y: 10 }], color: "#1B84E7" }] }); i.render(); new ResizeSensor($(".slim-mainpanel"), function () { i.configure({ width: $("#rs3").width(), height: $("#rs3").height() }); i.render() }); $(".peity-donut").peity("donut") })